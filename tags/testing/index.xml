<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Testing on Martin Liu's Blog</title><link>https://martinliu.cn/tags/testing/</link><description>Recent content in Testing on Martin Liu's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sun, 09 Oct 2022 21:44:15 +0800</lastBuildDate><atom:link href="https://martinliu.cn/tags/testing/index.xml" rel="self" type="application/rss+xml"/><item><title>Hyperic HQ Engerprise 3.1.4 测试报告</title><link>https://martinliu.cn/2008/01/12/hyperic-hq-engerprise-testing/</link><pubDate>Sat, 12 Jan 2008 15:26:00 +0000</pubDate><guid>https://martinliu.cn/2008/01/12/hyperic-hq-engerprise-testing/</guid><description>&lt;h2 id="多系统跨平台支持">多系统/跨平台支持
&lt;/h2>&lt;p>&lt;!-- raw HTML omitted -->如下图所示，我安装了并运行了四个代理程序。HQ 的服务器是安装在我的笔记本上的是 Windows XP 平台的。HQ 管理服务器在 windows 下的安装是非常简单的，两分钟就能完成。安装包中包括了 Jboss 和 PostgreSQL。其它三个测试的代理程序分别安装在 OpenSUSE Linux 10.3 （VM），AIX 5.3 和 Solaris 10 （5.10），代理程序的安装过程非常简单，需要注意的是保证代理和管理服务器的时钟同步。否则数据收集和显示的时间会错位。&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;a class="link" href="http://lh6.google.com/liuzh66/R4jdaICli_I/AAAAAAAAAXw/60GWpjl3PMA/image6.png" target="_blank" rel="noopener"
>&lt;img src="http://lh6.google.com/liuzh66/R4jdaICli_I/AAAAAAAAAXw/60GWpjl3PMA/image6.png"
loading="lazy"
alt="image"
>&lt;/a>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->对不同平台的数据采集是不同的，代理能根据操作系统而已采集不同的数据指标；比如 CPU 的监控指标 windows、linux，Aix 和 Sun 都有细微差别。&lt;!-- raw HTML omitted -->&lt;/p>
&lt;h2 id="dashboard-首页仪表盘">Dashboard 首页－－仪表盘
&lt;/h2>&lt;p>&lt;!-- raw HTML omitted -->HQ 登陆后的首页，第一个感觉是－专业。算是一个 Portal 门户界面。页面顶端是最新的两个报警信息，和水平导航条。右边的模块有：资源搜索、保存的资源图、可用性图和最近增加的平台等。右边的模块有：自动发现、最爱资源，最近报警、控制动作问题资源和监控指标视图等。整体来看：所有的模块都可以配置、拖拽、添加和删除；您可以按照自己的喜好设置布局。对于网管来说：最近报警、和问题资源和监控指标视图应该是非常重要的；通过这些内容可以立刻了解到所关心的资源和服务的整体状况。&lt;!-- raw HTML omitted -->&lt;/p>
&lt;h2 id="浏览资源">浏览资源
&lt;/h2>&lt;p>&lt;!-- raw HTML omitted -->Platforms 平台－－四个监控对象：所显示的是所有被监控对象，HQ 主要是 Agent based 的监控方式，当然也可以通过 snmp 方式监控网络设备，不过这个我没测过它监控网络设备的能力。我安装测试的是 HQ 企业版，所以我只能监控到 4 个被监控对象；当然如果是付费用户的话就可以增加被管理目标的数量了，多话钱是肯定的了；好像 HQ 是按照被监控节点的数量收钱的。测试这个企业版的目的是，浏览一下它所有的功能，下面所说的有些功能是企业版才有的开源版本是没有的。&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Servers 服务器－－21 被管理服务器：HQ 的自动发现功能不仅能发现到服务器上的基础资源（CPU、文件系统和网络）；还能自动发现被监控平台上的数据库、web 和 App 服务等。这些服务有的是需要一些配置才能采集到数据的，例如对数据库的监控，MySQL 需要在 HQ 服务器上输入一个 MySQL 的用户名和密码（密码不能为空），这个用户需要有能运行 status 命令的权限。Oracle 数据库需要按照 HQ 页面上的提示在数据库实例上，用 DBA 的权限运行一个命令，也建立一个用户。代理程序是通过这个用户通过 JDBC 链接到数据库上采集监控指标的。对于 Apache 来说，是需要配置 Status 模块的。HQ 也算得上是单一代理的监控方式了，这一个特性是非常重要的；和 BMC 公司的 Patrol 产品有些相似。单一代理能很好的降低被监控服务器的额外负担。&lt;!-- raw HTML omitted -->&lt;/p>
&lt;h2 id="告警事件规则">告警事件规则
&lt;/h2>&lt;p>&lt;!-- raw HTML omitted -->默认情况下所有 HQ 里没有任何一个报警规则的。不过你可在它的问题资源模块上看到 OOB 次数。OOB 是 Out Of Bound 的简称，意思是超出边界，那么边界在那？边界在 Baseline 上，baseline 会在每几天算一次，它并不是平均值，某个监控资源的实际忙闲程度水平的参考面。例如如果你的 CPU 平时都不超过 30％的话，它的基线可能是 20％，如果某次采样数据是 24％了，OOB 的数量就被加一；它表明该资源的使用异常了，需要引起你的注意了。HQ 企版可以设定固定 fix 阀值，也可以设定动态阀值。所谓让很多企业级用户梦寐以求的动态阀值，其实就是比对 BaseLine 来报警的机制。HQ 的报警规则可以是：例如 CPU 使用率超出 Baseline 的 15％；那么这样 CPU 使用率的报警范围就是动态的了。报警规则的设置可以根据不同的 platform 而定，可以给某了 platform 定义一套默认的规则级应用到所有监控对象上。还能在某个监控对象上设置特殊的报警规则。报警条件可以是多条件的逻辑判断。报警事件可以每次触发时都发出，也可以在某个时间段上持续到达多少次才发出，发出的告警信息可以发给某个人或者某组人，还能在时间内升级等。显然这就是某些用户梦想中的事件压缩、峰值抑制、事件升级等功能。HQ 的企业版还能从事件上触发 Action。&lt;!-- raw HTML omitted -->&lt;/p>
&lt;h2 id="报表中心">报表中心
&lt;/h2>&lt;p>&lt;!-- raw HTML omitted -->默认的报表好像是有 7 个，可以输出成 PDF，excel，csv 和 html 格式。不得不说的是 HQ 的数据采集方式应该是从 HQ 服务器上向 Agent 发起的，取得了数据后，保存在 Postgresql 数据库中。HQ 服务器端保存了所有数据，不过如果在某个时间端，HQ 服务器不能和 agent 通信的话，这段数据就是空白的。这一点可呢功能和所有其它开源软件都一样。而 CA 的 UDPM 和 BMC 的 Patrol 是不同的，Agent 采集到的数据可以短期的保存在被管服务器端；采集数据的连续性不受网络影响。&lt;!-- raw HTML omitted -->&lt;/p>
&lt;h2 id="总结">总结
&lt;/h2>&lt;p>&lt;!-- raw HTML omitted -->HQ 企业版的功能太强大了，可以与商业软件媲美；单基于 Baseline 的动态阀值报警就是 Big four 所不能提供的。不过企业版是不能用的：虽然能使用到所有功能，不过只能监控 4 个服务器。在浏览 HQ 网站文档的时候，某个功能如果后面有一个红色的星号，那么它就是企业版的功能，需要付费使用了。不过它开源版的功能已经非常不错了，而且有这么优秀的一个框架使用；能支持二次开发和扩展。下次在提供一个开源版的测试报告。&lt;/p></description></item></channel></rss>