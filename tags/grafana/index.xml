<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Grafana on Martin Liu's Blog</title><link>https://martinliu.cn/tags/grafana/</link><description>Recent content in Grafana on Martin Liu's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Fri, 22 Aug 2025 11:05:55 +0800</lastBuildDate><atom:link href="https://martinliu.cn/tags/grafana/index.xml" rel="self" type="application/rss+xml"/><item><title>Grafana Cloud 推出多项更新：AI 驱动工具、秘钥管理强化安全性，以及更多功能</title><link>https://martinliu.cn/blog/grafana-cloud-updates-onboard-teams-with-new-ai-powered-tooling-secrets-management-for-enhanced-security/</link><pubDate>Thu, 21 Aug 2025 16:55:49 +0800</pubDate><guid>https://martinliu.cn/blog/grafana-cloud-updates-onboard-teams-with-new-ai-powered-tooling-secrets-management-for-enhanced-security/</guid><description>&lt;img src="https://martinliu.cn/blog/grafana-cloud-updates-onboard-teams-with-new-ai-powered-tooling-secrets-management-for-enhanced-security/cloud-updates-aug-2025.png" alt="Featured image of post Grafana Cloud 推出多项更新：AI 驱动工具、秘钥管理强化安全性，以及更多功能" />&lt;blockquote>
&lt;p>From: &lt;a class="link" href="https://grafana.com/blog/2025/08/20/grafana-cloud-updates-onboard-teams-with-new-ai-powered-tooling-secrets-management-for-enhanced-security-and-more/" target="_blank" rel="noopener"
>Grafana Labs Blog&lt;/a>&lt;/p>&lt;/blockquote>
&lt;p>我们持续为 Grafana Cloud 推出实用更新和新特性。Grafana Cloud 是一款由开源的 Grafana LGTM Stack 提供支持的全托管可观测性平台，其中包括 &lt;a class="link" href="https://grafana.com/oss/loki/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>Loki&lt;/a>（日志）、&lt;a class="link" href="https://grafana.com/oss/grafana/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>Grafana&lt;/a>（可视化）、&lt;a class="link" href="https://grafana.com/oss/tempo/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>Tempo&lt;/a>（链路追踪）和 &lt;a class="link" href="https://grafana.com/oss/mimir/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>Mimir&lt;/a>（指标监控）。&lt;/p>
&lt;p>还不是 Grafana Cloud 用户？&lt;a class="link" href="https://grafana.com/auth/sign-up/create-user/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>立即注册&lt;/a> 账户，使用我们的 Cloud Free 免费计划即可试用所有功能。&lt;/p>
&lt;h2 id="更轻松上手-grafana-cloudgrafana-assistant-现已开放公开预览">更轻松上手 Grafana Cloud：Grafana Assistant 现已开放公开预览
&lt;/h2>&lt;p>在 Grafana Labs，我们始终&lt;a class="link" href="https://grafana.com/blog/2025/08/14/ai-in-observability-at-grafana-labs-making-observability-easy-and-accessible-for-everyone/" target="_blank" rel="noopener"
>坚信&lt;/a>，AI 不只是可观测性领域的一时潮流，它将在未来成为保障系统稳定运行的重要基石。&lt;/p>
&lt;p>这一理念也持续推动我们构建新的工具。例如，本月我们很高兴宣布：Grafana Assistant——一款嵌入于 Grafana Cloud 的 AI 助手，现已进入公开预览阶段。它支持自然语言操作，帮助你更高效地进行查询、构建和故障排查。&lt;/p>
&lt;p>Grafana Assistant 可简化常见的工作流程，比如编写 PromQL、LogQL 或 TraceQL 查询，以及创建仪表盘等，同时始终让你掌控操作过程。它能帮助你减少重复性工作，提升整体效率，包括：&lt;/p>
&lt;ul>
&lt;li>更快速地编写和调试查询语句&lt;/li>
&lt;li>构建并优化可视化仪表盘&lt;/li>
&lt;li>排查系统问题与异常&lt;/li>
&lt;li>分析观测数据中的趋势与模式&lt;/li>
&lt;li>更直观地使用 Grafana 界面&lt;/li>
&lt;li>降低团队上手门槛，加速使用流程&lt;/li>
&lt;/ul>
&lt;p>想深入了解 Grafana Assistant 的功能和应用场景，欢迎访问&lt;a class="link" href="https://grafana.com/docs/grafana-cloud/machine-learning/assistant/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>官方文档&lt;/a>。&lt;/p>
&lt;h2 id="安全凭证管理grafana-cloud-synthetic-monitoring-引入密钥管理功能">安全凭证管理：Grafana Cloud Synthetic Monitoring 引入密钥管理功能
&lt;/h2>&lt;p>随着基础设施的不断扩展，安全管理可观测性系统中的 API 密钥、密码、Token 等敏感信息也变得愈发复杂和重要。&lt;/p>
&lt;p>为了解决这一问题，我们本月在 Grafana Cloud 中&lt;a class="link" href="https://grafana.com/whats-new/2025-08-12-secrets-management-for-synthetic-monitoring/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>推出了机密管理功能&lt;/a>，目前已开放公开预览。该功能为 API 密钥、密码、Token 和凭证等数据提供了集中化、安全存储与统一管理的能力。首个集成此功能的产品是 Synthetic Monitoring。&lt;/p>
&lt;p>借助 Grafana Cloud Synthetic Monitoring 中的机密管理，你可以：&lt;/p>
&lt;ul>
&lt;li>创建密钥，并附加描述、标签等元数据信息&lt;/li>
&lt;li>在 &lt;a class="link" href="https://grafana.com/docs/grafana-cloud/testing/synthetic-monitoring/create-checks/checks/k6/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>k6 脚本型&lt;/a> 和 &lt;a class="link" href="https://grafana.com/docs/grafana-cloud/testing/synthetic-monitoring/create-checks/checks/k6-browser/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>k6 浏览器型&lt;/a> 检查中通过名称引用密钥&lt;/li>
&lt;li>重置或吊销已有的密钥&lt;/li>
&lt;/ul>
&lt;p>当前，密钥的创建、修改和删除权限仅限于管理员用户。不过，只要用户具备检查项的编辑权限，且知晓密钥名称，即可在相应脚本中调用密钥。&lt;/p>
&lt;p>&lt;img src="https://martinliu.cn/blog/grafana-cloud-updates-onboard-teams-with-new-ai-powered-tooling-secrets-management-for-enhanced-security/secrets-management-config.png"
width="1999"
height="869"
srcset="https://martinliu.cn/blog/grafana-cloud-updates-onboard-teams-with-new-ai-powered-tooling-secrets-management-for-enhanced-security/secrets-management-config_hu_1ae2fcd11c9782aa.png 480w, https://martinliu.cn/blog/grafana-cloud-updates-onboard-teams-with-new-ai-powered-tooling-secrets-management-for-enhanced-security/secrets-management-config_hu_b7548a6896b7c.png 1024w"
loading="lazy"
alt="Synthetic Monitoring 用户界面截图，左侧显示“创建密钥”对话框，右侧是“密钥管理”部分。"
class="gallery-image"
data-flex-grow="230"
data-flex-basis="552px"
>&lt;/p>
&lt;p>Synthetic Monitoring 用户界面截图，左侧显示“创建密钥”对话框，右侧是“密钥管理”部分。&lt;/p>
&lt;p>目前，密钥仅支持在脚本型和浏览器型检查中使用，但未来将扩展支持更多类型的监控检查。&lt;/p>
&lt;p>如需详细了解，请查阅我们的&lt;a class="link" href="https://grafana.com/blog/2025/08/20/secure-credential-storage-for-your-observability-stack-introducing-secrets-management-in-grafana-cloud/" target="_blank" rel="noopener"
>博客文章&lt;/a>与&lt;a class="link" href="https://grafana.com/docs/grafana-cloud/testing/synthetic-monitoring/create-checks/manage-secrets/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>密钥管理官方文档&lt;/a>。&lt;/p>
&lt;h2 id="llm-驱动的追踪数据洞察grafana-cloud-traces-现已支持-mcp-协议">LLM 驱动的追踪数据洞察：Grafana Cloud Traces 现已支持 MCP 协议
&lt;/h2>&lt;p>分布式追踪数据是一种独特而强大的可观测性信号，能够帮助你深入了解系统中服务之间的交互关系。然而，将这些原始数据转化为可操作的洞察往往充满挑战。&lt;/p>
&lt;p>为此，我们在由 &lt;a class="link" href="https://grafana.com/oss/tempo/" target="_blank" rel="noopener"
>Grafana Tempo&lt;/a> 驱动的全托管分布式追踪系统 &lt;a class="link" href="https://grafana.com/products/cloud/traces/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>Grafana Cloud Traces&lt;/a> 中，现已&lt;a class="link" href="https://grafana.com/whats-new/2025-08-08-access-tracing-data-using-mcp-server-in-grafana-cloud-traces/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>新增对 Model Context Protocol（MCP）&lt;/a> 的原生支持。&lt;/p>
&lt;p>&lt;a class="link" href="https://modelcontextprotocol.io/overview" target="_blank" rel="noopener"
>MCP 协议&lt;/a> 是由 Anthropic 推出的标准协议，广泛用于定义应用程序如何向大语言模型（Large Language Model，LLM）提供上下文信息。通过将 MCP 集成进 Grafana Cloud Traces，你现在可以使用如 &lt;a class="link" href="https://www.anthropic.com/claude-code" target="_blank" rel="noopener"
>Claude Code&lt;/a> 和 &lt;a class="link" href="https://cursor.com/en" target="_blank" rel="noopener"
>Cursor&lt;/a> 等基于 LLM 的工具，更高效地分析追踪数据并获取深度洞察。&lt;/p>
&lt;p>具体来说，这项集成可以帮助你：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>探索服务结构与交互&lt;/strong>：通过 LLM 分析追踪数据，新入职的开发者可以快速了解系统中服务之间的调用关系。&lt;/li>
&lt;li>&lt;strong>快速定位与诊断问题&lt;/strong>：LLM 可辅助识别调用链中的异常或错误，加快问题定位流程。&lt;/li>
&lt;li>&lt;strong>优化性能，降低延迟&lt;/strong>：通过分析链路数据，LLM 可帮助识别延迟瓶颈，指导优化策略。&lt;/li>
&lt;/ul>
&lt;p>要在 Grafana Cloud Traces 中配置 LLM 智能体，需要提供 Grafana Cloud API Token 并完成相应的&lt;a class="link" href="https://grafana.com/docs/grafana-cloud/send-data/traces/mcp-server/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>配置流程&lt;/a>。该功能目前处于公开预览阶段。&lt;/p>
&lt;p>如需进一步了解 MCP 支持及其使用方式，请参阅我们的&lt;a class="link" href="https://grafana.com/blog/2025/08/13/llm-powered-insights-into-your-tracing-data-introducing-mcp-support-in-grafana-cloud-traces/" target="_blank" rel="noopener"
>博客文章&lt;/a>和&lt;a class="link" href="https://grafana.com/docs/grafana-cloud/send-data/traces/mcp-server/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>技术文档&lt;/a>。&lt;/p>
&lt;h2 id="安全访问私有数据源tailscale-与-grafana-cloud-全新集成上线">安全访问私有数据源：Tailscale 与 Grafana Cloud 全新集成上线
&lt;/h2>&lt;p>我们深知，用户在希望通过 Grafana Cloud 实现数据可视化和洞察分析的同时，也极为关注数据源的私密性与安全性。&lt;/p>
&lt;p>为此，我们推出了全新的 &lt;a class="link" href="https://tailscale.com/" target="_blank" rel="noopener"
>Tailscale&lt;/a> 与 Grafana Cloud 集成方案。该集成现已开启私密预览，允许你通过 &lt;a class="link" href="https://grafana.com/docs/grafana-cloud/connect-externally-hosted/private-data-source-connect/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>Private Data Source Connect&lt;/a>，从 Grafana Cloud 直接安全访问位于 Tailscale 网络（称为 &lt;a class="link" href="https://tailscale.com/kb/1136/tailnet" target="_blank" rel="noopener"
>tailnet&lt;/a>）中的数据源。&lt;/p>
&lt;p>&lt;img src="https://martinliu.cn/blog/grafana-cloud-updates-onboard-teams-with-new-ai-powered-tooling-secrets-management-for-enhanced-security/maxresdefault.jpg"
width="1280"
height="720"
srcset="https://martinliu.cn/blog/grafana-cloud-updates-onboard-teams-with-new-ai-powered-tooling-secrets-management-for-enhanced-security/maxresdefault_hu_d914b1eeb9a13d34.jpg 480w, https://martinliu.cn/blog/grafana-cloud-updates-onboard-teams-with-new-ai-powered-tooling-secrets-management-for-enhanced-security/maxresdefault_hu_ab64baf43f9b3188.jpg 1024w"
loading="lazy"
alt="YouTube 视频"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;p>该集成带来的关键优势包括：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>安全私密的数据访问&lt;/strong>：借助 Tailscale，无需将数据源暴露在公网环境中，即可安全地进行查询操作。&lt;/li>
&lt;li>&lt;strong>配置简便，减少运维负担&lt;/strong>：使用 Tailscale 搭配 Private Data Source Connect，无需部署 PDC agent。你只需通过 MagicDNS 填写数据源的 tailnet 地址或机器名，并提供 Tailscale 授权密钥，即可完成连接。&lt;/li>
&lt;li>&lt;strong>扩展 Grafana Cloud 的可观测性覆盖&lt;/strong>：相比自托管方案，Grafana Cloud 提供更强大的可观测能力和使用便捷性。你可以在任何地点访问私有网络中的数据源，特别适合远程办公和分布式团队。&lt;/li>
&lt;/ul>
&lt;p>想了解该集成的更多细节及使用方式，欢迎阅读&lt;a class="link" href="https://grafana.com/blog/2025/07/24/securely-query-data-sources-on-your-tailscale-network-using-private-data-source-connect-in-grafana-cloud/" target="_blank" rel="noopener"
>官方博客&lt;/a>，以及查阅我们的 &lt;a class="link" href="https://grafana.com/docs/grafana-cloud/connect-externally-hosted/private-data-source-connect/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>Private Data Source Connect 文档&lt;/a>。&lt;/p>
&lt;h2 id="前端可观测性新增开箱即用告警功能">前端可观测性新增开箱即用告警功能
&lt;/h2>&lt;p>&lt;a class="link" href="https://grafana.com/products/cloud/frontend-observability-for-real-user-monitoring/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>Grafana Cloud Frontend Observability&lt;/a> 是我们为 Web 应用推出的真实用户监测（Real User Monitoring，RUM）托管服务，能够即时提供清晰且可操作的终端用户体验洞察。&lt;/p>
&lt;p>本月，配置前端可观测性告警的流程变得更加轻松便捷。&lt;/p>
&lt;p>随着开箱即用的告警功能&lt;a class="link" href="https://grafana.com/whats-new/2025-07-22-frontend-observability-out-of-the-box-alerting/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>正式发布&lt;/a>，Grafana Cloud Frontend Observability 向前迈出了重要一步，即使是首次使用 Grafana 告警功能的用户，也可以通过 &lt;a class="link" href="https://grafana.com/docs/grafana/latest/alerting/alerting-rules/create-grafana-managed-rule/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>Grafana 托管告警&lt;/a> 快速上手，无需预先了解复杂的配置流程。&lt;/p>
&lt;p>&lt;img src="https://martinliu.cn/blog/grafana-cloud-updates-onboard-teams-with-new-ai-powered-tooling-secrets-management-for-enhanced-security/maxresdefault.jpg"
width="1280"
height="720"
srcset="https://martinliu.cn/blog/grafana-cloud-updates-onboard-teams-with-new-ai-powered-tooling-secrets-management-for-enhanced-security/maxresdefault_hu_d914b1eeb9a13d34.jpg 480w, https://martinliu.cn/blog/grafana-cloud-updates-onboard-teams-with-new-ai-powered-tooling-secrets-management-for-enhanced-security/maxresdefault_hu_ab64baf43f9b3188.jpg 1024w"
loading="lazy"
alt="YouTube 视频"
class="gallery-image"
data-flex-grow="177"
data-flex-basis="426px"
>&lt;/p>
&lt;p>借助简化的工作流，你可以：&lt;/p>
&lt;ul>
&lt;li>基于 Web 应用中的错误或 Web Vitals 指标启用并配置告警&lt;/li>
&lt;li>快速定位并排查前端问题，因告警规则由系统自动配置与管理&lt;/li>
&lt;li>编写可复用模板，拓展前端告警策略的覆盖范围&lt;/li>
&lt;/ul>
&lt;p>想了解更多详细内容，请访问我们的 &lt;a class="link" href="https://grafana.com/docs/grafana-cloud/monitor-applications/frontend-observability/alerting/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>Frontend Observability 文档&lt;/a>。&lt;/p>
&lt;h2 id="grafana-cloud-irm-事件管理功能全面升级">Grafana Cloud IRM 事件管理功能全面升级
&lt;/h2>&lt;h3 id="快速通报事件状态更新">快速通报事件状态更新
&lt;/h3>&lt;p>在 &lt;a class="link" href="https://grafana.com/blog/2025/03/11/oncall-management-incident-response-grafana-cloud-irm/" target="_blank" rel="noopener"
>Grafana Cloud IRM&lt;/a> 中，你现在可以为事件添加结构化的&lt;a class="link" href="https://grafana.com/whats-new/2025-07-23-communicate-incident-status-updates-with-grafana-irm/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>状态更新&lt;/a>，帮助团队与干系人实时掌握处理进展。&lt;/p>
&lt;p>状态更新贯穿整个事件生命周期，无论是确认影响、交由其他团队处理，还是完成事件解决，都能以统一格式高效传递关键信息，提升沟通透明度。&lt;/p>
&lt;p>你可以直接在 Web 界面中添加状态更新，或在关联的 Slack 事件频道中使用以下指令：&lt;/p>
&lt;ul>
&lt;li>&lt;code>/grafana incident update add &amp;lt;内容&amp;gt;&lt;/code>：发布新的状态更新&lt;/li>
&lt;li>&lt;code>/grafana incident update&lt;/code>：查看最新状态更新&lt;/li>
&lt;/ul>
&lt;p>该功能现已全面上线。只需打开任一事件页面，在 &lt;strong>活动时间轴（activity timeline）&lt;/strong> 中找到 &lt;strong>状态更新（Status updates）&lt;/strong> 区域即可使用。如需了解详情，请查阅&lt;a class="link" href="https://grafana.com/docs/grafana-cloud/alerting-and-irm/irm/use/incident-management/status-updates/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>使用指南&lt;/a>。&lt;/p>
&lt;h3 id="全新-webhook-集成体验">全新 Webhook 集成体验
&lt;/h3>&lt;p>Grafana Cloud IRM 的外发 Webhook 现已支持事件相关触发器，为自动化告警分组和事件处理提供更强大的统一工作流管理能力。你可在 &lt;strong>Outgoing Webhooks&lt;/strong> 配置页中设置，在事件声明、更新或解决时自动触发请求。&lt;/p>
&lt;p>新版本 Webhook 支持以下能力：&lt;/p>
&lt;ul>
&lt;li>支持任意 HTTP 方法，灵活配置请求&lt;/li>
&lt;li>URL、Header、请求体均可模板化定义&lt;/li>
&lt;li>可动态引用事件数据和先前 Webhook 响应结果&lt;/li>
&lt;li>可在事件或告警分组时间轴中直接查看执行记录&lt;/li>
&lt;li>支持使用 Terraform 进行配置管理&lt;/li>
&lt;/ul>
&lt;p>现有旧版 Incident Outgoing Webhooks 及其配置仍可继续使用。但为获得更好的功能体验和长期支持，我们建议迁移至新版统一 Webhook 集成。&lt;/p>
&lt;p>更多信息请参阅&lt;a class="link" href="https://grafana.com/docs/grafana-cloud/alerting-and-irm/irm/configure/integrations/webhooks/outgoing-webhooks/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>官方文档&lt;/a>。&lt;/p>
&lt;h2 id="grafana-cloud-k6-正式支持扩展机制现已全面上线">Grafana Cloud k6 正式支持扩展机制，现已全面上线
&lt;/h2>&lt;p>我们正式推出 &lt;a class="link" href="https://grafana.com/products/cloud/k6/" target="_blank" rel="noopener"
>Grafana Cloud k6&lt;/a> 的扩展功能支持！Grafana Cloud k6 是一款基于 &lt;a class="link" href="https://grafana.com/docs/k6/latest/" target="_blank" rel="noopener"
>Grafana k6&lt;/a> 构建的托管性能测试平台，适用于多种测试场景。&lt;/p>
&lt;p>通过 &lt;a class="link" href="https://grafana.com/docs/k6/latest/extensions/" target="_blank" rel="noopener"
>k6 扩展机制&lt;/a>，你可以扩展 k6 的核心功能。开源版本用户需自行编写扩展并重新编译 k6，而在 Grafana Cloud k6 中，你可直接使用平台支持的一部分扩展模块，无需构建自定义二进制文件。&lt;/p>
&lt;p>你可以通过以下方式灵活执行测试脚本：&lt;/p>
&lt;ul>
&lt;li>本地运行测试：&lt;code>k6 run test.js&lt;/code>&lt;/li>
&lt;li>在云端运行测试：&lt;code>k6 cloud run test.js&lt;/code>&lt;/li>
&lt;li>本地运行并将测试结果实时传输到云端：&lt;code>k6 cloud run test.js --local-execution&lt;/code>&lt;/li>
&lt;/ul>
&lt;p>如需进一步了解扩展功能和使用方式，请访问&lt;a class="link" href="https://grafana.com/whats-new/2025-08-18-extensions-and-version-support-in-grafana-cloud-k6/" target="_blank" rel="noopener"
>官方公告&lt;/a>。&lt;/p>
&lt;h2 id="grafana-cloud-全新-enterprise-数据源与集成支持上线">Grafana Cloud 全新 Enterprise 数据源与集成支持上线
&lt;/h2>&lt;p>我们还新增了多项集成与 Enterprise 数据源，帮助你进一步扩展 Grafana Cloud 的可观测能力。&lt;/p>
&lt;h3 id="使用-anthropic-集成监控-claude-模型的使用与成本">使用 Anthropic 集成监控 Claude 模型的使用与成本
&lt;/h3>&lt;p>全新发布的 &lt;a class="link" href="https://grafana.com/blog/2025/08/19/how-to-monitor-claude-usage-and-costs-introducing-the-anthropic-integration-for-grafana-cloud/" target="_blank" rel="noopener"
>Anthropic 集成&lt;/a> 允许你直接在 Grafana Cloud 中连接 &lt;a class="link" href="https://docs.anthropic.com/en/api/admin-api/usage-cost" target="_blank" rel="noopener"
>Anthropic Usage and Cost API&lt;/a>，实时监控 Claude 系列大语言模型（Large Language Models, LLM）的使用情况与开销。&lt;/p>
&lt;p>通过这一集成，你可以在统一平台中查看 Claude 模型的调用频率、响应时间和累计费用，配套的预设仪表盘与告警机制可帮助你迅速启动监控并及时采取优化措施。&lt;/p>
&lt;p>详细信息请参阅&lt;a class="link" href="https://grafana.com/docs/grafana-cloud/monitor-infrastructure/integrations/integration-reference/integration-anthropic/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>官方文档&lt;/a>。&lt;/p>
&lt;h3 id="可视化-jenkins-数据指标">可视化 Jenkins 数据指标
&lt;/h3>&lt;p>全新上线的 &lt;a class="link" href="https://grafana.com/grafana/plugins/grafana-jenkins-datasource/?pg=blog&amp;amp;plcmt=body-txt" target="_blank" rel="noopener"
>Jenkins Enterprise 数据源&lt;/a> 现已支持在 Grafana Cloud 和 Grafana Enterprise 中，查询并展示 &lt;a class="link" href="https://www.jenkins.io/" target="_blank" rel="noopener"
>Jenkins&lt;/a> 自动化服务器中的性能指标。Jenkins 是开源的持续集成（CI）/持续部署（CD）平台，用于项目的构建与发布管理。&lt;/p>
&lt;p>该数据源内置两个预设仪表盘，助你快速上手 Jenkins 数据可视化：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Jenkins 概览仪表盘&lt;/strong>：展示整个 Jenkins 实例的运行状况，包括所有项目、节点、执行器状态和构建队列等信息。&lt;/li>
&lt;li>&lt;strong>Jenkins DORA 指标仪表盘&lt;/strong>：聚焦衡量研发效能的四项核心指标：部署频率、变更交付时长、变更失败率与服务恢复时间。&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://martinliu.cn/blog/grafana-cloud-updates-onboard-teams-with-new-ai-powered-tooling-secrets-management-for-enhanced-security/jenkins-enterprise-data-source-dashboard.png"
width="1999"
height="901"
srcset="https://martinliu.cn/blog/grafana-cloud-updates-onboard-teams-with-new-ai-powered-tooling-secrets-management-for-enhanced-security/jenkins-enterprise-data-source-dashboard_hu_beaea5497adc63f2.png 480w, https://martinliu.cn/blog/grafana-cloud-updates-onboard-teams-with-new-ai-powered-tooling-secrets-management-for-enhanced-security/jenkins-enterprise-data-source-dashboard_hu_779fa88d3e6005ad.png 1024w"
loading="lazy"
alt="Grafana 仪表盘截图，展示四个图表：部署频率、变更交付时间、变更失败率和 30 天内服务恢复时间。"
class="gallery-image"
data-flex-grow="221"
data-flex-basis="532px"
>&lt;/p></description></item><item><title>Grafana 12.1 正式发布！</title><link>https://martinliu.cn/blog/grafana-12-1-release-all-the-latest-features/</link><pubDate>Tue, 29 Jul 2025 14:34:27 +0800</pubDate><guid>https://martinliu.cn/blog/grafana-12-1-release-all-the-latest-features/</guid><description>&lt;img src="https://martinliu.cn/blog/grafana-12-1-release-all-the-latest-features/grafana-12.1-meta.png" alt="Featured image of post Grafana 12.1 正式发布！" />&lt;p>最新版本带来了多项新功能，简化了 &lt;strong>Grafana 实例（Grafana instances）&lt;/strong> 的管理方式，也优化了 &lt;strong>告警规则（alert rules）&lt;/strong> 的管理体验，方便你快速定位所需的告警内容。此外还有更多改进。&lt;/p>
&lt;p>以下是本次 Grafana 版本的一些亮点。如果你想了解本次发布的全部更新内容，请参考 &lt;a class="link" href="https://github.com/grafana/grafana/blob/main/CHANGELOG.md" target="_blank" rel="noopener"
>更新日志&lt;/a> 或 &lt;a class="link" href="https://grafana.com/docs/grafana/latest/whatsnew/whats-new-in-v12-1/?pg=blog&amp;amp;plcmt=body-txt&amp;amp;src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>新版功能文档&lt;/a>。&lt;/p>
&lt;h2 id="grafana-advisor智能化运维监控">Grafana Advisor：智能化运维监控
&lt;/h2>&lt;p>我们一直在探索降低运维负担的方法，帮助你更高效地进行维护与故障排查。因此，在 Grafana 12.1 中，我们很高兴地宣布 &lt;a class="link" href="https://grafana.com/whats-new/2025-07-22-keep-instances-running-smoothly-with-grafana-advisor/?pg=blog&amp;amp;plcmt=body-txt&amp;amp;src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>Grafana Advisor&lt;/a> —— 一个用于帮助管理员保持 Grafana 实例稳定和安全运行的监控工具 —— 现已进入公开预览阶段。&lt;/p>
&lt;p>&lt;strong>Grafana Advisor&lt;/strong> 最初在 Grafana 12 中作为实验性功能推出，如今它能够自动对你的 Grafana 服务器执行定期健康检查，提供可操作的洞见与建议，帮助你维持系统的最佳运行状态。&lt;/p>
&lt;p>目前，&lt;strong>Grafana Advisor&lt;/strong> 会定期检查 &lt;strong>数据源连接（data source connections）&lt;/strong>、&lt;strong>插件（plugins）&lt;/strong> 和 &lt;strong>SSO 设置（SSO settings）&lt;/strong>，未来版本中我们计划扩展其功能范围。&lt;/p>
&lt;p>在 &lt;strong>Grafana Cloud&lt;/strong> 中，Advisor 默认启用。若要在 &lt;strong>Grafana OSS&lt;/strong> 与 &lt;strong>Enterprise 版&lt;/strong> 中启用该功能，可通过配置开关 &lt;code>grafanaAdvisor&lt;/code> 实现。详情请参见我们的 &lt;a class="link" href="https://grafana.com/docs/grafana/latest/administration/grafana-advisor/?src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>技术文档&lt;/a>。&lt;/p>
&lt;h2 id="告警功能的重大升级">告警功能的重大升级
&lt;/h2>&lt;p>告警是任何可观测性策略中的关键组成部分。在 Grafana 12.1 中，我们带来了几项新的告警功能，包括重新设计的 &lt;strong>告警规则列表页面（alert rule list page）&lt;/strong>，帮助你以更可扩展、直观的方式管理告警。&lt;/p>
&lt;h3 id="全新设计的告警规则列表页面">全新设计的告警规则列表页面
&lt;/h3>&lt;p>&lt;em>适用于所有版本的 Grafana&lt;/em>&lt;/p>
&lt;p>在 &lt;a class="link" href="https://grafana.com/docs/grafana/latest/alerting/?src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>Grafana Alerting&lt;/a> 中，一个 &lt;a class="link" href="https://grafana.com/docs/grafana/latest/alerting/fundamentals/alert-rules/?src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>告警规则（alert rule）&lt;/a> 定义了触发告警的评估条件。你可能拥有数百甚至上千条这样的规则，而在本次发布中，我们通过完全 &lt;a class="link" href="https://grafana.com/whats-new/2025-07-15-alert-rule-list-page-updates/?src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>重新设计的规则列表页面&lt;/a> 让浏览管理更加轻松。&lt;/p>
&lt;p>新版页面整体提供了更流畅、更快捷、更灵活的使用体验。它支持两种视图模式，满足不同使用场景：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>分组视图（Grouped view）&lt;/strong>：按命名空间组织，便于深入查看特定规则组。&lt;/li>
&lt;li>&lt;strong>列表视图（List view）&lt;/strong>：展示所有告警规则的完整列表，支持快速搜索与过滤。近期的性能优化大幅提升了使用效率。&lt;/li>
&lt;/ul>
&lt;p>我们还对界面进行了简化，聚焦于“管理告警规则”这一核心任务。现在你将看到一个更简洁、更清晰的视图，仅显示最关键的信息字段，包括 &lt;strong>规则名称（rule name）&lt;/strong>、&lt;strong>所属位置（location）&lt;/strong>、&lt;strong>类型（type）&lt;/strong> 和 &lt;strong>状态（state）&lt;/strong>。&lt;/p>
&lt;p>此外，我们还为规则列表页面引入了新的分页 API，使管理操作更轻松便捷。无论你是希望查看结构化的告警规则层级，还是需要快速检索和筛选成千上万条规则，现在都能获得更简洁、更流畅的体验。&lt;/p>
&lt;p>对于 &lt;strong>Grafana Cloud 用户&lt;/strong>，我们正逐步向所有实例推出新版规则页面；对于 &lt;strong>Grafana OSS 用户&lt;/strong>，当前可通过功能开关启用。请在 Grafana 配置文件的 &lt;code>feature_toggles&lt;/code> 部分中添加开关 &lt;code>alertingListViewV2&lt;/code>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="l">feature_toggles]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">alertingListViewV2 = true&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>重启 Grafana 后，即可访问新版规则列表页面。&lt;/p>
&lt;h3 id="支持-prometheus-yaml-文件导入规则">支持 Prometheus YAML 文件导入规则
&lt;/h3>&lt;p>我们近期还 &lt;a class="link" href="https://grafana.com/docs/grafana-cloud/alerting-and-irm/alerting/alerting-rules/alerting-migration/?src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>新增支持&lt;/a>：可以将由数据源管理的规则导入为由 Grafana 管理的告警规则（Grafana-managed alert rules）。不过，以前用户在没有配置 ruler 的情况下，无法导入现有的 &lt;strong>Prometheus 规则（Prometheus rules）&lt;/strong>。&lt;/p>
&lt;p>而在 Grafana 12.1 中，你现在可以直接 &lt;a class="link" href="https://grafana.com/whats-new/2025-06-02-add-ability-to-import-rules-to-gma-from-prometheus-yaml/?pg=blog&amp;amp;plcmt=body-txt&amp;amp;src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>通过 Prometheus YAML 文件导入规则&lt;/a>，并使用同一套 Alerting UI 完成配置。&lt;/p>
&lt;h3 id="引入活动时间区间active-time-intervals">引入“活动时间区间”（active time intervals）
&lt;/h3>&lt;p>在本次告警功能更新中，我们将原先的 &lt;a class="link" href="https://grafana.com/docs/grafana/latest/alerting/configure-notifications/mute-timings/?src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>静默时间区间（mute time intervals）&lt;/a> 重命名为 &lt;a class="link" href="https://grafana.com/whats-new/2025-07-09-active-time-intervals-in-grafana-alerting/?pg=blog&amp;amp;plcmt=body-txt&amp;amp;src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>活动时间区间（active time intervals）&lt;/a>，以更准确地反映其用途 —— 即定义告警“何时应当触发”。&lt;/p>
&lt;p>如需进一步了解 Grafana 告警功能中的这些改动和其他更新，请查看我们的 &lt;a class="link" href="https://grafana.com/docs/grafana/latest/alerting/?pg=blog&amp;amp;plcmt=body-txt&amp;amp;src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>官方文档&lt;/a>。&lt;/p>
&lt;h2 id="用更灵活的方式查询与可视化数据">用更灵活的方式查询与可视化数据
&lt;/h2>&lt;p>无论你是想深入分析某项指标，还是构建复杂的仪表盘，这些新功能都将帮助你以更符合需求的方式探索数据。&lt;/p>
&lt;h3 id="趋势线转换trendlines-transformation">趋势线转换（Trendlines transformation）
&lt;/h3>&lt;p>&lt;em>适用于所有版本的 Grafana&lt;/em>&lt;/p>
&lt;p>在 Grafana 中，&lt;a class="link" href="https://grafana.com/docs/grafana/latest/panels-visualizations/query-transform-data/transform-data/?src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>转换操作（transformations）&lt;/a> 是一种强大手段，用于在系统进行可视化之前处理查询返回的数据。Grafana 12.1 中新增了一个全新的转换类型：&lt;a class="link" href="https://grafana.com/whats-new/2025-07-21-transformations--regression-analysis/?pg=blog&amp;amp;plcmt=body-txt&amp;amp;src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>趋势线（trendlines，也称回归分析）&lt;/a>。&lt;/p>
&lt;p>这一新转换会对任意数据集拟合一个数学函数 —— 支持线性或多项式回归 —— 以预测原始数据中未直接体现的某一时间点的数值。&lt;/p>
&lt;p>换句话说，你可以基于统计模型生成一个新序列，用于表示趋势线中的预测值。这在处理波动剧烈、难以洞察趋势的数据时尤为有用。&lt;/p>
&lt;p>你可以在 &lt;a class="link" href="https://play.grafana.org/goto/9o1-SMyNg?orgId=1&amp;amp;src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>Grafana Play 示例&lt;/a> 中查看这一转换的实际效果，或在我们的 &lt;a class="link" href="https://grafana.com/docs/grafana-cloud/visualizations/panels-visualizations/query-transform-data/transform-data/#regression-analysis?src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>文档&lt;/a> 中了解更多细节。&lt;/p>
&lt;h3 id="可视化操作中支持自定义变量">可视化操作中支持自定义变量
&lt;/h3>&lt;p>&lt;em>适用于所有版本的 Grafana&lt;/em>&lt;/p>
&lt;p>我们很高兴地宣布，你现在可以在 &lt;a class="link" href="https://grafana.com/whats-new/2025-07-14-custom-variable-support-in-visualization-actions/?pg=blog&amp;amp;plcmt=body-txt&amp;amp;src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>可视化操作（visualization actions）中定义自定义变量&lt;/a> 了。&lt;/p>
&lt;p>当你触发一个 &lt;a class="link" href="https://grafana.com/docs/grafana/latest/panels-visualizations/configure-data-links/#actions?src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>操作（action）&lt;/a>（例如调用 API 创建支持工单）时，系统会提示你填写这些变量的值。这样一来，操作变得更加动态、交互性更强，你无需修改仪表盘配置就能实时定制请求内容。&lt;/p>
&lt;p>这项功能在触发告警、过滤 API 调用，或将用户定义参数传递给外部系统时尤其有用。&lt;/p>
&lt;h3 id="仪表盘支持服务器配置的快捷时间范围">仪表盘支持服务器配置的快捷时间范围
&lt;/h3>&lt;p>&lt;em>适用于 Grafana OSS 与 Grafana Enterprise&lt;/em>&lt;/p>
&lt;p>Grafana 服务器管理员现在可以为仪表盘的 &lt;a class="link" href="https://grafana.com/grafana/plugins/williamvenner-timepickerbuttons-panel/?src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>时间选择器（time picker）&lt;/a> 定义自定义的时间范围预设。这一功能非常适合那些需要经常分析特定上下文时间窗口的团队。&lt;/p>
&lt;p>&lt;img src="https://martinliu.cn/blog/grafana-12-1-release-all-the-latest-features/screenshot-custom-time-ranges-12-1.png"
width="594"
height="517"
srcset="https://martinliu.cn/blog/grafana-12-1-release-all-the-latest-features/screenshot-custom-time-ranges-12-1_hu_c9c8ba11674f53f2.png 480w, https://martinliu.cn/blog/grafana-12-1-release-all-the-latest-features/screenshot-custom-time-ranges-12-1_hu_66116df26145a6a0.png 1024w"
loading="lazy"
alt="服务器配置时间范围的截图"
class="gallery-image"
data-flex-grow="114"
data-flex-basis="275px"
>&lt;/p>
&lt;p>&lt;em>服务器配置时间范围的截图&lt;/em>&lt;/p>
&lt;p>只需在你的 &lt;a class="link" href="https://grafana.com/docs/grafana/next/setup-grafana/configure-grafana/?src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>服务器配置&lt;/a> 文件中配置 &lt;code>[time_picker] quick_ranges&lt;/code>，即可根据监控数据的实际情况设置全局默认值。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="p">[&lt;/span>&lt;span class="l">time_picker]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="l">quick_ranges = &amp;#34;&amp;#34;&amp;#34;[&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>{&lt;span class="s2">&amp;#34;from&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;now-6s&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;to&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;now&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;display&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;Last 6 seconds&amp;#34;&lt;/span>}&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>{&lt;span class="s2">&amp;#34;from&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;now-10m&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;to&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;now&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;display&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;Last 10 minutes&amp;#34;&lt;/span>}&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>{&lt;span class="s2">&amp;#34;from&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;now-25h&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;to&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;now&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;display&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;Last 24 hours&amp;#34;&lt;/span>}&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>{&lt;span class="s2">&amp;#34;from&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;now/w&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;to&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;now/w&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;display&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;This week&amp;#34;&lt;/span>}&lt;span class="p">,&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>{&lt;span class="s2">&amp;#34;from&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;now-1w/w&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;to&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;now-1w/w&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;display&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;Last week&amp;#34;&lt;/span>}&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>&lt;span class="l">&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>特别感谢社区成员 Chris Hodges &lt;a class="link" href="https://github.com/grafana/grafana/pull/102254" target="_blank" rel="noopener"
>为该功能贡献代码&lt;/a>！&lt;/p>
&lt;h3 id="增强的自定义货币格式">增强的自定义货币格式
&lt;/h3>&lt;p>&lt;em>适用于所有版本的 Grafana&lt;/em>&lt;/p>
&lt;p>你现在可以 &lt;a class="link" href="https://grafana.com/whats-new/2025-06-12-enhanced-custom-currency-format--display-exact-financial-values/?pg=blog&amp;amp;plcmt=body-txt&amp;amp;src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>显示精确的财务数值&lt;/a>（或按需缩写），以便更灵活地控制仪表盘中的展示方式。&lt;/p>
&lt;p>此前，Grafana 会自动缩写较大的货币数值 —— 例如 &lt;code>$1,235,667&lt;/code> 会显示为 &lt;code>$1.24M&lt;/code>，&lt;code>$555,558&lt;/code> 会变成 &lt;code>$555.6K&lt;/code>。虽然这种方式适用于大多数可视化场景，但财务数据往往需要显示精确数值。&lt;/p>
&lt;p>为此，我们增强了自定义货币格式。你现在可以使用 &lt;code>currency:financial:&amp;lt;unit&amp;gt;&lt;/code> 格式完整显示数字。例如：使用 &lt;code>currency:financial:$&lt;/code> 会将 &lt;code>1235667&lt;/code> 格式化为 &lt;code>$1,235,667&lt;/code>，而非 &lt;code>$1.24M&lt;/code>。&lt;/p>
&lt;p>财务格式还支持灵活的货币符号位置，包括：&lt;/p>
&lt;p>&lt;strong>前缀&lt;/strong>（默认）：&lt;code>currency:financial:$&lt;/code> 会显示为 &lt;code>$1,235,667&lt;/code>&lt;/p>
&lt;p>&lt;strong>后缀&lt;/strong>：&lt;code>currency:financial:€:suffix&lt;/code> 会显示为 &lt;code>1,235,667€&lt;/code>&lt;/p>
&lt;h3 id="microsoft-entra-workload-identity-支持">Microsoft Entra Workload Identity 支持
&lt;/h3>&lt;p>&lt;em>适用于所有版本的 Grafana&lt;/em>&lt;/p>
&lt;p>Grafana 现在 &lt;a class="link" href="https://grafana.com/whats-new/2025-07-15-entra-workload-identity-support/?pg=blog&amp;amp;plcmt=body-txt&amp;amp;src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>支持 Microsoft Entra Workload Identity&lt;/a>，显著增强了基于联合凭据的身份验证能力。该更新简化了 OAuth 流程，并提升了在 Microsoft Azure 上运行 Grafana 实例的安全性。&lt;/p>
&lt;p>关于 Entra ID（前身为 Azure AD）身份验证配置的更多信息，请参见我们的 &lt;a class="link" href="https://grafana.com/docs/grafana/next/setup-grafana/configure-security/configure-authentication/azuread/?pg=blog&amp;amp;plcmt=body-txt&amp;amp;src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>官方文档&lt;/a>。感谢社区成员 &lt;a class="link" href="https://github.com/mehighlow" target="_blank" rel="noopener"
>mehiglow&lt;/a> 对该功能的宝贵贡献！&lt;/p>
&lt;h2 id="grafana-扩展性数据源新增功能">Grafana 扩展性：数据源新增功能
&lt;/h2>&lt;p>在 Grafana Labs，我们始终相信 —— 不论你的数据存储在哪里，你都应该能够查询和可视化它。因此，我们持续扩展并改进 Grafana 的数据源支持能力。&lt;/p>
&lt;p>以下是最新的数据源相关更新。&lt;/p>
&lt;h3 id="可视化-logicmonitor-数据">可视化 LogicMonitor 数据
&lt;/h3>&lt;p>&lt;a class="link" href="https://www.logicmonitor.com/" target="_blank" rel="noopener"
>LogicMonitor&lt;/a> 是一个可观测性平台，提供基础设施监控、AIOps 和 IT 运维洞察。现已进入公开预览阶段，全新的 &lt;a class="link" href="https://grafana.com/grafana/plugins/grafana-logicmonitor-datasource/?src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>LogicMonitor Devices Enterprise 数据源&lt;/a> 让你可以在 Grafana Cloud 或 Grafana Enterprise 中直接查询与可视化 &lt;code>Device Instance Data&lt;/code>，以及列出 &lt;code>Devices&lt;/code>、&lt;code>Datasources&lt;/code> 和 &lt;code>Instances&lt;/code>。&lt;/p>
&lt;p>你可以在我们的 &lt;a class="link" href="https://grafana.com/docs/plugins/grafana-logicmonitor-datasource/latest/?src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>官方文档&lt;/a> 中了解如何使用与安装该数据源。如需全面了解 Enterprise 数据源，请参考这篇 &lt;a class="link" href="https://grafana.com/blog/2024/05/13/grafana-enterprise-data-source-plugins-a-brief-guide-to-what-they-are-and-how-to-get-started/?src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>指南&lt;/a>。&lt;/p>
&lt;h3 id="bigquery-数据源支持服务账号模拟service-account-impersonation">BigQuery 数据源支持服务账号模拟（Service Account Impersonation）
&lt;/h3>&lt;p>为提升安全性，Google 建议使用服务账号令牌配合 &lt;a class="link" href="https://cloud.google.com/iam/docs/service-account-impersonation" target="_blank" rel="noopener"
>服务账号模拟（Service Account Impersonation）&lt;/a>。一旦服务账号令牌遭到泄露，若未关联可模拟的服务账号，该令牌将无法访问 Google Cloud API，从而显著降低未授权访问的风险。&lt;/p>
&lt;p>这一额外的安全层级现已在我们的 &lt;a class="link" href="https://grafana.com/grafana/plugins/grafana-bigquery-datasource/?src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>BigQuery 数据源&lt;/a> 配置中 &lt;a class="link" href="https://grafana.com/whats-new/2025-06-18-support-for-service-account-impersonation-in-bigquery/?src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>正式支持&lt;/a>，可有效防止令牌泄露后被滥用。目前该功能已全面开放。&lt;/p>
&lt;p>&lt;img src="https://martinliu.cn/blog/grafana-12-1-release-all-the-latest-features/bigquery-service-account-impersonation.png"
width="1388"
height="476"
srcset="https://martinliu.cn/blog/grafana-12-1-release-all-the-latest-features/bigquery-service-account-impersonation_hu_7cb9cc8b949082ed.png 480w, https://martinliu.cn/blog/grafana-12-1-release-all-the-latest-features/bigquery-service-account-impersonation_hu_6ba89a30947ff5d7.png 1024w"
loading="lazy"
alt="服务账号模拟开关的截图"
class="gallery-image"
data-flex-grow="291"
data-flex-basis="699px"
>&lt;/p>
&lt;p>你可以通过我们的 &lt;a class="link" href="https://grafana.com/grafana/plugins/grafana-bigquery-datasource/?src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>插件目录&lt;/a> 或这篇 &lt;a class="link" href="https://grafana.com/blog/2025/06/18/visualize-google-cloud-bigquery-data-in-grafana-the-latest-updates-key-features-and-more/?src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>最新博客文章&lt;/a> 深入了解 Grafana 中 BigQuery 数据源的使用方式。&lt;/p>
&lt;p>如需查看 Grafana 中全部新增功能，请参阅我们的 &lt;a class="link" href="https://grafana.com/docs/grafana/latest/?pg=blog&amp;amp;plcmt=body-txt&amp;amp;src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>官方文档&lt;/a>、&lt;a class="link" href="https://github.com/grafana/grafana/blob/main/CHANGELOG.md" target="_blank" rel="noopener"
>更新日志&lt;/a>，或 &lt;a class="link" href="https://grafana.com/docs/grafana/latest/whatsnew/whats-new-in-v12-1/?pg=blog&amp;amp;plcmt=body-txt&amp;amp;src=li&amp;amp;mdm=social&amp;amp;camp=blog" target="_blank" rel="noopener"
>新版亮点文档&lt;/a>。&lt;/p></description></item><item><title>Docker、Jenkins、Prometheus，本地能跑？！这套技术栈你需要搞定</title><link>https://martinliu.cn/blog/docker-jenkins-prometheus-locally-heres-the-stack/</link><pubDate>Mon, 28 Jul 2025 17:58:33 +0800</pubDate><guid>https://martinliu.cn/blog/docker-jenkins-prometheus-locally-heres-the-stack/</guid><description>&lt;img src="https://martinliu.cn/blog/docker-jenkins-prometheus-locally-heres-the-stack/1_izxF5LhLRecc_epDuvJmhg.png" alt="Featured image of post Docker、Jenkins、Prometheus，本地能跑？！这套技术栈你需要搞定" />&lt;h2 id="-tldr--一套真正可用的本地-devops-技术栈">✨ TL;DR — 一套真正可用的本地 DevOps 技术栈
&lt;/h2>&lt;p>&lt;strong>问题&lt;/strong>：云端 DevOps 费用高、迭代慢，还难调试。&lt;br>
&lt;strong>解决方案&lt;/strong>：用 Docker Compose 跑起来的一套完整 DevOps 技术栈，全部本地化。&lt;/p>
&lt;h2 id="核心组件包括">核心组件包括：
&lt;/h2>&lt;ul>
&lt;li>Jenkins（CI/CD）&lt;/li>
&lt;li>Prometheus + Grafana（监控）&lt;/li>
&lt;li>Loki + Promtail（日志聚合）&lt;/li>
&lt;li>NGINX / Traefik（反向代理）&lt;/li>
&lt;li>Mailhog（邮件测试）&lt;/li>
&lt;li>Postgres + Redis（辅助服务）&lt;/li>
&lt;/ul>
&lt;h2 id="我的经验总结">我的经验总结：
&lt;/h2>&lt;ul>
&lt;li>从小起步，逐步扩展。&lt;/li>
&lt;li>固定版本，避免意外变更。&lt;/li>
&lt;li>健康检查能救命。&lt;/li>
&lt;li>Docker Compose 胜过过早引入 Kubernetes。&lt;/li>
&lt;li>养成写“技术栈日志”的习惯。&lt;/li>
&lt;/ul>
&lt;p>我的需求其实很简单。&lt;/p>
&lt;p>我只想要一个稳的 CI 流水线、一套能看懂的监控指标，以及在部署前能本地测试全部功能的方式，不必再为云服务花冤枉钱。&lt;/p>
&lt;p>结果呢？Jenkins 启动就挂，Prometheus 抓不到数据，Docker Compose 日志铺天盖地像在写小说。&lt;/p>
&lt;p>我差点放弃。但在无数次试错、两次烧坏电脑，还有通宵翻遍 DevOps 博客之后，我终于搞出了一套真的能用的本地环境。&lt;/p>
&lt;p>&lt;strong>不用 Kubernetes。不付 AWS 账单。没有凌晨四点的 Slack 报警。&lt;/strong>&lt;/p>
&lt;p>这不是教程，而是我自己打磨出来的生存指南，你完全可以照着用。🤝&lt;/p>
&lt;h2 id="什么才是-devops-技术栈本地而非理论">什么才是 DevOps 技术栈（本地，而非理论）
&lt;/h2>&lt;p>提到 DevOps，大多数人想到的是云原生架构、Kubernetes 自动扩容集群，还有那种比房租还贵的精美仪表盘。但如果你是独立开发者、在搞实验，或只是想学习而不影响线上环境，&lt;strong>你需要的，是能直接在自己电脑上跑的东西。&lt;/strong>&lt;/p>
&lt;p>对我来说，一个“本地优先”的 DevOps 技术栈应该包含：&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Docker：&lt;/strong> 容器的基础设施。所有服务都运行在容器里，包括 Jenkins 和 Prometheus。&lt;/li>
&lt;li>&lt;strong>Jenkins：&lt;/strong> 仍然是最灵活的 CI/CD 引擎。虽说有点老派，但用得好依然顶用。&lt;/li>
&lt;li>&lt;strong>Prometheus + Grafana：&lt;/strong> 用于采集与可视化监控指标。Prometheus 负责抓，Grafana 负责看。&lt;/li>
&lt;li>&lt;strong>Loki：&lt;/strong> 日志聚合利器。因为容器一多，&lt;code>docker logs&lt;/code> 根本不够用。&lt;/li>
&lt;li>&lt;strong>NGINX 或 Traefik：&lt;/strong> 做反向代理，把多个服务统一映射到本地域名下。&lt;/li>
&lt;li>&lt;strong>Mailhog / Redis / Postgres：&lt;/strong> 可选组件，用于测试邮件、缓存或数据库相关功能。&lt;/li>
&lt;/ul>
&lt;p>这就是基础配置。没有 AWS，没有 GCP，也不用托管的 EKS。只有 &lt;strong>容器、端口，以及偶尔崩溃的终端窗口&lt;/strong>。&lt;/p>
&lt;p>&lt;img src="https://martinliu.cn/blog/docker-jenkins-prometheus-locally-heres-the-stack/1_izxF5LhLRecc_epDuvJmhg.png"
width="1536"
height="1024"
srcset="https://martinliu.cn/blog/docker-jenkins-prometheus-locally-heres-the-stack/1_izxF5LhLRecc_epDuvJmhg_hu_2ed4872d2b34b138.png 480w, https://martinliu.cn/blog/docker-jenkins-prometheus-locally-heres-the-stack/1_izxF5LhLRecc_epDuvJmhg_hu_6b7397708bd1e7bc.png 1024w"
loading="lazy"
alt="devops stack"
class="gallery-image"
data-flex-grow="150"
data-flex-basis="360px"
>&lt;/p>
&lt;h2 id="让我豁然开朗的-docker-composeyml-配置">让我豁然开朗的 docker-compose.yml 配置
&lt;/h2>&lt;p>谈本地 DevOps，绕不开 &lt;code>docker-compose.yml&lt;/code>。它是整个系统的指挥中枢，决定了你是轻松一键部署，还是陷入无尽的手动操作噩梦。&lt;/p>
&lt;p>下面是我用的一个简化版本配置：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;span class="lnt">50
&lt;/span>&lt;span class="lnt">51
&lt;/span>&lt;span class="lnt">52
&lt;/span>&lt;span class="lnt">53
&lt;/span>&lt;span class="lnt">54
&lt;/span>&lt;span class="lnt">55
&lt;/span>&lt;span class="lnt">56
&lt;/span>&lt;span class="lnt">57
&lt;/span>&lt;span class="lnt">58
&lt;/span>&lt;span class="lnt">59
&lt;/span>&lt;span class="lnt">60
&lt;/span>&lt;span class="lnt">61
&lt;/span>&lt;span class="lnt">62
&lt;/span>&lt;span class="lnt">63
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s2">&amp;#34;3.8&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">jenkins&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">jenkins/jenkins:lts-jdk17&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;8080:8080&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">jenkins_home:/var/jenkins_home&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">prometheus&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">prom/prometheus&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;9090:9090&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./prometheus.yml:/etc/prometheus/prometheus.yml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">grafana&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">grafana/grafana&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;3000:3000&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">grafana_data:/var/lib/grafana&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">loki&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">grafana/loki:2.9.0&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;3100:3100&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">command&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>-&lt;span class="l">config.file=/etc/loki/local-config.yaml&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">nginx&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">nginx:stable&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;80:80&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">./nginx.conf:/etc/nginx/nginx.conf&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">mailhog&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">mailhog/mailhog&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;8025:8025&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;1025:1025&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">redis&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">redis&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;6379:6379&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">postgres&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">postgres:14&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;5432:5432&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">environment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">POSTGRES_USER&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">dev&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">POSTGRES_PASSWORD&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">dev&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">POSTGRES_DB&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">app_db&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">pgdata:/var/lib/postgresql/data&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">jenkins_home&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">grafana_data&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">pgdata&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="让我少走弯路的配置笔记">让我少走弯路的配置笔记
&lt;/h2>&lt;ul>
&lt;li>&lt;strong>分离 &lt;code>.env&lt;/code> 文件&lt;/strong>：不要在配置中硬编码密钥或端口。&lt;/li>
&lt;li>&lt;strong>挂载配置文件&lt;/strong>：Prometheus 和 NGINX 的配置最好通过挂载方式管理，方便随时调整。&lt;/li>
&lt;li>&lt;strong>状态服务使用数据卷&lt;/strong>：Jenkins、Grafana、Postgres 等需要持久化的服务应该使用数据卷。&lt;/li>
&lt;li>&lt;strong>尽量避免使用 &lt;code>depends_on&lt;/code>&lt;/strong>：它不会真正等待服务就绪。建议用 &lt;code>restart: unless-stopped&lt;/code> 配合健康检查来提升稳定性。&lt;/li>
&lt;/ul>
&lt;p>这套配置让我可以放心地搭建和试验。每个服务都在容器里运行，出问题直接重建，简单又高效。&lt;/p>
&lt;h2 id="我的本地-devops-文件结构也就是理智的来源">我的本地 DevOps 文件结构（也就是理智的来源）
&lt;/h2>&lt;p>尝试了多个混乱结构之后，我最终找到了这样一套清晰、模块化的目录布局，让调试更高效。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">/devops-stack
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── docker-compose.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── .env
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── README.md
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── prometheus/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ └── prometheus.yml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── grafana/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ └── provisioning/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ ├── datasources/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ └── dashboards/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── loki/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ └── local-config.yaml
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── nginx/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ └── nginx.conf
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── jenkins/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ └── jobs/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ └── sample-job.groovy
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">├── volumes/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ ├── grafana/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ ├── jenkins/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">│ └── postgres/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">└── logs/
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> └── stack.log
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="为什么这套结构有效">为什么这套结构有效？
&lt;/h2>&lt;ul>
&lt;li>🔹 prometheus/ 自定义抓取配置都放在这里。我用 Git 做版本管理，便于追踪每次修改。&lt;/li>
&lt;li>🔹 grafana/provisioning/ 通过这个目录预配置仪表盘和数据源，重建容器时无需手动重复设置。&lt;/li>
&lt;li>🔹 loki/ Loki 的 &lt;code>local-config.yaml&lt;/code> 存放位置。如果你聚合多个容器日志，这个配置经常需要调整。&lt;/li>
&lt;li>🔹 nginx/ 将代理配置从项目根目录独立出来，便于快速热更新和测试路由变更。&lt;/li>
&lt;li>🔹 jenkins/jobs/ 用于保存流水线定义、Groovy 脚本或种子任务，比每次在 Jenkins UI 操作方便得多。&lt;/li>
&lt;li>🔹 volumes/ 可选目录，用于挂载持久化数据。无需深入 Docker 内部也能查看状态数据。&lt;/li>
&lt;li>🔹 logs/ 集中存放容器日志或自定义输出，调试更高效。特别是在 Promtail 表现不稳定时很有用。&lt;/li>
&lt;/ul>
&lt;h2 id="如果重来一次我会这样做">如果重来一次，我会这样做：
&lt;/h2>&lt;h3 id="1-不要从-jenkins-起步">1. 不要从 Jenkins 起步
&lt;/h3>&lt;p>Jenkins 虽然强大，但太笨重。如果你只是想学习 CI/CD，建议先从 GitHub Actions（可通过 &lt;a class="link" href="https://github.com/nektos/act" target="_blank" rel="noopener"
>act&lt;/a> 本地运行）或 Drone CI 开始。Jenkins 附带插件多、配置烦人，还有那些让人头大的 XML 配置文件（Extensible Markup Language）。&lt;/p>
&lt;h3 id="2-不要过度设计监控">2. 不要过度设计监控
&lt;/h3>&lt;p>就算你是为了跑个博客，也没必要一开始就上 Prometheus + Grafana + Loki + Tempo。先用简单的日志输出（&lt;code>docker logs&lt;/code>，或者加个 Mailhog）起步，有需要时再慢慢加监控。&lt;/p>
&lt;h3 id="3-坚持用-docker-compose">3. 坚持用 Docker Compose
&lt;/h3>&lt;p>我曾花了好几天尝试 Minikube、Kind 和 Kubernetes，结果发现其实一个靠谱的 &lt;code>docker-compose.yml&lt;/code> 足以应付本地需求。除非你要部署到云上或准备考 Kubernetes 认证，不然 &lt;strong>K8s 只会拖慢你的前期学习节奏&lt;/strong>。&lt;/p>
&lt;h3 id="4-保持技术栈日志">4. 保持“技术栈日志”
&lt;/h3>&lt;p>每次出错或修好 bug，我都会记一笔。这份日志成了我的生存手册，也成了这篇文章的基础。强烈推荐你也开始记录，真的有用。&lt;/p>
&lt;h2 id="复制即用最简本地-devops-技术栈">复制即用：最简本地 DevOps 技术栈
&lt;/h2>&lt;p>如果你读到这里心想“我就想马上试一把”，下面就是你需要的——一套&lt;strong>最小可行的 DevOps 技术栈&lt;/strong>：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">mkdir devops-mini &lt;span class="o">&amp;amp;&amp;amp;&lt;/span> &lt;span class="nb">cd&lt;/span> devops-mini
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">touch docker-compose.yml
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>编辑 &lt;em>docker-compose.yml&lt;/em> 文件&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-yaml" data-lang="yaml">&lt;span class="line">&lt;span class="cl">&lt;span class="nt">version&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="s1">&amp;#39;3.8&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">services&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">jenkins&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">jenkins/jenkins:lts-jdk17&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;8080:8080&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="l">jenkins_home:/var/jenkins_home&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">grafana&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">image&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">grafana/grafana&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">ports&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>- &lt;span class="s2">&amp;#34;3000:3000&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w">&lt;/span>&lt;span class="nt">volumes&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="w"> &lt;/span>&lt;span class="nt">jenkins_home&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>启动本地技术栈。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="line">&lt;span class="cl">docker compose up -d
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>搞定了。CI + 监控，完全本地，不靠云。&lt;/p>
&lt;p>等你准备好折腾时，再加上 Postgres、Redis、Loki、Prometheus 或 NGINX。&lt;br>
放心，总会出点问题。&lt;/p>
&lt;h2 id="收尾搭建它搞崩它掌握它">收尾：搭建它，搞崩它，掌握它
&lt;/h2>&lt;p>搭一套本地 DevOps 技术栈并不轻松、不优雅，更不会很快。&lt;/p>
&lt;p>但这个过程教会我的，比任何云服务仪表盘或 YouTube 教程都更接近真实世界。&lt;/p>
&lt;p>当你亲手跑 Jenkins、从头配置 Grafana 仪表盘、或者搞清楚容器间为什么无法通信时，&lt;br>
&lt;strong>你就不再只是执行脚本的人，而是真的开始具备系统工程师的思维了。&lt;/strong>&lt;/p>
&lt;p>所以，如果你还在等 CI 部署完成，或厌倦了在黑盒云服务里调 bug……&lt;/p>
&lt;p>🔥 &lt;strong>自己动手搭一套。搞崩它。修复它。大胆去学。&lt;/strong>&lt;/p>
&lt;p>如果这篇文章哪怕帮到你一点点， &lt;strong>点个赞、写评论、转发一下。&lt;/strong> 让更多开发者不再害怕从零搭建基础架构。&lt;/p>
&lt;blockquote>
&lt;p>source: Medium - Level Up Coding&lt;/p>&lt;/blockquote></description></item></channel></rss>