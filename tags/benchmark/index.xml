<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Benchmark on Martin Liu's Blog</title><link>https://martinliu.cn/tags/benchmark/</link><description>Recent content in Benchmark on Martin Liu's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sun, 09 Oct 2022 21:44:15 +0800</lastBuildDate><atom:link href="https://martinliu.cn/tags/benchmark/index.xml" rel="self" type="application/rss+xml"/><item><title>For tomcat benchmark testing</title><link>https://martinliu.cn/2009/07/04/for-tomcat-benchmark-testing/</link><pubDate>Sat, 04 Jul 2009 05:36:03 +0000</pubDate><guid>https://martinliu.cn/2009/07/04/for-tomcat-benchmark-testing/</guid><description>&lt;p>Tomcat Configuration 查看一下可以配置的参数&lt;img src="http://tech.tomarea.com/wp-content/uploads/2009/02/tomcat-300x261.jpg"
loading="lazy"
alt="TomCat"
>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;strong>设置 JVM 的参数 Setting JVM Options for Tomcat&lt;/strong>&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Edit the /usr/locat/apache-tomcat/bin/catalina.sh file and add the JVM options to the JAVA_OPTS environment variable.JVM Option Value Description&lt;!-- raw HTML omitted -->-Xmx 4g The maximum Java heap size.&lt;!-- raw HTML omitted -->-Xms 4g The initial Java heap size.&lt;!-- raw HTML omitted -->-Xmn 1g The size of young generation.&lt;!-- raw HTML omitted -->-XX:+UseParallelGC – To use parallel garbage collection for scavenges.&lt;!-- raw HTML omitted -->-XX:PermSize 50m The initial size of permanent generation.&lt;!-- raw HTML omitted -->注释：上面两个 4g 的值，我没试过，我用 8GB 内存 windows 的机器 1.5GB 能启动，超过了 Tomcat 服务就启动不了了。&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;strong>配置 Tomcat Connector Attributes&lt;/strong>&lt;!-- raw HTML omitted -->Edit the /usr/locat/apache-tomcat/conf/server.xml file and add the attributes listed in Table 3 to the Connector element.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->下面是个例子供参考&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->Tomcat Configuration Attribute Value Description&lt;!-- raw HTML omitted -->The maximum number of request processing threads to be created by this connector, which therefore determines the maximum number of simultaneous requests that can be handled. If not specified, the default value for this attribute is 40. If an executor is associated with this connector, this attribute is ignored and the connector executes tasks using the executor rather than an internal thread pool.&lt;!-- raw HTML omitted -->maxThreads 3000&lt;!-- raw HTML omitted -->The maximum queue length for incoming connection requests when all&lt;!-- raw HTML omitted -->possible request processing threads are in use. Any requests received when&lt;!-- raw HTML omitted -->the queue is full are refused. The default value is 10.&lt;!-- raw HTML omitted -->acceptCount 2000&lt;!-- raw HTML omitted -->The number of request processing threads that are created when this connector&lt;!-- raw HTML omitted -->is first started. The connector also verifies that it has the specified number of&lt;!-- raw HTML omitted -->idle processing threads available. This attribute should be set to a value smaller&lt;!-- raw HTML omitted -->than that set for maxThreads. The default value is 4.&lt;!-- raw HTML omitted -->minSpareThreads 500&lt;!-- raw HTML omitted -->The maximum number of unused request processing threads that are allowed&lt;!-- raw HTML omitted -->to exist until the thread pool starts stopping the unnecessary threads. The&lt;!-- raw HTML omitted -->default value is 50.&lt;!-- raw HTML omitted -->maxSpareThreads 2000&lt;!-- raw HTML omitted -->Set to “true” if you want calls to request.getRemoteHost() to perform DNS&lt;!-- raw HTML omitted -->lookups in order to return the actual host name of the remote client. Set to&lt;!-- raw HTML omitted -->enableLookups false “false” to skip the DNS lookup and return the IP address in String form instead&lt;!-- raw HTML omitted -->(thereby improving performance). By default, DNS lookups are enabled.&lt;!-- raw HTML omitted -->&lt;!-- raw HTML omitted -->上面的值比我实际使用的大，我的 200 并发测试通过了，硬件配置见前一帖。&lt;/p></description></item></channel></rss>