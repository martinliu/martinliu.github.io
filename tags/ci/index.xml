<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Ci on Martin Liu's Blog</title><link>https://martinliu.cn/tags/ci/</link><description>Recent content in Ci on Martin Liu's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Thu, 18 Sep 2025 17:26:30 +0800</lastBuildDate><atom:link href="https://martinliu.cn/tags/ci/index.xml" rel="self" type="application/rss+xml"/><item><title>2025 å¹´åˆ«å†ä½¿ç”¨ Jenkinsï¼</title><link>https://martinliu.cn/blog/stop-using-jenkins-in-2025/</link><pubDate>Thu, 28 Aug 2025 10:00:00 +0800</pubDate><guid>https://martinliu.cn/blog/stop-using-jenkins-in-2025/</guid><description>&lt;img src="https://martinliu.cn/blog/stop-using-jenkins-in-2025/1_9wQ57gpbdI9JwUHpJmtFdA.jpeg" alt="Featured image of post 2025 å¹´åˆ«å†ä½¿ç”¨ Jenkinsï¼" />&lt;h2 id="é˜»ç¢ä½ å‰è¿›çš„é—ç•™å·¨å¤´">é˜»ç¢ä½ å‰è¿›çš„é—ç•™å·¨å¤´
&lt;/h2>&lt;p>è®¤è¯†ä¸€ä¸‹ Janetã€‚å¥¹æ˜¯ä¸€å®¶ä¸­å‹ç§‘æŠ€å…¬å¸çš„ DevOps å·¥ç¨‹å¸ˆï¼Œå·¥ä½œäº†äº”å¹´ã€‚æ¯ä¸ªå‘¨ä¸€æ—©ä¸Šï¼Œå¥¹éƒ½ä¼šåƒé—¹é’Ÿä¸€æ ·ï¼Œä¸ºä¸å¯é¿å…çš„äº‹æƒ…åšå¥½å‡†å¤‡ï¼šâ€œJenkins æœåŠ¡å™¨åˆå®•æœºäº†ã€‚â€æˆ–è€…â€œæ„å»ºå¤±è´¥äº†ï¼Œæ²¡äººçŸ¥é“ä¸ºä»€ä¹ˆã€‚â€åˆæˆ–è€…å¥¹æœ€å–œæ¬¢çš„é‚£å¥ï¼Œâ€œæˆ‘ä»¬éœ€è¦æ›´æ–°æ‰€æœ‰çš„ Jenkins æ’ä»¶ï¼Œä½†æˆ‘ä»¬æ‹…å¿ƒä¸€åˆ‡éƒ½ä¼šå´©æºƒã€‚â€&lt;/p>
&lt;p>å¬èµ·æ¥å¾ˆç†Ÿæ‚‰ï¼Ÿä½ å¹¶ä¸å­¤å•ã€‚&lt;/p>
&lt;p>Jenkins åœ¨è¿‡å»çš„ 15 å¹´é‡Œä¸€ç›´æ˜¯é¦–é€‰çš„ CI/CD å·¥å…·ã€‚å®ƒå°±åƒé‚£è¾†è€æ—§çš„å®¶åº­æ±½è½¦ï¼Œè™½ç„¶æ€»æ˜¯è¿›ä¿®ç†åº—ï¼Œä½†ä½ ä»ç„¶ä¿ç•™ç€ï¼Œå› ä¸ºï¼Œå—¯ï¼Œä½ ä¹ æƒ¯äº†å®ƒã€‚ä½†æ­£å¦‚ä½ åœ¨ 2025 å¹´ä¸ä¼šå†ä½¿ç”¨ç¿»ç›–æ‰‹æœºä¸€æ ·ï¼Œç°åœ¨æˆ–è®¸æ˜¯æ—¶å€™é‡æ–°å®¡è§†ä½ ä¸ Jenkins çš„å…³ç³»äº† ğŸ˜’ã€‚&lt;/p>
&lt;h2 id="ä¸ºä»€ä¹ˆ-jenkins-æ­£åœ¨æ˜¾éœ²è€æ€">ä¸ºä»€ä¹ˆ Jenkins æ­£åœ¨æ˜¾éœ²è€æ€
&lt;/h2>&lt;p>Jenkins åœ¨ 2005 å¹´æ¨å‡ºæ—¶æ˜¯é©å‘½æ€§çš„ã€‚ä½† iPod ä¹Ÿæ˜¯ã€‚æŠ€æœ¯å‘å±•è¿…é€Ÿï¼Œæ›¾ç»çš„å°–ç«¯äº§å“å¾ˆå¿«å°±ä¼šè¿‡æ—¶ã€‚ä»¥ä¸‹æ˜¯ Jenkins æ­£åœ¨è½åçš„åŸå› ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>è®©å®‰å…¨å›¢é˜Ÿå½»å¤œéš¾çœ çš„å®‰å…¨æ¼æ´: Jenkins æœ‰ç€ä»¤äººä¸å®‰çš„å®‰å…¨é—®é¢˜å†å²ã€‚ä»…åœ¨ 2021 å¹´ï¼ŒJenkins å®‰å…¨å›¢é˜Ÿå°±æŠ«éœ²äº† 30 å¤šä¸ªæ¼æ´ï¼Œå¹¶ä¸”æ–°çš„æ¼æ´è¿˜åœ¨ä¸æ–­å‡ºç°ã€‚è®¸å¤šç»„ç»‡ä»¥æå‡çš„æƒé™è¿è¡Œ Jenkinsï¼Œè¿™ä½¿å¾—è¿™äº›æ¼æ´å°¤ä¸ºå±é™©ã€‚ä»¥ Acme Corpï¼ˆåŒ–åï¼‰ä¸ºä¾‹ã€‚ä»–ä»¬çš„ Jenkins å®ä¾‹é€šè¿‡ CVE-2023â€“27898 è¢«æ”»ç ´ï¼Œè¿™æ˜¯ä¸€ä¸ªåœ¨è„šæœ¬å®‰å…¨æ’ä»¶ (Script Security Plugin) ä¸­çš„å…³é”®æ¼æ´ã€‚æ”»å‡»è€…è·å¾—äº†ä»–ä»¬ç”Ÿäº§å‡­è¯çš„è®¿é—®æƒé™ï¼Œå¹¶åœ¨å…¶åŸºç¡€è®¾æ–½ä¸­éƒ¨ç½²äº†åŠ å¯†è´§å¸æŒ–çŸ¿ç¨‹åº (crypto miners)ã€‚æ¸…ç†å·¥ä½œè®©ä»–ä»¬èŠ±è´¹äº†ä¸‰å¤©çš„å·¥ç¨‹æ—¶é—´ï¼Œå¹¶æŸå®³äº†å®¢æˆ·ä¿¡ä»»ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ‹–æ…¢æ•´ä¸ªå›¢é˜Ÿæ•ˆç‡çš„æ€§èƒ½é—®é¢˜: â€œæˆ‘è¶æ„å»ºè¿è¡Œçš„æ—¶å€™å»å–æ¯å’–å•¡â€è¿™ä¸ä»…ä»…æ˜¯å¼€å‘äººå‘˜çš„ç©ç¬‘ï¼Œæ›´æ˜¯ä¸€ä¸ªç”Ÿäº§åŠ›é—®é¢˜ã€‚Jenkins å®ä¾‹é€šå¸¸ä¼šéšç€æ—¶é—´çš„æ¨ç§»å˜å¾—è¶Šæ¥è¶Šæ…¢ï¼Œç‰¹åˆ«æ˜¯å½“ä½ æ·»åŠ æ›´å¤šä½œä¸šå’Œæ’ä»¶æ—¶ã€‚Michaelï¼Œä¸€ä¸ªæ¸¸æˆåˆåˆ›å…¬å¸çš„å¼€å‘äººå‘˜ï¼Œæè¿°äº†ä»–çš„ç»å†ï¼šâ€œæˆ‘ä»¬çš„ Jenkins æ„å»ºä»¥å‰éœ€è¦ 10 åˆ†é’Ÿã€‚åœ¨å¢åŠ äº†ä¸¤å¹´åŠŸèƒ½å’Œæµ‹è¯•ä¹‹åï¼Œå®ƒä»¬éœ€è¦ 45 åˆ†é’Ÿã€‚æˆ‘ä»¬èŠ±åœ¨ç­‰å¾… Jenkins ä¸Šçš„æ—¶é—´æ¯”å®é™…ç¼–ç çš„æ—¶é—´è¿˜è¦å¤šã€‚â€&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ»‹ç”Ÿâ€œJenkins ä¸“å®¶â€çš„é…ç½®å¤æ‚æ€§: Jenkins çš„çµæ´»æ€§æ˜¯æœ‰ä»£ä»·çš„ï¼šå¤æ‚æ€§ã€‚ç»„ç»‡å¾€å¾€æœ€ç»ˆåªæœ‰ä¸€ä¸¤ä¸ªâ€œJenkins å¤§å¸ˆâ€ï¼Œä»–ä»¬æ˜¯å”¯ä¸€äº†è§£ä¸€åˆ‡å¦‚ä½•è¿ä½œçš„äººã€‚å½“ä»–ä»¬å»åº¦å‡æˆ–ç¦»å¼€å…¬å¸æ—¶ï¼Œææ…Œå°±ä¼šéšä¹‹è€Œæ¥ã€‚ä¸€ä½å·¥ç¨‹ç»ç†æ›¾è¿™æ ·è¯´ï¼šâ€œæˆ‘ä»¬æœ‰è¶…è¿‡ 200 ä¸ª Jenkins æµæ°´çº¿ï¼Œæ¯ä¸ªçš„é…ç½®éƒ½ç•¥æœ‰ä¸åŒã€‚æ²¡äººæ•¢ç¢°å®ƒä»¬ï¼Œå› ä¸ºæˆ‘ä»¬æ‹…å¿ƒå®ƒä»¬ä¼šä¸­æ–­ã€‚è¿™ç®€ç›´æ˜¯æœ€çº¯ç²¹çš„æŠ€æœ¯å€ºã€‚â€&lt;/p>
&lt;/li>
&lt;li>
&lt;p>æ¶ˆè€—èµ„æºçš„ç»´æŠ¤å¼€é”€: è‡ªè¡Œæ‰˜ç®¡çš„ Jenkins éœ€è¦æŒç»­ç»´æŠ¤ã€‚&lt;/p>
&lt;/li>
&lt;/ol>
&lt;p>ä½ éœ€è¦ï¼š&lt;/p>
&lt;ul>
&lt;li>ç®¡ç† Jenkins æœåŠ¡å™¨æœ¬èº«&lt;/li>
&lt;li>å®šæœŸæ›´æ–° Jenkins æ ¸å¿ƒ&lt;/li>
&lt;li>æ›´æ–°å‡ åç”šè‡³ä¸Šç™¾ä¸ªæ’ä»¶&lt;/li>
&lt;li>å¤„ç†å¤‡ä»½å’Œç¾éš¾æ¢å¤&lt;/li>
&lt;li>é…ç½®å’Œç»´æŠ¤æ„å»ºä»£ç† (build agents)&lt;/li>
&lt;/ul>
&lt;p>è¿™äº›ç»´æŠ¤å·¥ä½œä¸ä¼šå¢åŠ ä¸šåŠ¡ä»·å€¼ï¼›å®ƒåªæ˜¯ä¸ºäº†ç»´æŒç³»ç»Ÿè¿è¡Œã€‚&lt;/p>
&lt;h2 id="github-actionsç°ä»£æ›¿ä»£æ–¹æ¡ˆ">GitHub Actionsï¼šç°ä»£æ›¿ä»£æ–¹æ¡ˆ
&lt;/h2>&lt;p>Janet çš„æ•…äº‹æœ‰ä¸€ä¸ªåœ†æ»¡çš„ç»“å±€ã€‚å¥¹çš„å›¢é˜Ÿä» Jenkins è¿ç§»åˆ°äº† GitHub Actionsï¼Œå‘¨ä¸€æ—©ä¸Šçš„â€œæ•‘ç«â€å¼åº”å¯¹ä¹Ÿæˆä¸ºäº†å†å²ã€‚&lt;/p>
&lt;p>GitHub Actions ä»£è¡¨äº†ä¸€ç§æˆªç„¶ä¸åŒçš„æŒç»­é›†æˆ/æŒç»­éƒ¨ç½² (CI/CD) æ–¹æ³•ï¼š&lt;/p>
&lt;ol>
&lt;li>
&lt;p>å†…ç½®å®‰å…¨æ€§ï¼Œæ— éœ€ç»´æŠ¤æœåŠ¡å™¨ : GitHub Actions åœ¨ GitHub çš„äº‘ä¸­è¿è¡Œã€‚ä½ æ— éœ€æ‹…å¿ƒ Jenkins æœåŠ¡å™¨çš„å®‰å…¨æˆ–åº”ç”¨å®‰å…¨è¡¥ä¸ã€‚GitHub çš„å®‰å…¨å›¢é˜Ÿä¼šä¸ºä½ å¤„ç†è¿™äº›ã€‚æœ€å¥½çš„å®‰å…¨æœåŠ¡å™¨æ˜¯ä½ æ ¹æœ¬æ— éœ€ç®¡ç†çš„æœåŠ¡å™¨ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>è‡ªåŠ¨æ‰©å±•çš„æ€§èƒ½ ï¼š éœ€è¦æ›´å¤šæ„å»ºèƒ½åŠ›ï¼ŸGitHub Actions ä¼šè‡ªåŠ¨æ‰©å±•ä»¥æ»¡è¶³éœ€æ±‚ã€‚ä½ å¯ä»¥å¹¶è¡Œè¿è¡Œæ„å»ºï¼Œè€Œæ— éœ€ç®¡ç†é¢å¤–çš„æ„å»ºä»£ç†ã€‚Janet çš„å›¢é˜Ÿåœ¨è¿ç§»åˆ° GitHub Actions åï¼Œæ„å»ºæ—¶é—´ç¼©çŸ­äº† 60%ï¼Œä»…ä»…æ˜¯å› ä¸ºä»–ä»¬å¯ä»¥å¹¶è¡Œæ‰§è¡Œæµ‹è¯•ï¼Œè€Œæ— éœ€æ‹…å¿ƒåŸºç¡€è®¾æ–½ (infrastructure) é™åˆ¶ã€‚&lt;/p>
&lt;/li>
&lt;li>
&lt;p>äººäººéƒ½èƒ½ç†è§£çš„ä»£ç åŒ–é…ç½®ï¼šGitHub Actions ä½¿ç”¨ç›´æ¥å­˜å‚¨åœ¨ä½ çš„ä»£ç ä»“åº“ (repository) ä¸­çš„ YAML æ–‡ä»¶ã€‚è¿™ç§æ–¹æ³•æœ‰å‡ ä¸ªä¼˜ç‚¹ï¼š&lt;/p>
&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>é…ç½®ä¸å®ƒæ‰€æ„å»ºçš„ä»£ç å…±å­˜&lt;/li>
&lt;li>å˜æ›´é€šè¿‡å¸¸è§„ä»£ç å®¡æŸ¥ (code reviews) è¿›è¡Œè¿½è¸ª&lt;/li>
&lt;li>æ–°å›¢é˜Ÿæˆå‘˜å¯ä»¥å¿«é€Ÿç†è§£è®¾ç½®&lt;/li>
&lt;li>æ— éœ€ä¸“ä¸šçŸ¥è¯†&lt;/li>
&lt;/ul>
&lt;p>ä¸€ä½å¼€å‘äººå‘˜æŠ¥å‘Šè¯´ï¼šâ€œGitHub Actions çš„å­¦ä¹ æ›²çº¿æ¯” Jenkins å¹³ç¼“å¾—å¤šã€‚æˆ‘å¯ä»¥åœ¨ä¸€ä¸ªä¸‹åˆï¼Œè€Œä¸æ˜¯å‡ å‘¨å†…ï¼Œç†è§£æˆ‘ä»¬æ•´ä¸ª CI/CD æµæ°´çº¿ã€‚â€&lt;/p>
&lt;ol start="4">
&lt;li>é›¶ç»´æŠ¤å¼€é”€ ï¼šä½¿ç”¨ GitHub Actionsï¼Œä½ å°†æ‹¥æœ‰ï¼š&lt;/li>
&lt;/ol>
&lt;ul>
&lt;li>æ— éœ€ç»´æŠ¤æœåŠ¡å™¨&lt;/li>
&lt;li>æ— éœ€æ›´æ–°æ’ä»¶&lt;/li>
&lt;li>æ— éœ€é…ç½®æ„å»ºä»£ç†&lt;/li>
&lt;li>æ— éœ€ç®¡ç†å¤‡ä»½&lt;/li>
&lt;/ul>
&lt;p>è¿™è®©å·¥ç¨‹å¸ˆå¯ä»¥å°†æ—¶é—´æŠ•å…¥åˆ°å®é™…çš„äº§å“å¼€å‘ä¸­ï¼Œè€Œä¸æ˜¯åŸºç¡€è®¾æ–½çš„ç»´æŠ¤ã€‚&lt;/p>
&lt;p>&lt;strong>å®é™…å½±å“&lt;/strong>&lt;/p>
&lt;p>è®©æˆ‘å‘Šè¯‰ä½  Realtime Analytics, Inc. ä» Jenkins åˆ‡æ¢åˆ° GitHub Actions åå‘ç”Ÿäº†ä»€ä¹ˆã€‚&lt;/p>
&lt;p>åœ¨åˆ‡æ¢ä¹‹å‰ï¼Œä»–ä»¬æœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>ä¸¤åå…¨èŒå·¥ç¨‹å¸ˆä¸“é—¨è´Ÿè´£ Jenkins ç»´æŠ¤&lt;/li>
&lt;li>æ¯å‘¨å‘ç”Ÿçš„æ•…éšœå½±å“å¼€å‘è€…ç”Ÿäº§åŠ›&lt;/li>
&lt;li>å¹³å‡æ„å»ºæ—¶é—´ 35 åˆ†é’Ÿ&lt;/li>
&lt;li>å®šæœŸå‡ºç°å®‰å…¨éšæ‚£ï¼Œéœ€è¦ç´§æ€¥ä¿®è¡¥&lt;/li>
&lt;/ul>
&lt;p>åˆ‡æ¢åˆ° GitHub Actions å…­ä¸ªæœˆåï¼š&lt;/p>
&lt;ul>
&lt;li>ä¸¤åå·¥ç¨‹å¸ˆéƒ½è¢«é‡æ–°åˆ†é…åˆ°äº§å“å¼€å‘å·¥ä½œ&lt;/li>
&lt;li>é›¶ CI/CD æ•…éšœ&lt;/li>
&lt;li>æ„å»ºæ—¶é—´ç¼©çŸ­åˆ° 12 åˆ†é’Ÿ&lt;/li>
&lt;li>å®‰å…¨é—®é¢˜ç”± GitHub è‡ªåŠ¨å¤„ç†&lt;/li>
&lt;/ul>
&lt;p>ä»–ä»¬çš„ CTO ä¼°ç®—ï¼Œä»…å·¥ç¨‹æ—¶é—´ä¸€é¡¹ï¼Œè¿™é¡¹æ”¹å˜æ¯å¹´å°±ä¸ºä»–ä»¬èŠ‚çœäº†å¤§çº¦ 30 ä¸‡ç¾å…ƒï¼Œè¿™è¿˜ä¸åŒ…æ‹¬æ”¹å–„çš„å¼€å‘è€…ä½“éªŒå’Œæ›´å¿«çš„ä¸Šå¸‚æ—¶é—´ã€‚&lt;/p>
&lt;h2 id="åˆ‡æ¢æ¯”ä½ æƒ³è±¡çš„æ›´å®¹æ˜“">åˆ‡æ¢ï¼šæ¯”ä½ æƒ³è±¡çš„æ›´å®¹æ˜“
&lt;/h2>&lt;p>ä» Jenkins è¿ç§»åˆ° GitHub Actions çš„æƒ³æ³•å¯èƒ½çœ‹èµ·æ¥ä»¤äººç”Ÿç•ï¼Œä½†å®é™…ä¸Šå®ƒæ¯”ä½ æƒ³è±¡çš„è¦ç®€å•ç›´æ¥å¾—å¤šã€‚&lt;/p>
&lt;p>è¿™é‡Œæœ‰ä¸€ä¸ªç®€åŒ–çš„æ–¹æ³•ï¼š&lt;/p>
&lt;ol>
&lt;li>ä»ä¸€ä¸ªå°å‹ã€éå…³é”®é¡¹ç›®å¼€å§‹&lt;/li>
&lt;li>å°†å…¶ Jenkins æµæ°´çº¿ (pipeline) è½¬æ¢ä¸º GitHub Actions å·¥ä½œæµ (workflow)&lt;/li>
&lt;li>å¹¶è¡Œè¿è¡Œè¿™ä¸¤ä¸ªç³»ç»Ÿä»¥å»ºç«‹ä¿¡å¿ƒ&lt;/li>
&lt;li>éšç€å›¢é˜Ÿé€‚åº”ï¼Œé€æ­¥è¿ç§»æ›´å¤šé¡¹ç›®&lt;/li>
&lt;/ol>
&lt;p>GitHub ç”šè‡³ä¸“é—¨ä¸º Jenkins ç”¨æˆ·æä¾›äº†è¿ç§»æŒ‡å—å’Œç¤ºä¾‹ã€‚&lt;/p>
&lt;h2 id="github-actions-å®Œç¾å—ä¸ä½†å®ƒæ˜¯ä¸€ä¸ªé‡å¤§æ”¹è¿›">GitHub Actions å®Œç¾å—ï¼Ÿä¸ï¼Œä½†å®ƒæ˜¯ä¸€ä¸ªé‡å¤§æ”¹è¿›
&lt;/h2>&lt;p>å…¬å¹³åœ°è¯´ï¼ŒGitHub Actions å¹¶éæ²¡æœ‰å±€é™æ€§ï¼š&lt;/p>
&lt;ul>
&lt;li>å¯¹äºéå¸¸ä¸“ä¸šçš„æ„å»ºè¦æ±‚ï¼Œä½ å¯èƒ½éœ€è¦å®šåˆ¶è§£å†³æ–¹æ¡ˆ&lt;/li>
&lt;li>å¦‚æœä½ æ²¡æœ‰ä½¿ç”¨ GitHub è¿›è¡Œæºä»£ç ç®¡ç† (source control)ï¼Œé›†æˆå°±ä¸ä¼šé‚£ä¹ˆæ— ç¼&lt;/li>
&lt;li>ä¸€äº›å¤æ‚çš„ Jenkins è®¾ç½®å¯èƒ½éœ€è¦ä½ é‡æ–°æ€è€ƒæ–¹æ³•&lt;/li>
&lt;/ul>
&lt;p>ç„¶è€Œï¼Œå¯¹äºç»å¤§å¤šæ•°å¼€å‘å›¢é˜Ÿæ¥è¯´ï¼ŒGitHub Actions å‡ ä¹åœ¨æ‰€æœ‰æ–¹é¢éƒ½ä»£è¡¨ç€å¯¹ Jenkins çš„å·¨å¤§æ”¹è¿›ã€‚&lt;/p>
&lt;h2 id="æ€»ç»“">æ€»ç»“
&lt;/h2>&lt;p>&lt;strong>Jenkins å¤šå¹´æ¥ä¸€ç›´ä¸ºæˆ‘ä»¬æœåŠ¡å¾—å¾ˆå¥½&lt;/strong>ï¼Œä½†è½¯ä»¶å¼€å‘å·²ç»æ¼”è¿›ã€‚ç°ä»£çš„ CI/CD (æŒç»­é›†æˆ/æŒç»­äº¤ä»˜) è§£å†³æ–¹æ¡ˆï¼Œä¾‹å¦‚ GitHub Actionsï¼Œä¸“ä¸ºå½“ä»Šçš„å¼€å‘å®è·µè€Œè®¾è®¡ï¼šäº‘åŸç”Ÿ (cloud-native)ã€æ³¨é‡å®‰å…¨ï¼Œå¹¶ä¼˜åŒ–äº†å¼€å‘è€…ç”Ÿäº§åŠ› (developer productivity)ã€‚&lt;/p>
&lt;p>æ­£å¦‚ Janet æ‰€å‘ç°çš„ï¼Œæœ€åˆçš„è¿ç§»åŠªåŠ›ä¼šè¿…é€Ÿå¸¦æ¥å›æŠ¥ã€‚å¥¹çš„å›¢é˜Ÿç°åœ¨éƒ¨ç½²æ›´é¢‘ç¹ï¼Œé—®é¢˜æ›´å°‘ï¼Œå¹¶ä¸”å‡ ä¹ä¸èŠ±æ—¶é—´ç»´æŠ¤ä»–ä»¬çš„ CI/CD åŸºç¡€è®¾æ–½ã€‚&lt;/p>
&lt;p>&lt;strong>é—®é—®è‡ªå·±ï¼š&lt;/strong> ä¸Šä¸ªæœˆä½ çš„å›¢é˜ŸèŠ±äº†å¤šå°‘æ—¶é—´ä¸ Jenkins ææ–—ï¼Ÿå¦‚æœæŠŠè¿™äº›æ—¶é—´ç”¨äºå…¶ä»–å·¥ä½œï¼Œä½ æœ¬å¯ä»¥æ„å»ºå‡ºä»€ä¹ˆï¼Ÿ&lt;/p>
&lt;p>CI/CD çš„æœªæ¥å·²ç»åˆ°æ¥ã€‚&lt;strong>ä¹Ÿè®¸&lt;/strong>æ˜¯æ—¶å€™è®© Jenkins æˆä¸ºè¿‡å»å¼äº†ã€‚&lt;/p></description></item><item><title>10 åˆ†é’Ÿè¯»æ‡‚ DevOps å·¥å…·é“¾</title><link>https://martinliu.cn/blog/10-minute-read-to-understanding-devops-tools/</link><pubDate>Fri, 02 Apr 2021 22:34:09 +0800</pubDate><guid>https://martinliu.cn/blog/10-minute-read-to-understanding-devops-tools/</guid><description>&lt;img src="https://martinliu.cn/img/cos/2021-04-03-eggs-3216877_1920.jpeg" alt="Featured image of post 10 åˆ†é’Ÿè¯»æ‡‚ DevOps å·¥å…·é“¾" />&lt;p>ã€è¯‘æ–‡ã€‘ä¸Šå‘¨ï¼Œæˆ‘å’Œæˆ‘çš„å‡ ä½éå¸¸èµ„æ·±çš„åŒäº‹éƒ½åœ¨è¯„è®ºè¯´ï¼Œæœ‰å¾ˆå¤šæ–°çš„DevOpså·¥å…·æ­£åœ¨å‡ºç°ï¼Œè€Œä¸”æ¯å¤©éƒ½è¶Šæ¥è¶Šéš¾è·Ÿè¸ªå®ƒä»¬ï¼Œä»¥åŠå®ƒä»¬åœ¨DevOps é¢†åŸŸçš„å®šä½ã€‚æˆ‘é—®äº†ä»–ä»¬å‡ ä¸ªå·¥å…·ï¼ŒAnsibleã€Terraformã€Saltã€Chefã€Bambooã€CloudFormationè¿™äº›å·¥å…·çš„å®šä½åœ¨å“ªé‡Œï¼Ÿæˆ‘ä¸ºä»€ä¹ˆè¦ç”¨è¿™ä¸ªè€Œä¸æ˜¯é‚£ä¸ªï¼Ÿå®ƒä»¬ç”šè‡³æ˜¯åŒä¸€ç§ä¸œè¥¿å—ï¼Ÿæˆ‘æ˜¯ä¸æ˜¯æ¼æ‰äº†ä¸€ä¸ªä¸»è¦è§’è‰²ï¼Ÿæˆ‘å¾—åˆ°äº†ä»€ä¹ˆï¼Œä¸€äº›ç™½çœ¼å’Œé—®é¢˜ã€‚æ‰€ä»¥ï¼Œæˆ‘æƒ³æˆ‘ä¼šåšä¸€äº›ç ”ç©¶ï¼Œé˜…è¯»ï¼Œå¹¶è¯•å›¾è®©æˆ‘ä»¬æ‰€æœ‰äººç†è§£å®ƒï¼Œä»¥ä¾¿æˆ‘ä»¬å¯ä»¥å°†é‚£äº›äº§å“éƒ½åˆ†ç±»åˆ°æˆ‘ä»¬éƒ½ç†Ÿæ‚‰çš„ç±»åˆ«æˆ–ç”¨é€”ã€‚&lt;/p>
&lt;p>åŸæ–‡ï¼š&lt;a class="link" href="https://levelup.gitconnected.com/the-10-minute-read-to-understanding-devops-tools-bc4ac807a25d" target="_blank" rel="noopener"
>https://levelup.gitconnected.com/the-10-minute-read-to-understanding-devops-tools-bc4ac807a25d&lt;/a>&lt;/p>
&lt;p>åœ¨æˆ‘ä»¬å¼€å§‹è°ˆè®ºDevOpså·¥å…·å’Œç±»åˆ«ä¹‹å‰ï¼Œè®©æˆ‘ä»¬é€€ä¸€æ­¥è®¨è®ºå‡ ä¸ªåŸºæœ¬çš„ï¼ˆä½†å¾€å¾€æ˜¯è¶…è½½çš„ï¼‰æœ¯è¯­ä»¥åŠå®ƒä»¬çš„å«ä¹‰ã€‚&lt;/p>
&lt;p>&lt;strong>è®¡ç®—æœº/æœåŠ¡å™¨&lt;/strong> - &lt;strong>Computer/Server&lt;/strong>ï¼š å…·æœ‰ä¸­å¤®å¤„ç†å™¨ï¼ˆCPUï¼‰ã€å†…å­˜ï¼ˆRAMï¼‰ã€æœ¬åœ°å­˜å‚¨ï¼ˆç£ç›˜ï¼‰å¹¶è¿è¡Œæ“ä½œç³»ç»Ÿçš„ç‰©ç†è®¾å¤‡ã€‚&lt;/p>
&lt;p>&lt;strong>è™šæ‹Ÿæœº&lt;/strong> - &lt;strong>Virtual Machine&lt;/strong>ï¼šåœ¨ä¸»æœºä¸Šè¿è¡Œçš„è®¡ç®—æœºç³»ç»Ÿçš„æ¨¡æ‹Ÿå™¨ï¼ˆè™šæ‹Ÿæœºç®¡ç†ç¨‹åºï¼‰ï¼›vm é€šå¸¸å¯ä»¥åœ¨CPUã€å†…å­˜å’Œç£ç›˜ä½¿ç”¨æ–¹é¢ä¸å…¶ä»–æ“ä½œç³»ç»Ÿéš”ç¦»ã€‚&lt;/p>
&lt;p>&lt;img src="https://martinliu.cn/img/cos/2021-04-02-0-cuHFPvnmr141Dfcc.png"
loading="lazy"
>&lt;/p>
&lt;p>&lt;strong>å®¹å™¨&lt;/strong>&amp;ndash;&lt;strong>Containers&lt;/strong>ï¼šæ‰“åŒ…ä¸€ä¸ªè½¯ä»¶åŠå…¶æ‰€æœ‰ä¾èµ–ï¼Œä½¿å…¶èƒ½å¤Ÿåœ¨ä»»ä½•åŸºç¡€è®¾æ–½ä¸Šç»Ÿä¸€ã€ä¸€è‡´åœ°è¿è¡Œã€‚Dockerå®¹å™¨æ˜¯æœ€æµè¡Œçš„ã€‚å®ƒä»¬å…è®¸ä½ æ‰“åŒ…ä¸€å †ä¸œè¥¿ï¼ˆä½ çš„è½¯ä»¶ã€é…ç½®å’Œå…¶ä»–è½¯ä»¶ï¼‰ï¼Œä»¥ä¾¿äºéƒ¨ç½²å’Œä¼ è¾“ã€‚ä½ å¯ä»¥æŠŠå®¹å™¨çœ‹ä½œæ˜¯è™šæ‹ŸåŒ–çš„ä¸‹ä¸€ä»£è¿›åŒ–ï¼ˆç»§è™šæ‹Ÿæœºä¹‹åï¼‰ã€‚&lt;/p>
&lt;p>&lt;img src="https://martinliu.cn/img/cos/2021-04-02-0-hWRNCynYRFw2KCxn.png"
loading="lazy"
>&lt;/p>
&lt;p>&lt;strong>ç½‘ç»œè®¾å¤‡&lt;/strong> - &lt;strong>Network Device&lt;/strong>ï¼šåœ¨è®¾å¤‡ä¹‹é—´è·¯ç”±ç½‘ç»œæµé‡çš„ç¡¬ä»¶ã€‚ä¾‹å¦‚è·¯ç”±å™¨ã€è´Ÿè½½å¹³è¡¡å™¨å’Œé˜²ç«å¢™ã€‚&lt;/p>
&lt;p>&lt;strong>è½¯ä»¶&lt;/strong> - &lt;strong>Software&lt;/strong>ï¼šç¼–ç å¹¶åœ¨æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œçš„ä»£ç ã€‚&lt;/p>
&lt;p>&lt;strong>DevOps&lt;/strong> - ä¼ ç»Ÿä¸Šæœ‰ &amp;ldquo;å¼€å‘&amp;rdquo;ï¼ˆä½ æ¥æ„å»ºå®ƒï¼‰ï¼Œè¿˜æœ‰ &amp;ldquo;è¿ç»´&amp;rdquo;ï¼ˆæˆ‘ä»¬å°†è¿è¡Œå®ƒï¼‰ï¼Œä»–ä»¬ä¸¤è€…ä¹‹é—´çš„ä¸€åˆ‡éƒ½å—åˆ¶äºä½œåŠå¼çš„å·¥ä½œæ–¹å¼ã€‚ä»2010å¹´å·¦å³å¼€å§‹ï¼Œåˆ°2018å¹´å·¦å³DevOps å·²ç»å‘å±•ä¸ºå‡ ä¹æ— å¤„ä¸åœ¨çš„ç°è±¡ï¼ŒDevOpsçš„ç†å¿µæ˜¯ï¼š&amp;ldquo;ä¸€å¥—å®è·µï¼Œç›®çš„æ˜¯åœ¨ä¿è¯é«˜è´¨é‡çš„å‰æä¸‹ï¼Œç¼©çŸ­ä»æäº¤ç³»ç»Ÿå˜æ›´åˆ°å˜æ›´æŠ•å…¥æ­£å¸¸ç”Ÿäº§ç¯å¢ƒä¹‹é—´çš„æ—¶é—´&amp;rdquo;ã€‚&lt;/p>
&lt;p>å½“ä½ åœ¨è€ƒè™‘æ„å»ºå’Œè¿è¡Œä¸€ä¸ªéåŒå¯»å¸¸çš„ç³»ç»Ÿæ—¶ï¼Œå…¶å®è¿˜æœ‰å¾ˆå¤šä¸å¾—ä¸åšçš„äº‹æƒ…ã€‚ä»¥ä¸‹æ˜¯éœ€è¦è€ƒè™‘åˆ°çš„ä¼ ç»Ÿçš„äº‹é¡¹æ¸…å•ã€‚&lt;/p>
&lt;ol>
&lt;li>è·å–è®¡ç®—æœº/æœåŠ¡å™¨ç¡¬ä»¶ ï¼ˆObtaining the computer/server hardwareï¼‰&lt;/li>
&lt;li>é…ç½®è®¡ç®—æœº/æœåŠ¡å™¨ç¡¬ä»¶ï¼ˆæ“ä½œç³»ç»Ÿã€ç½‘ç»œå¸ƒçº¿ç­‰ï¼‰ï¼ˆConfiguring the computer/server hardware (operating systems, network wiring, etc.)ï¼‰&lt;/li>
&lt;li>ç›‘æ§è®¡ç®—æœº/æœåŠ¡å™¨ç¡¬ä»¶ï¼ˆMonitoring the computer/server hardwareï¼‰&lt;/li>
&lt;li>è·å–ç½‘ç»œè®¾å¤‡ï¼ˆè´Ÿè½½å‡è¡¡å™¨ã€é˜²ç«å¢™ã€è·¯ç”±å™¨ç­‰ï¼‰ï¼ˆObtaining the network devices (load balancers, firewalls, routers, etc.)ï¼‰&lt;/li>
&lt;li>é…ç½®ç½‘ç»œè®¾å¤‡ï¼ˆConfiguring the network devicesï¼‰&lt;/li>
&lt;li>ç›‘æ§ç½‘ç»œè®¾å¤‡ï¼ˆMonitoring the network devicesï¼‰&lt;/li>
&lt;li>ç¼–å†™è½¯ä»¶ï¼ˆConstructing the softwareï¼‰&lt;/li>
&lt;li>æ„å»ºè½¯ä»¶ï¼ˆBuilding the softwareï¼‰&lt;/li>
&lt;li>æµ‹è¯•è½¯ä»¶ï¼ˆTesting the softwareï¼‰&lt;/li>
&lt;li>è½¯ä»¶æ‰“åŒ…ï¼ˆPackaging the softwareï¼‰&lt;/li>
&lt;li>éƒ¨ç½²/å‘å¸ƒè½¯ä»¶ï¼ˆDeploying/releasing the softwareï¼‰&lt;/li>
&lt;li>ç›‘æµ‹è½¯ä»¶ï¼ˆMonitoring the softwareï¼‰&lt;/li>
&lt;/ol>
&lt;p>åœ¨DevOpsä¹‹å‰ï¼Œæˆ‘ä»¬æ›¾ç»æœ‰å››ä¸ªä¸åŒçš„å›¢é˜Ÿåœ¨åšè¿™é¡¹å·¥ä½œã€‚&lt;/p>
&lt;ul>
&lt;li>Developer å¼€å‘äººå‘˜ â€” ä»–ä»¬ä¼šåš #7, #8 ï¼Œæœ‰æ—¶å€™åŒ…æ‹¬ #10&lt;/li>
&lt;li>QA æµ‹è¯•äººå‘˜â€” ä»–ä»¬ä¼šåš #9 ï¼Œæœ‰æ—¶å€™åŒ…æ‹¬ #11&lt;/li>
&lt;li>System Administrator ç³»ç»Ÿç®¡ç†å‘˜ â€” ä»–ä»¬ä¼šåš #1, #2, #3, #12&lt;/li>
&lt;li>Network Administrator ç½‘ç»œç®¡ç†å‘˜ â€” ä»–ä»¬ä¼šåš #4, #5, #6&lt;/li>
&lt;/ul>
&lt;p>å¯¹äºç¡¬ä»¶ã€ç½‘ç»œè®¾å¤‡å’Œè½¯ä»¶çš„é…ç½®ï¼Œæ¯ä¸ªå›¢é˜Ÿå¾ˆå¯èƒ½ä¼šä½¿ç”¨è‡ªå·±çš„ä¸€å¥—è„šæœ¬å’Œå·¥å…·ï¼Œè€Œä¸”åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œä¼šé€šè¿‡æ‰‹å·¥æ“ä½œæ¥å®ç° &amp;ldquo;è½¯ä»¶å‘å¸ƒ&amp;rdquo;ã€‚&lt;/p>
&lt;p>éšç€DevOpsçš„å‡ºç°ï¼Œå¯¹æˆ‘æ¥è¯´ï¼Œå…³é”®çš„æƒ³æ³•æ˜¯æ‰“ç ´è¿™äº›éƒ¨é—¨å¢™ï¼Œè®©æ¯ä¸ªäººéƒ½æˆä¸º &amp;ldquo;ä¸€ä¸ª &amp;quot; å›¢é˜Ÿçš„ä¸€éƒ¨åˆ†ï¼Œä¸ºæ‰€æœ‰äº‹ç‰©çš„é…ç½®ã€éƒ¨ç½²å’Œç®¡ç†æ–¹å¼å¸¦æ¥ä¸€è‡´æ€§ã€‚&lt;/p>
&lt;p>&lt;strong>äº‘&lt;/strong>&amp;ndash;&lt;strong>Cloud&lt;/strong>ï¼šå®šä¹‰ä¿¡æ¯æŠ€æœ¯å²ä¸Šæœ€æµè¡Œçš„åè¯æ˜¯å¾ˆéš¾çš„ï¼Œä½†æˆ‘å–œæ¬¢é‚£ä»¶Tæ¤ï¼Œä¸Šé¢å†™ç€ &amp;ldquo;æ²¡æœ‰äº‘ï¼Œåªæ˜¯åˆ«äººçš„ç”µè„‘&amp;rdquo;ã€‚æœ€åˆï¼Œå½“äº‘æœåŠ¡å¼€å§‹çš„æ—¶å€™ï¼Œå®ƒä»¬çœŸçš„åªæ˜¯åˆ«äººçš„ç”µè„‘ï¼ˆæˆ–è€…è¿è¡Œåœ¨ç”µè„‘ä¸Šçš„è™šæ‹Ÿæœºï¼‰ï¼Œæˆ–è€…å­˜å‚¨ã€‚éšç€æ—¶é—´çš„æ¨ç§»ï¼Œå®ƒä»¬å·²ç»æ¼”å˜æˆåˆ°äº†ç°åœ¨çš„çŠ¶æ€ï¼ŒåŒ…å«å¾ˆå¤šå¾ˆå¤šçš„å¢å€¼æœåŠ¡ã€‚ç¡¬ä»¶å¤§éƒ¨åˆ†å·²ç»è¢«æŠ½è±¡æ‰äº†ï¼Œç°åœ¨å¤§å¤šæ•°äº‘æœåŠ¡ä¸­ï¼Œä½ ä¸èƒ½è´­ä¹°å®ƒä»¬çš„ç¡¬ä»¶è®¾å¤‡ï¼Œä½†ä½ å¯ä»¥è´­ä¹°è¿™äº›ç¡¬ä»¶è®¾å¤‡æ‰€æä¾›çš„å„ç§äº‘æœåŠ¡ã€‚&lt;/p>
&lt;p>&lt;strong>åŸºç¡€æ¶æ„å³ä»£ç &lt;/strong>(&lt;strong>IAC&lt;/strong>)&amp;ndash;ï¼šä¸€ç§æ–°çš„èƒ½åŠ›æˆ–æ¦‚å¿µï¼Œå®ƒå…è®¸æˆ‘ä»¬é€šè¿‡å®šä¹‰æˆ–é…ç½®æ–‡ä»¶æ¥å®Œæ•´çš„å®šä¹‰æ•°æ®ä¸­å¿ƒä¸­æ‰€æœ‰é¡¹ç›®çš„è®¾ç½®ï¼ŒåŒ…æ‹¬è™šæ‹Ÿæœºã€å®¹å™¨å’Œç½‘ç»œè®¾å¤‡ã€‚è¿™ä¸ªæ¦‚å¿µæ˜¯æˆ‘å¯ä»¥åˆ›å»ºä¸€äº›é…ç½®å’Œä¸€äº›è„šæœ¬ï¼Œç„¶åä½¿ç”¨æˆ‘ä»¬å³å°†è®¨è®ºçš„ä¸€ä¸ªå·¥å…·æ¥è¿è¡Œå®ƒä»¬ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨ä¸ºæˆ‘ä»¬æŒ‰éœ€é…åˆ¶å‡ºæ•°æ®ä¸­å¿ƒçš„æ‰€æœ‰æœåŠ¡ã€‚CI/CDæ˜¯IACçš„å‰èº«ï¼Œå¤šå¹´æ¥æˆ‘ä»¬ä¸€ç›´è‡´åŠ›äºè‡ªåŠ¨åŒ–æˆ‘ä»¬çš„æ„å»º/æµ‹è¯•/é›†æˆ/éƒ¨ç½²å‘¨æœŸï¼Œåœ¨æˆ‘ä»¬çš„äº‘åŸºç¡€è®¾æ–½ä¸Šåšè¿™ä¸ªå·¥ä½œæ˜¯ä¸€ä¸ªè‡ªç„¶çš„å»¶ä¼¸ã€‚è¿™å¸¦æ¥äº†æˆæœ¬çš„é™ä½ï¼Œæ›´å¿«çš„ä¸Šå¸‚æ—¶é—´ï¼Œä»¥åŠæ›´å°çš„é£é™©ï¼ˆäººä¸ºé”™è¯¯ï¼‰ã€‚&lt;/p>
&lt;p>éšç€IACçš„å‡ºç°ï¼Œè®¸å¤šä¼ ç»Ÿçš„å¼€å‘å·¥å…·ç°åœ¨å¯ä»¥ç”¨äºç®¡ç†åŸºç¡€è®¾æ–½ã€‚åƒè½¯ä»¶ä»“åº“ã€æ„å»ºå·¥å…·ã€CI/CDã€ä»£ç åˆ†æå™¨å’Œæµ‹è¯•å·¥å…·ç­‰ç±»åˆ«çš„å·¥å…·ï¼ˆå¦‚ä¸‹æ‰€åˆ—ï¼‰ï¼Œä¼ ç»Ÿä¸Šæ˜¯ç”±è½¯ä»¶å¼€å‘äººå‘˜ä½¿ç”¨çš„ï¼Œç°åœ¨å¯ä»¥è¢«DevOpså·¥ç¨‹å¸ˆç”¨æ¥æ„å»ºå’Œç»´æŠ¤åŸºç¡€è®¾æ–½ã€‚&lt;/p>
&lt;blockquote>
&lt;p>AGAIN: &amp;ldquo;éšç€DevOpsçš„å‡ºç°ï¼Œå¯¹æˆ‘æ¥è¯´ï¼Œå…³é”®çš„ç†å¿µæ˜¯&amp;hellip;&amp;hellip;è®©æ¯ä¸ªäººéƒ½æˆä¸º&amp;rsquo;ä¸€ä¸ª&amp;rsquo;å›¢é˜Ÿçš„ä¸€éƒ¨åˆ†ï¼Œä¸ºæ‰€æœ‰äº‹ç‰©çš„é…ç½®ã€éƒ¨ç½²å’Œç®¡ç†æ–¹å¼å¸¦æ¥ä¸€è‡´æ€§ã€‚&amp;rdquo;&lt;/p>&lt;/blockquote>
&lt;p>å› æ­¤ï¼Œç°åœ¨æˆ‘ä»¬å·²ç»å®šä¹‰äº†ä»¥ä¸ŠåŸºç¡€æœ¯è¯­/æ¦‚å¿µï¼Œè®©æˆ‘å›åˆ°è¯•å›¾å¯¹DevOpså·¥å…·è¿›è¡Œåˆ†ç±»çš„ä»»åŠ¡ï¼Œä»¥ä½¿æˆ‘ä»¬æ›´å®¹æ˜“ç¡®å®šä»€ä¹ˆå·¥å…·æ˜¯ç”¨äºä»€ä¹ˆç›®çš„çš„ã€‚&lt;/p>
&lt;ul>
&lt;li>&lt;strong>è½¯ä»¶ä»“åº“&lt;/strong> &amp;ndash; ç®¡ç†è½¯ä»¶ç‰ˆæœ¬çš„å·¥å…·&amp;ndash;ç›®å‰ä½¿ç”¨æœ€å¹¿æ³›çš„æ˜¯Gitã€‚&lt;/li>
&lt;li>&lt;strong>æ„å»ºå·¥å…·&lt;/strong>&amp;ndash;æœ‰äº›è½¯ä»¶åœ¨æ‰“åŒ…æˆ–ä½¿ç”¨å‰éœ€è¦ç¼–è¯‘ï¼Œä¼ ç»Ÿçš„æ„å»ºå·¥å…·åŒ…æ‹¬Makeã€Antã€Mavenå’ŒMSBuildã€‚&lt;/li>
&lt;li>&lt;strong>æŒç»­é›†æˆå·¥å…·&lt;/strong>&amp;ndash;åœ¨é…ç½®å¥½ä»¥åï¼Œæ¯æ¬¡å°†ä»£ç æäº¤åˆ°å­˜å‚¨åº“ä¸­æ—¶ï¼Œå®ƒéƒ½ä¼šå¯¹è½¯ä»¶è¿›è¡Œæ„å»ºã€éƒ¨ç½²å’Œæµ‹è¯•ã€‚è¿™é€šå¸¸å¯ä»¥æé«˜è½¯ä»¶è´¨é‡å’Œä¸Šå¸‚æ—¶é—´ã€‚è¿™ä¸ªå¸‚åœºä¸Šæœ€æµè¡Œçš„å·¥å…·æ˜¯ Jenkinsã€Travisã€TeamCityå’ŒBambooã€‚&lt;/li>
&lt;li>&lt;strong>ä»£ç åˆ†æ/å®¡æŸ¥å·¥å…·&lt;/strong>&amp;ndash;è¿™äº›å·¥å…·å¯ä»¥æŸ¥æ‰¾ä»£ç ä¸­çš„é”™è¯¯ï¼Œæ£€æŸ¥ä»£ç æ ¼å¼å’Œè´¨é‡ï¼Œä»¥åŠæµ‹è¯•è¦†ç›–ç‡ã€‚è¿™äº›å·¥å…·å› ç¼–ç¨‹è¯­è¨€è€Œå¼‚ã€‚SonarQubeæ˜¯è¿™ä¸ªé¢†åŸŸçš„ä¸€ä¸ªæµè¡Œå·¥å…·ï¼Œè¿˜æœ‰å…¶ä»–å„ç§ &amp;ldquo;è½»é‡çš„ &amp;ldquo;å·¥å…·ã€‚&lt;/li>
&lt;li>&lt;strong>é…ç½®ç®¡ç†&lt;/strong>&amp;ndash;é…ç½®ç®¡ç†å·¥å…·å’Œæ•°æ®åº“é€šå¸¸å­˜å‚¨æ‰€æœ‰å…³äºä½ çš„ç¡¬ä»¶å’Œè½¯ä»¶é¡¹ç›®çš„ä¿¡æ¯ï¼Œä»¥åŠæä¾›ä¸€ä¸ªè„šæœ¬å’Œ/æˆ–æ¨¡æ¿ç³»ç»Ÿï¼Œç”¨äºè‡ªåŠ¨åŒ–å¸¸è§ä»»åŠ¡ã€‚åœ¨è¿™ä¸ªé¢†åŸŸä¼¼ä¹æœ‰å¾ˆå¤šç©å®¶ã€‚ä¼ ç»Ÿçš„ç©å®¶æ˜¯Chefã€Puppetå’ŒSalt Stackã€‚&lt;/li>
&lt;li>&lt;strong>éƒ¨ç½²å·¥å…·&lt;/strong>&amp;ndash;è¿™äº›å·¥å…·æœ‰åŠ©äºè½¯ä»¶çš„éƒ¨ç½²ã€‚è®¸å¤šCIå·¥å…·ä¹Ÿæ˜¯CDï¼ˆæŒç»­éƒ¨ç½²ï¼‰å·¥å…·ï¼Œå®ƒä»¬ååŠ©è½¯ä»¶çš„éƒ¨ç½²ã€‚ä¼ ç»Ÿä¸Šåœ¨Rubyè¯­è¨€ä¸­ï¼ŒCapistranoå·¥å…·è¢«å¹¿æ³›ä½¿ç”¨ï¼›åœ¨Javaè¯­è¨€ä¸­ï¼ŒMavenè¢«å¾ˆå¤šäººä½¿ç”¨ã€‚æ‰€æœ‰çš„ç¼–æ’å·¥å…·ä¹Ÿéƒ½æ”¯æŒæŸç§å½¢å¼çš„éƒ¨ç½²ã€‚&lt;/li>
&lt;li>&lt;strong>ç¼–æ’å·¥å…·&lt;/strong>&amp;ndash;è¿™äº›å·¥å…·é…ç½®ã€è°ƒåº¦å’Œç®¡ç†è®¡ç®—æœºç³»ç»Ÿå’Œè½¯ä»¶ã€‚å®ƒä»¬é€šå¸¸å°† &amp;ldquo;è‡ªåŠ¨åŒ– &amp;ldquo;å’Œ &amp;ldquo;å·¥ä½œæµ &amp;ldquo;ä½œä¸ºå…¶æœåŠ¡çš„ä¸€éƒ¨åˆ†ã€‚Kubernetesæ˜¯ä¸€ä¸ªéå¸¸æµè¡Œçš„ç¼–æ’å·¥å…·ï¼Œå®ƒä¸“æ³¨äºå®¹å™¨ã€‚Terraformæ˜¯ä¸€ä¸ªéå¸¸æµè¡Œçš„ç¼–æ’å·¥å…·ï¼Œå®ƒçš„å…³æ³¨ç‚¹æ›´å¹¿ï¼ŒåŒ…æ‹¬äº‘ç¼–æ’ã€‚å¦å¤–ï¼Œæ¯ä¸ªäº‘æä¾›å•†éƒ½æœ‰è‡ªå·±çš„ä¸€å¥—å·¥å…·ï¼ˆCloudFormationã€GCP Deployment Manager, å’ŒARMï¼‰ã€‚&lt;/li>
&lt;li>&lt;strong>ç›‘æ§å·¥å…·&lt;/strong> - è¿™äº›å·¥å…·å…è®¸ç›‘æ§ç¡¬ä»¶å’Œè½¯ä»¶ã€‚é€šå¸¸ï¼Œå®ƒä»¬åŒ…æ‹¬ç›‘æ§ä»£ç†ç¨‹åºï¼Œç”¨äºç›‘è§†è¿›ç¨‹å’Œæ—¥å¿—æ–‡ä»¶ï¼Œä»¥ç¡®ä¿ç³»ç»Ÿçš„å¥åº·ã€‚Nagiosæ˜¯ä¸€ç§æµè¡Œçš„ç›‘æ§å·¥å…·ã€‚&lt;/li>
&lt;li>&lt;strong>æµ‹è¯•å·¥å…·&lt;/strong> - æµ‹è¯•å·¥å…·ç”¨äºç®¡ç†æµ‹è¯•ï¼Œä»¥åŠæµ‹è¯•è‡ªåŠ¨åŒ–ï¼ŒåŒ…æ‹¬æ€§èƒ½å’Œè´Ÿè½½æµ‹è¯•ç­‰ã€‚&lt;/li>
&lt;/ul>
&lt;p>å½“ç„¶ï¼Œå’Œå…¶ä»–ä»»ä½•ä¸€å¥—äº§å“ä¸€æ ·ï¼Œç±»åˆ«ä¹Ÿä¸ä¸€å®šå®Œå…¨æ¸…æ™°ã€‚è®¸å¤šå·¥å…·éƒ½æ˜¯è·¨ç±»åˆ«çš„ï¼Œå¹¶æä¾›ä¸¤ä¸ªæˆ–å¤šä¸ªç±»åˆ«çš„åŠŸèƒ½ã€‚ä¸‹é¢æ˜¯æˆ‘è¯•å›¾å±•ç¤ºå¤§å¤šæ•°éå¸¸æµè¡Œçš„å·¥å…·ï¼Œå¹¶å¯è§†åŒ–å®ƒä»¬åœ¨è¿™äº›ç±»åˆ«ä¸­çš„ä½ç½®ã€‚&lt;/p>
&lt;p>&lt;img src="https://martinliu.cn/img/cos/2021-04-02-1-wTp-r9QJvF-DXGZDZUHmbA.jpeg"
loading="lazy"
>&lt;/p>
&lt;p>æ­£å¦‚ä½ æ‰€çœ‹åˆ°çš„ï¼Œæœ‰å‡ ä¸ªç©å®¶ï¼Œå¦‚Ansibleã€Terraformå’Œäº‘å·¥å…·(AWSã€GCPå’ŒAzure)ï¼Œæ­£è¯•å›¾é€šè¿‡ä»–ä»¬çš„äº§å“è¦†ç›–éƒ¨ç½²ã€é…ç½®ç®¡ç†å’Œç¼–æ’ç±»åˆ«ã€‚è€ç‰Œå·¥å…·é›†Puppetã€Chefå’ŒSalt Stackä¸“æ³¨äºé…ç½®ç®¡ç†å’Œè‡ªåŠ¨åŒ–ï¼Œä½†å·²ç»æ‰©å±•åˆ°ç¼–æ’å’Œéƒ¨ç½²çš„ã€‚è¿˜æœ‰åƒGitLabå’ŒAzure DevOpsè¿™æ ·çš„å·¥å…·ï¼Œå‡ ä¹è¯•å›¾è·¨è¶ŠDevOpsçš„æ‰€æœ‰ç±»åˆ«ã€‚&lt;/p>
&lt;p>æˆ‘å¸Œæœ›è¿™ä¸ªæ¦‚è¿°èƒ½å¸®åŠ©ä½ äº†è§£DevOpsçš„åŸºç¡€çŸ¥è¯†ï¼Œå¯ç”¨å·¥å…·çš„ç±»åˆ«ï¼Œä»¥åŠç›®å‰å¸‚åœºä¸Šçš„å„ç§äº§å“å¦‚ä½•åœ¨è¿™äº›ç±»åˆ«ä¸­çš„ä¸€ä¸ªæˆ–å¤šä¸ªç±»åˆ«ä¸­æä¾›å¸®åŠ©ã€‚åœ¨Solution Streetï¼Œå¤šå¹´æ¥æˆ‘ä»¬å·²ç»ä½¿ç”¨äº†è®¸å¤šè¿™æ ·çš„å·¥å…·ï¼Œå¯¹æˆ‘ä»¬æ¥è¯´ï¼Œæ²¡æœ‰ä¸€ä¸ªå•ä¸€çš„ &amp;ldquo;ä¸€æ‹›é²œ &amp;ldquo;çš„å·¥å…·èƒ½èƒœä»»æ‰€æœ‰æƒ…å†µä¸‹ä½¿ç”¨ã€‚ä½¿ç”¨ä»€ä¹ˆæ˜¯åŸºäºæ‰€ä½¿ç”¨çš„æŠ€æœ¯ï¼Œåœ¨å“ªé‡Œæ‰˜ç®¡ï¼ˆä»¥åŠæœªæ¥å¯èƒ½åœ¨å“ªé‡Œæ‰˜ç®¡ï¼‰ï¼Œä»¥åŠå›¢é˜Ÿçš„äººæ‰å’Œæ„æˆã€‚&lt;/p>
&lt;blockquote>
&lt;p>æ•™ç»ƒè§‚ç‚¹ï¼šæ•æ·æ•™ç»ƒä¸èƒ½å›é¿DevOps å·¥å…·é“¾çš„è¯é¢˜ï¼Œä¸­ä½å±‚ç®¡ç†äººå‘˜æ›´åº”è¯¥åœ¨å®è§‚ä¸Šæ·±åˆ»ç†è§£ SLDC æ‰€æœ‰ç¯èŠ‚çš„æŠ€æœ¯æ¦‚è¦å’Œå·¥å…·éœ€æ±‚ï¼Œéœ€è¦å…·å¤‡åŸºç¡€çš„æ¦‚å¿µçŸ¥è¯†ï¼Œå…·å¤‡å’Œå·¥ç¨‹å¸ˆè®¨è®ºæ‰€å¿…å¤‡çš„è¯­è¨€ã€‚å·¥ç¨‹å¸ˆä»¬æ›´è¦æœ‰å·¥å…·é“¾æ•´ä½“ä¼˜åŒ–çš„æ„è¯†ï¼Œè€Œä¸ä»…ä»…æ˜¯ç²¾é€šæŸä¸ªç¯èŠ‚ï¼Œæˆ–å±€é™åœ¨ä¸è‡ªå·±çš„ä¸Šä¸‹æ¸¸å·¥å…·ä¸Šï¼Œå·¥ä½œåœ¨è¿™ä¸ªç³»ç»Ÿä¸­çš„æ‰€æœ‰äººéœ€è¦æœ‰å…¨å±€åä½œå’Œä¼˜åŒ–çš„æ„è¯†ï¼Œä¼˜åŒ–ä»·å€¼æµçš„æµé‡ã€æµé€Ÿï¼Œå…³æ³¨ä»·å€¼çš„äº§ç”Ÿã€‚è­¦æƒ•&amp;mdash;-æ•´ä¸ªå·¥å…·é“¾çš„è‡ªåŠ¨åŒ–ç¨‹åº¦è¶Šé«˜ï¼Œä¸ä¸€å®šå·¥ä½œæ•ˆç‡è¶Šé«˜ï¼ŒåŠ ç­è¶Šå°‘ï¼Œå…¬å¸ç›ˆåˆ©è¶Šå¤šã€‚å®ƒä»¬å…¶å®æ˜¯ç›¸äº’ä½œç”¨çš„ã€‚&lt;/p>&lt;/blockquote></description></item><item><title>åœ¨ Github ä¸Šæ­å»ºåŸºäº Hugo çš„å…è´¹ä¸ªäººåšå®¢</title><link>https://martinliu.cn/blog/github-hugo-blog/</link><pubDate>Sat, 06 Feb 2021 00:00:00 +0000</pubDate><guid>https://martinliu.cn/blog/github-hugo-blog/</guid><description>&lt;img src="https://martinliu.cn/img/2019/03/pic03.jpg" alt="Featured image of post åœ¨ Github ä¸Šæ­å»ºåŸºäº Hugo çš„å…è´¹ä¸ªäººåšå®¢" />&lt;p>æœ€è¿‘æ›´æ–°äº†æ–°çš„åšå®¢æ ·å¼ï¼Œå†æ¬¡æ¬è¿å›åˆ°äº† GitHub å¹³å°ï¼Œå¹¶ä½¿ç”¨äº† Github Action çš„è‡ªåŠ¨åŒ– CI/CD å‘å¸ƒåŠŸèƒ½ã€‚è¿™ä¸ªæ˜¯ä¸€ä¸ªä»»ä½•äººéƒ½å¯ä»¥æ‹¥æœ‰çš„æ–¹æ¡ˆï¼Œç°åœ¨ç”¨æœ€ç®€æ´çš„è¯­è¨€åˆ†äº«ç»™å¤§å®¶ã€‚&lt;/p>
&lt;p>é€‰æ‹©å°†åšå®¢æ­å»ºåœ¨ Github ä¸Šçš„åŸå› åŒ…æ‹¬ï¼š&lt;/p>
&lt;ul>
&lt;li>Github Pages æ˜¯ä¸€ä¸ªå…è´¹ä½¿ç”¨çš„åŠŸèƒ½ï¼Œåœ¨ä¸å¼ºæ±‚ç½‘ç«™è®¿é—®é€Ÿåº¦ï¼Œè€ƒè™‘æŒä¹…æ€§çš„æƒ…å†µä¸‹ï¼ŒGithub Pages ä¸å¤±ä¸ºä¸€æ ¹ä¼˜ç§€çš„ç¾Šæ¯›ã€‚&lt;/li>
&lt;li>ç”¨ master åˆ†æ”¯ç®¡ç† hugo ç«™ç‚¹çš„æ‰€æœ‰ä»£ç å’Œæ–‡ä»¶ï¼ˆmarkdownã€ç½‘ç«™æ¨¡æ¿å’Œå›¾ç‰‡ï¼‰ï¼Œç”¨ gh-pages åˆ†æ”¯å­˜æ”¾ Hugo ç¼–è¯‘åçš„ç½‘ç«™å‘å¸ƒæ–‡ä»¶&lt;/li>
&lt;li>Github Actions åŠŸèƒ½å®ç°äº†è‡ªåŠ¨åŒ–çš„ç¼–è¯‘å’Œéƒ¨ç½²åŠŸèƒ½ï¼Œä½¿ç”¨å®ƒæ‰€æä¾›çš„å·¥ä½œæµå°† master åˆ†æ”¯ä¸­çš„æ›´æ–°ç¼–è¯‘åå‘å¸ƒåˆ° gh-pages åˆ†æ”¯ä¸­&lt;/li>
&lt;/ul>
&lt;p>è€Œ Hugo æ˜¯ä¸€æ¬¾æ¯”è¾ƒæµè¡Œçš„é™æ€ç½‘ç«™ç®¡ç†è½¯ä»¶ï¼Œå¯ä»¥åœ¨å„ç§æ“ä½œç³»ç»Ÿè½»æ¾çš„å®‰è£…æœ¬åœ°çš„åšå®¢ç¯å¢ƒï¼Œåœ¨æœ¬åœ°çš„æ“ä½œç³»ç»Ÿä¸Šå®ç°åšå®¢çš„é¢„è§ˆå’Œæµ‹è¯•ã€‚Hugo çš„ç¤¾åŒºæä¾›äº†å¤§é‡çš„å…è´¹ç½‘ç«™æ¨¡æ¿ï¼Œä¸åŒç±»å‹çš„æ¨¡æ¿å¯ä»¥æ»¡è¶³å„ç§ç½‘ç«™éœ€æ±‚ã€‚&lt;/p>
&lt;h2 id="é€‰æ‹©-hugo-åšå®¢ä¸»é¢˜">é€‰æ‹© Hugo åšå®¢ä¸»é¢˜
&lt;/h2>&lt;p>åœ¨ &lt;a class="link" href="https://themes.gohugo.io/" target="_blank" rel="noopener"
>https://themes.gohugo.io/&lt;/a> å¯ä»¥æœç´¢åˆ°å¤§é‡çš„å…è´¹ç½‘ç«™æ¨¡æ¿ã€‚æˆ‘è¿™æ¬¡é€‰æ‹©äº†åä¸º â€œHUGO FUTURE IMPERFECT SLIMâ€ çš„æ¨¡æ¿ã€‚&lt;/p>
&lt;p>è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½éå¸¸ä¸°å¯Œçš„æ¨¡æ¿ï¼š&lt;/p>
&lt;ul>
&lt;li>ç•Œé¢ç®€æ´ï¼Œå…¼å…·ä¸°å¯Œçš„æ ¼å¼ï¼Œåšå®¢æ–‡ç« æœ‰å¤´å›¾&lt;/li>
&lt;li>å¸¦æœ‰ä¾§æ &lt;/li>
&lt;li>å¸¦æœ‰ â€˜aboutâ€™ â€˜categoriesâ€™ â€˜contactâ€™ ç­‰ç‹¬ç«‹é¡µé¢æ ¼å¼ï¼Œæ— å¤´å›¾&lt;/li>
&lt;li>å…·æœ‰å¤šè¯­è¨€æ”¯æŒå’Œèœå•é€‰æ‹©&lt;/li>
&lt;li>å¸¦æœ‰æœç´¢é¡µé¢&lt;/li>
&lt;li>å¸¦æœ‰è®¨è®ºåŠŸèƒ½&lt;/li>
&lt;/ul>
&lt;p>å¯¹æˆ‘è€Œè¨€è¿™äº›éƒ½æ˜¯å¾ˆå¿«å°±éƒ½å¯ä»¥ç”¨åˆ°çš„åŠŸèƒ½ã€‚&lt;/p>
&lt;p>Hugo åšå®¢æœ¬åœ°å®‰è£…å’Œé…ç½®æ–°æ‰‹æŒ‡å—ï¼Œå‚è€ƒè¿™ä¸¤ç¯‡æ–‡ç« ã€‚&lt;/p>
&lt;ol>
&lt;li>&lt;a class="link" href="https://zhuanlan.zhihu.com/p/102131163" target="_blank" rel="noopener"
>é›¶åŸºç¡€ä½¿ç”¨ Hugo å’Œ GitHub æ­å»ºä¸ªäººåšå®¢&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="https://sb.sb/blog/migrate-to-hugo/" target="_blank" rel="noopener"
>ä½¿ç”¨ Hugo ç”Ÿæˆé™æ€åšå®¢æ•™ç¨‹&lt;/a>&lt;/li>
&lt;/ol>
&lt;h2 id="github-pages-æ–°æ‰‹æŒ‡å—">GitHub Pages æ–°æ‰‹æŒ‡å—
&lt;/h2>&lt;p>åœ¨ &lt;a class="link" href="https://pages.github.com/" target="_blank" rel="noopener"
>https://pages.github.com/&lt;/a> æä¾›äº†è§†é¢‘å’Œæ–‡å­—ç‰ˆæœ¬çš„æ–°æ‰‹æŒ‡å—æ•™ç¨‹ã€‚ä¸ºäº†æ–¹ä¾¿æ–°æ‰‹ç†è§£ï¼Œä¸‹é¢å°±ä½¿ç”¨â€˜user or organization siteâ€™è¿™ä¸ªæœ€å¸¸ç”¨çš„é€‰é¡¹åšç®€è¦è¯´æ˜ï¼š&lt;/p>
&lt;ol>
&lt;li>åˆ›å»ºä¸è‡ªå·±çš„ &lt;strong>Github ç”¨æˆ·/ç»„ç»‡&lt;/strong> åŒåå‰ç¼€çš„å…¬å¼€ä»£ç ä»“åº“ï¼Œä¾‹å¦‚ï¼šzhangsan/zhangsan.github.io&lt;/li>
&lt;li>é€‰æ‹©åœ¨å‘½ä»¤è¡Œé‡Œï¼ˆå‰ææ˜¯å®‰è£…é…ç½®å¥½äº† Gitï¼Œå¦åˆ™ä½¿ç”¨å›¾å½¢åŒ–ç•Œé¢ GitHub Desktop å·¥å…·ï¼‰&lt;/li>
&lt;li>å…‹éš†ç¬¬ä¸€æ­¥åˆ›å»ºçš„é‚£ä¸ªä»£ç åº“åˆ°æœ¬åœ°ç”µè„‘çš„ç›®å½•ä¸­ã€‚&lt;/li>
&lt;li>åˆ›å»ºåªåŒ…å« â€˜Hello Worldâ€™ ä¸ºå†…å®¹çš„ä¸»é¡µæµ‹è¯•æ–‡ä»¶ã€‚&lt;/li>
&lt;li>æ¨é€æœ¬åœ°çš„æ›´æ–°åˆ° Github æœåŠ¡å™¨ç«¯&lt;/li>
&lt;li>åœ¨æœ¬åœ°çš„æµè§ˆå™¨ä¸­æŸ¥çœ‹æµ‹è¯•ç½‘é¡µ &lt;a class="link" href="http://zhagnsan.github.io/" target="_blank" rel="noopener"
>http://zhagnsan.github.io/&lt;/a>&lt;/li>
&lt;/ol>
&lt;p>GitHub Pages çš„æ–°æ‰‹æŒ‡å—å·²ç»åŒ…å«åœ¨äº†ä¸Šä¸€èŠ‚æ¨èçš„ä¸¤ç¯‡æ–‡ç« ä¸­ã€‚&lt;/p>
&lt;h2 id="ä½¿ç”¨-github-actions-è‡ªåŠ¨åŒ–å‘å¸ƒåšå®¢æ›´æ–°">ä½¿ç”¨ Github Actions è‡ªåŠ¨åŒ–å‘å¸ƒåšå®¢æ›´æ–°
&lt;/h2>&lt;p>æœ¬åœ°çš„æµ‹è¯•ç¯å¢ƒæ˜¯éå¸¸é‡è¦çš„ï¼Œå¯ä»¥å¸®æˆ‘ä»¬å¿«é€Ÿçš„æŒæ¡ Hugo çš„åŸºæœ¬ä½¿ç”¨æ–¹å¼ï¼Œæµ‹è¯•å’Œé€‰æ‹©ç½‘ç«™æ¨¡æ¿ã€‚åœ¨æ¨¡æ¿ç¡®å®šäº†ä»¥åï¼Œå°±è¿›å…¥äº†æ—¥å¸¸çš„å†…å®¹æ›´æ–°è¿‡ç¨‹ä¸­ï¼Œå¹³å¸¸å†…å®¹æ›´æ–°çš„å·¥ä½œéƒ½æ˜¯åœ¨ master åˆ†æ”¯ä¸­è¿›è¡Œã€‚å¹¶ä¸ä¼šåœ¨æœ¬åœ°æ“ä½œ gh-pages åˆ†æ”¯ï¼Œè¿™ä¸ªåˆ†æ”¯é‡Œåªä¼šå­˜æ”¾çš„æ˜¯ Hugo ç¼–è¯‘ä¹‹åç»“æœå†…å®¹ï¼Œå³ public ç›®å½•ä¸­çš„å†…å®¹ã€‚&lt;/p>
&lt;p>ä½ å¯ä»¥åœ¨ä»£ç åº“çš„ Actions æ ‡ç­¾é¡µé¢ä¸­ï¼Œåˆ›å»ºä¸€ä¸ªé»˜è®¤çš„æ¼”ç¤ºå·¥ä½œæµæ–‡ä»¶ï¼Œåœ¨æœ¬åœ°åšä¸€ä¸ªæµ‹è¯•æ›´æ–°ï¼Œç”¨ push åŠ¨ä½œæµ‹è¯•è§¦å‘å’Œæ‰§è¡Œå®ƒã€‚ä»æ— åˆ°æœ‰çš„åˆ›å»ºæ–°å·¥ä½œæµæ–‡ä»¶çš„è¿‡ç¨‹åœ¨è¿™é‡Œä¸è®²è§£ã€‚&lt;/p>
&lt;p>åœ¨æœ¬ä½¿ç”¨ Github Actions çš„åŠŸèƒ½çš„ä¸»è¦ç›®çš„å¦‚ä¸‹ï¼š&lt;/p>
&lt;ol>
&lt;li>é€šè¿‡ master åˆ†æ”¯çš„ push äº‹ä»¶ï¼Œè§¦å‘è‡ªåŠ¨åŒ–å·¥ä½œæµï¼Œå³ CI/CD å·¥ä½œæµï¼Œè¿™é‡Œæ˜¯æŒç»­éƒ¨ç½²çš„è¿‡ç¨‹ã€‚&lt;/li>
&lt;li>å°† master åˆ†æ”¯çš„å†…å®¹ç­¾å‡ºï¼Œä½¿ç”¨æ–°é…ç½®çš„ Hugo è½¯ä»¶æ„å»ºå…¨ç«™çš„æ‰€æœ‰å†…å®¹&lt;/li>
&lt;li>å°†æ„å»ºåçš„ç»“æœå‘å¸ƒæ›´æ–°åˆ° gh-pages åˆ†æ”¯ä¸­ã€‚&lt;/li>
&lt;/ol>
&lt;p>ä¸‹é¢æ˜¯æˆ‘æ‰€ä½¿ç”¨çš„å·¥ä½œæµä»£ç å’Œæ³¨é‡Šã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;span class="lnt">45
&lt;/span>&lt;span class="lnt">46
&lt;/span>&lt;span class="lnt">47
&lt;/span>&lt;span class="lnt">48
&lt;/span>&lt;span class="lnt">49
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl"># å°† Hubo åšå®¢æ„å»ºåéƒ¨ç½²åˆ° Github Pages
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">name: Deploy github-pages
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># åœ¨ master ä¸»å¹²åˆ†æ”¯çš„ä»»ä½• push äº‹ä»¶éƒ½ä¼šè§¦å‘æœ¬ DevOps å·¥ä½œæµæ°´çº¿
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">on:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> push:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> branches: [ master ]
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"># ä»¥ä¸‹æ˜¯æœ¬ä¸²è¡Œæ‰§è¡Œå·¥ä½œæµçš„æ‰€æœ‰ç»„æˆéƒ¨åˆ†
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">jobs:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # è¿™é‡Œåªå®šä¹‰äº†ä¸€ä¸ªåä¸º &amp;#34;deploy&amp;#34; çš„å¤šæ­¥éª¤ä½œä¸š
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> build-deploy-hugo-blog:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # å°†åç»­çš„æ‰€æœ‰å·¥ä½œæ­¥éª¤éƒ½è¿è¡Œåœ¨æœ€æ–°ç‰ˆçš„ ubuntu æ“ä½œç³»ç»Ÿä¸Š
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> runs-on: ubuntu-latest
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # æœ¬æ„å»ºå’Œéƒ¨ç½²ä½œä¸šçš„æ‰€æœ‰æ­¥éª¤å®šä¹‰å¦‚ä¸‹
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> steps:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # Step 1 - Checks-out ä½ çš„ä»£ç åº“åˆ° $GITHUB_WORKSPACE
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - name: Checkout blog code repo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> uses: actions/checkout@v2 # è¿™æ˜¯ Github å®˜æ–¹æä¾›çš„ä¸€ä¸ªåŠ¨ä½œæ¨¡å—
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> with:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> submodules: true # åŒæ­¥æ›´æ–°æ‰€ä½¿ç”¨çš„ Hugo æ¨¡æ¿
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> fetch-depth: 0 # æ›´æ–°åˆ°è¯¥æ¨¡æ¿æœ€æ–°çš„ç‰ˆæœ¬
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # Step 2 - é…ç½®æœ€æ–°ç‰ˆæœ¬çš„ Hugo ç¯å¢ƒ
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - name: Setup Hugo
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> uses: peaceiris/actions-hugo@v2 # è¿™æ˜¯ Github Actions å¸‚åœºä¸­çš„ä¸€ä¸ªåŠ¨ä½œæ¨¡å—
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> with:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> hugo-version: &amp;#39;latest&amp;#39;
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # Step 3 - æ¸…ç†ä»£ç åº“ä¸­ public ç›®å½•ä¸­çš„å†…å®¹
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - name: Clean public directory
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> run: rm -rf public # å½»åº•åˆ é™¤è¿™ä¸ªç›®å½•
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # Step 4 - ç”¨æœ€æ–°ç‰ˆæœ¬çš„ Hugo æ„å»ºä¸ªäººåšå®¢ç«™ç‚¹
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - name: Build blog site
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> run: hugo --minify
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # Step 5 - åˆ›å»ºç”¨äºç§æœ‰åŸŸåæ‰€éœ€è¦çš„ CNAME æ–‡ä»¶
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - name: Create CNAME file
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> run: echo &amp;#39;martinliu.cn&amp;#39; &amp;gt; public/CNAME
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> # Step 6 - å°†æ„å»ºå¥½çš„åšå®¢ç«™ç‚¹æ¨é€å‘å¸ƒåˆ° gh-pages åˆ†æ”¯
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> - name: Deploy blog to Github-pages
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> uses: peaceiris/actions-gh-pages@v3
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> with:
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> github_token: ${{ secrets.DEPLOY_KEY }}
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> publish_dir: ./public
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="åç»­äº‹é¡¹">åç»­äº‹é¡¹
&lt;/h2>&lt;ol>
&lt;li>è§£å†³æ—§æ–‡ç« å¤´å›¾ç©ºç™½çš„é—®é¢˜&lt;/li>
&lt;li>å¢åŠ æ–‡ç« è¯„è®ºåŠŸèƒ½&lt;/li>
&lt;li>å¢åŠ  CDN åŠŸèƒ½&lt;/li>
&lt;/ol></description></item><item><title>Skaffold è®© K8s å¼€å‘è€…æ›´åŠ é…¸çˆ½</title><link>https://martinliu.cn/blog/skaffold-make-local-k8s-dev-easy/</link><pubDate>Wed, 15 Jul 2020 00:09:53 +0800</pubDate><guid>https://martinliu.cn/blog/skaffold-make-local-k8s-dev-easy/</guid><description>&lt;img src="https://martinliu.cn/images/abstract-1.jpg" alt="Featured image of post Skaffold è®© K8s å¼€å‘è€…æ›´åŠ é…¸çˆ½" />&lt;p>&lt;img src="https://martinliu.cn/images/skaffold.png"
loading="lazy"
>&lt;/p>
&lt;p>ä»Šå¤©ä»‹ç»ä¸€ä¸ªæœ¬åœ° Kubernetes å¼€å‘çš„åˆ©å™¨ Skaffoldã€‚
è¿™æ˜¯æˆ‘å¶ç„¶é—´å‘ç°çš„ä¸€ä¸ªå·¥å…·ï¼Œè¯¢é—®äº†ä¸€ä¸‹å‘¨å›´çš„äººï¼Œå±…ç„¶è¿˜æ²¡æœ‰äººç”¨è¿‡ã€‚æµ‹è¯•ä¹‹åï¼Œç¡®å®æœ‰ä¸€ç§ä¸åä¸å¿«çš„æ„Ÿè§‰ã€‚&lt;/p>
&lt;h2 id="ç®€ä»‹">ç®€ä»‹
&lt;/h2>&lt;p>&lt;img src="https://martinliu.cn/images/intro.gif"
loading="lazy"
>&lt;/p>
&lt;p>Skaffold Google å¼€å‘çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ã€‚æ˜¯ä¸€ä¸ªéå¸¸è½»é‡çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œå°±æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ã€‚å®ƒçš„ä¸»é¡µä¸Šæ˜¯è¿™æ ·çš„ä»‹ç»å®ƒçš„ã€‚&lt;/p>
&lt;ul>
&lt;li>è½»é‡ï¼šSkaffoldåªæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯å·¥å…·ã€‚ç”±äºé›†ç¾¤ä¸Šä¸éœ€è¦ä»»ä½•çš„ç›¸å…³ç»„ä»¶ï¼Œæ‚¨çš„é›†ç¾¤æ²¡æœ‰ä»»ä½•å¼€é”€æˆ–ç»´æŠ¤è´Ÿæ‹…ã€‚&lt;/li>
&lt;li>è¿è¡Œåœ¨ä»»ä½•åœ°æ–¹ï¼šSkaffoldæ˜¯ä¸ä¸–ç•Œåˆ†äº«ä½ çš„é¡¹ç›®çš„æœ€ç®€å•çš„æ–¹æ³•ï¼š&amp;ldquo;git clone&amp;rdquo;ï¼Œç„¶å &amp;ldquo;skaffold run&amp;rdquo;ã€‚æ­¤å¤–ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨é…ç½®æ–‡ä»¶ã€æœ¬åœ°ç”¨æˆ·é…ç½®ã€ç¯å¢ƒå˜é‡å’Œæ ‡å¿—æ¥è½»æ¾åœ°é›†æˆä¸åŒç¯å¢ƒçš„å·®å¼‚ã€‚&lt;/li>
&lt;li>åŠŸèƒ½ä¸°å¯Œï¼šSkaffoldæ‹¥æœ‰è®¸å¤šKubernetesåŸç”Ÿå¼€å‘çš„åŸºæœ¬åŠŸèƒ½ï¼ŒåŒ…æ‹¬åŸºäºç­–ç•¥çš„æ‰“é•œåƒæ ‡ç­¾ã€èµ„æºç«¯å£è½¬å‘å’Œæ—¥å¿—ã€æ–‡ä»¶åŒæ­¥ç­‰ã€‚&lt;/li>
&lt;li>ä¼˜åŒ–ä½ çš„å¼€å‘ï¼šSkaffoldä½¿å†…éƒ¨å¾ªç¯ç´§å¯†ï¼Œé«˜åº¦ä¼˜åŒ–ï¼Œè®©æ‚¨åœ¨å¼€å‘çš„åŒæ—¶å¾—åˆ°å³æ—¶åé¦ˆã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="å®¢æˆ·è¯„ä»·">å®¢æˆ·è¯„ä»·
&lt;/h2>&lt;p>&lt;img src="https://martinliu.cn/images/forgerock.png"
loading="lazy"
>&lt;/p>
&lt;p>&amp;ldquo;æˆ‘ä»¬çš„å®¢æˆ·å¾ˆå–œæ¬¢[Kubernetes]ï¼Œä½†ä¸€ç›´ç»™æˆ‘ä»¬åé¦ˆè¯´åœ¨Kubernetesä¸Šå¼€å‘å¾ˆéº»çƒ¦ã€‚Skaffoldä¸€é’ˆè§è¡€åœ°è§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ä»¥å‰éœ€è¦å‡ åˆ†é’Ÿæ‰èƒ½éƒ¨ç½²çš„dockeré•œåƒæˆ–é…ç½®çš„æ›´æ”¹ï¼Œç°åœ¨åªéœ€è¦å‡ ç§’é’Ÿã€‚Skaffoldçš„æ’ä»¶æ¶æ„ä½¿æˆ‘ä»¬èƒ½å¤Ÿéƒ¨ç½²åˆ°Helmæˆ–Kustomizeï¼Œå¹¶ä½¿ç”¨å„ç§dockeræ„å»ºæ’ä»¶ï¼Œå¦‚Kanikoã€‚Skaffoldç”¨ä¸€ä¸ªç²¾ç®€çš„å·¥å…·å–ä»£äº†æˆ‘ä»¬å®šåˆ¶çš„å®ç”¨ç¨‹åºå’Œè„šæœ¬é›†åˆï¼Œå¹¶ä¸”æ˜“äºä½¿ç”¨ã€‚&amp;rdquo;
Warren Strangeï¼ŒForgeRockçš„å·¥ç¨‹æ€»ç›‘ã€‚&lt;/p>
&lt;p>&lt;img src="https://martinliu.cn/images/quora.png"
loading="lazy"
>&lt;/p>
&lt;p>&amp;ldquo;å½“æˆ‘ä»¬è¯„ä¼°æˆ‘ä»¬å¯ä»¥ä½¿ç”¨Kubernetesçš„å·¥ä½œæµç¨‹æ—¶ï¼ŒSkaffoldè„±é¢–è€Œå‡ºï¼Œæˆä¸ºæˆ‘ä»¬åœ¨å¼€å‘å’Œéƒ¨ç½²ä¸­éƒ½æƒ³è¦çš„å·¥å…·ã€‚å®ƒä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ªè·¨åº”ç”¨ç¨‹åºçš„é€šç”¨å…¥å£ç‚¹ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸ºCI/CDé‡ç”¨ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬æ‰€æœ‰çš„Kubernetesåº”ç”¨çš„CI/CDç®¡é“åœ¨æ„å»ºå’Œéƒ¨ç½²æ—¶éƒ½ä½¿ç”¨Skaffoldã€‚&amp;rdquo;
Taylor Barrellaï¼ŒQuoraçš„è½¯ä»¶å·¥ç¨‹å¸ˆ&lt;/p>
&lt;p>&lt;img src="https://martinliu.cn/images/tng.png"
loading="lazy"
>&lt;/p>
&lt;p>&amp;ldquo;Skaffoldæ˜¯ä¸€ä¸ªäº†ä¸èµ·çš„å·¥å…·ï¼Œå®ƒä¸ºæˆ‘ä»¬ç®€åŒ–äº†å¼€å‘å’Œäº¤ä»˜ã€‚Skaffoldé€šè¿‡è¦†ç›–ä¸¤ä¸ªç»´åº¦ï¼Œå‡»ä¸­äº†æˆ‘ä»¬çš„ç”œèœœç‚¹ã€‚ç¬¬ä¸€ï¼Œä»æœ¬åœ°å¼€å‘ã€é›†æˆæµ‹è¯•åˆ°äº¤ä»˜çš„æ•´ä¸ªå¼€å‘å‘¨æœŸã€‚ç¬¬äºŒï¼ŒSkaffoldè®©æˆ‘ä»¬èƒ½å¤Ÿåœ¨Linuxã€OSXå’ŒWindowsä¸Šç‹¬ç«‹å¼€å‘ï¼Œä¸éœ€è¦ç‰¹å®šçš„å¹³å°é€»è¾‘ã€‚&amp;rdquo;
Martin HÃ¶flingï¼ŒTNGæŠ€æœ¯å’¨è¯¢æœ‰é™å…¬å¸é¦–å¸­é¡¾é—®&lt;/p>
&lt;h2 id="æ¨èé¦–æ¬¡æµ‹è¯•æµç¨‹">æ¨èé¦–æ¬¡æµ‹è¯•æµç¨‹
&lt;/h2>&lt;p>å‰ç½®æ¡ä»¶ï¼Œä½ çš„å¼€å‘ç”¨å·¥ä½œç”µè„‘ä¸Šå·²ç»å®‰è£…äº†å®ƒéœ€è¦è°ƒç”¨çš„ kubectl å’Œ docker å‘½ä»¤ï¼Œkubectl éœ€è¦æœ‰è‡³å°‘ä¸€ä¸ªå¯ç”¨çš„é…ç½®ï¼Œè¿™ä¸ªé…ç½®å¯ä»¥æŒ‡å‘ä»»ä¸€ä¸€ä¸ªä½ æœ‰æƒé™éƒ¨ç½²çš„ Kubernetes é›†ç¾¤ã€‚&lt;/p>
&lt;p>æˆ‘åœ¨ macOS ä¸Šï¼Œç›´æ¥è¿è¡Œ &lt;code>â€Œbrew install skaffold&lt;/code> å³å¯ï¼Œå…¶å®ƒç³»ç»Ÿå‚è€ƒï¼š&lt;a class="link" href="https://skaffold.dev/docs/install/" target="_blank" rel="noopener"
>https://skaffold.dev/docs/install/&lt;/a>&lt;/p>
&lt;p>å…‹éš† Skaffold çš„ä»£ç åº“åˆ°æœ¬åœ°ï¼Œè·å–å¿…è¦çš„æµ‹è¯•åº”ç”¨ä»£ç ã€‚&lt;/p>
&lt;p>&lt;code>â€Œgit clone https://github.com/GoogleContainerTools/skaffold&lt;/code>&lt;/p>
&lt;p>è¿›å…¥ä»£ç åº“ä¸­çš„â€˜hello worldâ€™ç¤ºä¾‹åº”ç”¨ã€‚&lt;/p>
&lt;p>æ‰§è¡Œï¼š&lt;code>â€Œcd skaffold/examples/getting-started&lt;/code>&lt;/p>
&lt;p>æ‰§è¡Œ &lt;code>â€Œskaffold dev&lt;/code> ï¼Œä½ ä¼šçœ‹åˆ° Skaffold è¿›å…¥äº†è¿™ä¸ªé¡¹ç›®çš„æ„å»ºå’Œè¿è¡Œçš„çŠ¶æ€ï¼Œæ‰§è¡Œç»“æœæ˜¯æŒç»­çš„è¾“å‡º â€[getting-started] Hello world!â€œ&lt;/p>
&lt;p>ç°åœ¨ Skaffold å°±è¿›å…¥äº† /getting-started çš„ç›‘è§†çŠ¶æ€ã€‚è§‚å¯Ÿä»»ä½•ä»£ç æ–‡ä»¶çš„ä¿®æ”¹å­˜ç›˜åŠ¨ä½œï¼Œæ¯æ¬¡ä»£ç çš„å˜æ›´ä¼šè§¦å‘ Skaffold æµæ°´çº¿çš„æ‰§è¡Œï¼Œskaffold.yaml æ–‡ä»¶ä¸­æè¿°äº†æœ¬åœ°æµæ°´çº¿ä¸­çš„ç›¸å…³åŠ¨ä½œï¼š&lt;/p>
&lt;ul>
&lt;li>ä½¿ç”¨ Dockerfile ä»æºå¤´æ„å»ºDockeré•œåƒã€‚&lt;/li>
&lt;li>ç”¨Dockeré•œåƒçš„å†…å®¹çš„sha256å“ˆå¸Œå€¼æ¥æ‰“ä¸Šæ ‡ç­¾ã€‚&lt;/li>
&lt;li>æ›´æ–° Kubernetes manifest k8s-pod.yamlï¼Œä»¥ä½¿ç”¨ä¸Šä¸€æ­¥æ„å»ºçš„é•œåƒã€‚&lt;/li>
&lt;li>ä½¿ç”¨ kubectl apply -f éƒ¨ç½² Kubernetes manifestã€‚&lt;/li>
&lt;li>ä»å·²éƒ¨ç½²çš„åº”ç”¨ç¨‹åºå–å›æ—¥å¿—åœ¨æœ¬åœ°æ§åˆ¶å°æ˜¾ç¤ºã€‚&lt;/li>
&lt;/ul>
&lt;p>ç°åœ¨ç”¨ä»£ç ç¼–è¾‘å™¨æ‰“å¼€è¿™ä¸ªé¡¹ç›®å”¯ä¸€çš„ç¨‹åºæ–‡ä»¶ main.go ï¼Œä¿®æ”¹å…¶ä¸­çš„ Hello World ä¸ºå…¶å®ƒä½ æƒ³åˆ°çš„è¯ï¼Œä¿å­˜åï¼Œè§‚å¯Ÿæ„å»ºçš„è¿‡ç¨‹ã€‚&lt;/p>
&lt;h2 id="æ¨èå¾®æœåŠ¡æµ‹è¯•">æ¨èå¾®æœåŠ¡æµ‹è¯•
&lt;/h2>&lt;p>å‚è€ƒä»¥ä¸‹è§†é¢‘ï¼Œæµ‹è¯• Skaffold ä»£ç åº“ä¸­çš„ microservice é¡¹ç›®ã€‚&lt;/p>
&lt;h2 id="skaffold-æµæ°´çº¿é˜¶æ®µ">Skaffold æµæ°´çº¿é˜¶æ®µ
&lt;/h2>&lt;p>Skaffold ä¸»è¦ä¼šç”¨åˆ°äº”ä¸ªé˜¶æ®µã€‚&lt;/p>
&lt;p>&lt;img src="https://martinliu.cn/images/workflow.png"
loading="lazy"
>&lt;/p>
&lt;p>å…¶æ‰€æœ‰é˜¶æ®µå¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>Init ï¼š generate a starting point for Skaffold configuration&lt;/li>
&lt;li>Build ï¼šbuild images with different builders&lt;/li>
&lt;li>Tag ï¼š tag images based on different policies&lt;/li>
&lt;li>Test ï¼štest images with structure tests&lt;/li>
&lt;li>Deploy ï¼šdeploy with kubectl, kustomize or helm&lt;/li>
&lt;li>File Sync ï¼š sync changed files directly to containers&lt;/li>
&lt;li>Log ï¼š Tailing tail logs from workloads&lt;/li>
&lt;li>Port Forwarding ï¼šforward ports from services and arbitrary resources to localhost&lt;/li>
&lt;li>Cleanup ï¼š cleanup manifests and images&lt;/li>
&lt;/ul>
&lt;p>å½“ä½ å¯åŠ¨Skaffoldæ—¶ï¼Œå®ƒå°±ä¼šæ”¶é›†ä½ é¡¹ç›®ä¸­çš„æºä»£ç ï¼Œå¹¶ä½¿ç”¨ä½ æ‰€é€‰æ‹©çš„å·¥å…·æ„å»ºå·¥ä»¶ï¼›å·¥ä»¶ä¸€æ—¦æˆåŠŸæ„å»ºï¼Œå°±ä¼šæ ¹æ®ä½ çš„éœ€è¦è¿›è¡Œæ ‡è®°ï¼Œå¹¶æ¨é€åˆ°ä½ æŒ‡å®šçš„ä»“åº“ä¸­ã€‚åœ¨å·¥ä½œæµç¨‹çš„æœ€åï¼ŒSkaffoldè¿˜å¸®åŠ©ä½ å°†å·¥ä»¶éƒ¨ç½²åˆ°ä½ çš„Kubernetesé›†ç¾¤ä¸­ï¼ŒåŒæ ·ä½¿ç”¨ä½ å–œæ¬¢çš„å·¥å…·ã€‚&lt;/p>
&lt;p>Skaffoldå…è®¸ä½ è·³è¿‡å„ä¸ªé˜¶æ®µã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨æœ¬åœ°ä½¿ç”¨Minikubeè¿è¡ŒKubernetesï¼ŒSkaffoldä¸ä¼šå°†å·¥ä»¶æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚&lt;/p>
&lt;p>æ¯ä¸ªé˜¶æ®µçš„è¯¦æƒ…è§ï¼š&lt;a class="link" href="https://skaffold.dev/docs/pipeline-stages/" target="_blank" rel="noopener"
>https://skaffold.dev/docs/pipeline-stages/&lt;/a>&lt;/p>
&lt;h2 id="æ¶æ„è®¾è®¡">æ¶æ„è®¾è®¡
&lt;/h2>&lt;p>Skaffold ç§‰æ‰¿ç€æ’ä»¶åŒ–çš„è®¾è®¡æ€æƒ³ã€‚&lt;/p>
&lt;p>&lt;img src="https://martinliu.cn/images/architecture.png"
loading="lazy"
>&lt;/p>
&lt;p>ä»¥ä¸Šæ¶æ„å†…ç½®äº†å¯¹ä¸‹æ¥å·¥å…·çš„æ”¯æŒï¼š&lt;/p>
&lt;ul>
&lt;li>Build
&lt;ul>
&lt;li>Dockerfile locally, in-cluster with kaniko or on cloud using Google Cloud Build&lt;/li>
&lt;li>Jib Maven and Jib Gradle locally or on cloud using Google Cloud Build&lt;/li>
&lt;li>Bazel locally&lt;/li>
&lt;li>Cloud Native Buildpacks locally or on cloud using Google Cloud Build&lt;/li>
&lt;li>Custom script locally or in-cluster&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Test
&lt;ul>
&lt;li>container-structure-test&lt;/li>
&lt;/ul>
&lt;/li>
&lt;li>Tag&lt;/li>
&lt;/ul>
&lt;ul>
&lt;li>Git tagger&lt;/li>
&lt;/ul>
&lt;ul>
&lt;li>
&lt;p>Sha256 tagger&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Env Template tagger&lt;/p>
&lt;/li>
&lt;li>
&lt;p>DateTime tagger&lt;/p>
&lt;/li>
&lt;li>
&lt;p>Deploy&lt;/p>
&lt;/li>
&lt;/ul>
&lt;ul>
&lt;li>Kubernetes Command-Line Interface (kubectl)&lt;/li>
&lt;/ul>
&lt;ul>
&lt;li>Helm&lt;/li>
&lt;li>kustomize&lt;/li>
&lt;/ul>
&lt;h2 id="æ€»ç»“">æ€»ç»“
&lt;/h2>&lt;p>Skaffold ç¡®å®è®©åŸºäº Kubernetes çš„å¼€å‘è€…çš„æœ¬åœ°å·¥ä½œç¯å¢ƒæ›´åŠ ä¼˜åŒ–å’Œæ•´æ´äº†ã€‚å¸Œæœ›æœ¬æ–‡å¯¹ä½ çš„å·¥ä½œæœ‰æ‰€å¸®åŠ©ã€‚&lt;/p></description></item><item><title>åŸºç¡€æ¶æ„çš„æŒç»­é›†æˆå’Œåº”ç”¨éƒ¨ç½²</title><link>https://martinliu.cn/blog/devops-infrastructure-ci-app-deployment/</link><pubDate>Sat, 17 Mar 2018 10:50:57 +0800</pubDate><guid>https://martinliu.cn/blog/devops-infrastructure-ci-app-deployment/</guid><description>&lt;img src="https://res.cloudinary.com/martinliu/image/upload/coding-snippet.jpg" alt="Featured image of post åŸºç¡€æ¶æ„çš„æŒç»­é›†æˆå’Œåº”ç”¨éƒ¨ç½²" />&lt;p>æŒç»­é›†æˆé€šå¸¸æ˜¯é’ˆå¯¹åº”ç”¨è€Œè¨€çš„ï¼Œå¯æ˜¯åŸºç¡€æ¶æ„çš„æŒç»­é›†æˆåº”è¯¥æ€ä¹ˆåšï¼ŸåŸºç¡€æ¶æ„çš„æŒç»­é›†æˆåº”è¯¥å±äºæŒç»­äº¤ä»˜/éƒ¨ç½²çš„åŸºç¡€ã€‚è´¯ä¸²æœ¬æ–‡çš„ä¸€ä¸ªé—®é¢˜ï¼Œæˆ–è€…åœ¨é˜…è¯»æœ¬æ–‡æ—¶ï¼Œæ‚¨åº”è¯¥ä¸æ–­åœ°é—®è‡ªå·±è¿™ä¸ªé—®é¢˜ï¼šæˆ‘ä»¬çš„åº”ç”¨éƒ¨ç½²æµç¨‹æ˜¯æ€æ ·çš„ï¼Ÿ&lt;/p>
&lt;p>åœ¨å›ç­”è¿™ä¸ªé—®é¢˜ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥å›é¡¾ä¸€ä¸‹ï¼Œç›®å‰å‡ ä¹æ‰€æœ‰äººæ­£åœ¨ä½¿ç”¨çš„æ‰‹å·¥ç¯å¢ƒå’Œèµ„æºäº¤ä»˜æµç¨‹ã€‚åœ¨æºç è¢«ç¼–è¯‘æ‰“åŒ…äº†ä»¥åï¼Œå®‰è£…åŒ…æ–‡ä»¶è¢«ä¸Šä¼ ä¿å­˜åˆ°äº†å†…éƒ¨çš„æŸä¸ªæ–‡ä»¶æœåŠ¡å™¨ä¸Šã€‚Opså›¢é˜Ÿçš„æŸä¸ªç»„/äººè¢«åˆ†é…åˆ°å·¥å•ï¼Œæ ¹æ®å·¥å•æè¿°çš„éœ€æ±‚ï¼Œå®ƒåœ¨æµ‹è¯•æˆ–è€…ç”Ÿäº§ç¯å¢ƒä¸­å¼€å§‹å·¥ä½œï¼š&lt;/p>
&lt;ul>
&lt;li>ç”¨å›¾å½¢ç•Œé¢è¿›è¡Œè™šæ‹Ÿæœºæ¨¡æ¿çš„æ‰‹å·¥å…‹éš†å·¥ä½œï¼Œæˆ–è€…ç”±äºæ²¡æœ‰ç›¸åº”çš„æƒé™æˆ–è€…è‡ªåŠ©æœåŠ¡ï¼Œä¸å¾—ä¸ç»™è™šæ‹ŸåŒ–ç®¡ç†å‘˜å‘ä»»åŠ¡å•ï¼Œç„¶åç­‰å¾…å›å¤ã€‚&lt;/li>
&lt;li>è·å–ç”¨æˆ·åå’Œå¯†ç æ‰‹å·¥ç™»å½•æœåŠ¡å™¨ï¼Œæœ‰äº›ä¼ä¸šè¿˜è¦æ˜¯ç­‰å¾…é¢†å¯¼çš„å®¡æ‰¹ï¼Œæ‰èƒ½å¾—åˆ°å¯†ç ä¿¡å°å’Œæ‰€éœ€è¦çš„è®¿é—®å¯†ç ã€‚&lt;/li>
&lt;li>æ ¹æ®å·¥å•ï¼ˆå˜æ›´å•ï¼‰é‡Œçš„æè¿°å’Œè‡ªå·±çš„ç»éªŒå¯¹è™šæ‹Ÿæœºçš„æ“ä½œç³»ç»Ÿè¿›è¡Œé…ç½®ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒOpså¾€å¾€å¯èƒ½è¿˜éœ€å’Œéœ€æ±‚æ–¹è¿›è¡Œä¸æ­¢ä¸€æ¬¡çš„æ²Ÿé€šï¼Œç¡®è®¤ç›¸å…³å‚æ•°ã€‚&lt;/li>
&lt;li>æ‰‹å·¥çš„ä¸‹è½½åº”ç”¨å®‰è£…åŒ…ï¼Œç„¶ååˆ†åˆ«æ‰‹å·¥ä¸Šä¼ åˆ°ç›®æ ‡çš„æœåŠ¡å™¨ï¼Œå‡­ç»éªŒå’Œå·¥å•ä¿¡æ¯éƒ¨ç½²åº”ç”¨ï¼Œç„¶åæµ‹è¯•éƒ¨ç½²ç»“æœï¼Œå¯èƒ½æ˜¯çœ‹ä¸‹é¡µé¢æœ‰æ²¡æœ‰æ­£å¸¸æ˜¾ç¤ºï¼Œæˆ–è€…æœåŠ¡èµ·æ²¡èµ·.&lt;/li>
&lt;li>æ‰‹å·¥æµ‹è¯•å’Œç¡®è®¤è¿™äº›è™šæ‹Ÿæœºçš„æœåŠ¡å’ŒçŠ¶æ€ï¼Œå‡­ç»éªŒè§‰å¾—OKäº†ä»¥åï¼Œå›å¤å·¥å•ï¼Œå…³é—­å·¥å•ã€‚&lt;/li>
&lt;/ul>
&lt;p>ä»¥ä¸Šçš„å·¥ä½œåœºæ™¯ï¼Œå¯èƒ½æ˜¯Opsäººå‘˜å¾ˆå¸¸è§„çš„ä¸€å¤©ï¼Œæˆ–è€…æ˜¯å‡ å¤©å†…çš„å·¥ä½œï¼Œå½“ç„¶åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œä»–ä»¬è¿˜éœ€è¦å‚ä¸ä¸€äº›æ•‘ç«è¡ŒåŠ¨ï¼›ä»–ä»¬åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ä¹Ÿå¯èƒ½ä¼šæœ‰ç–‘é—®ï¼Œä¹Ÿå¯èƒ½ä¼šå¯¹æ­¤å·¥ä½œç»“æœä¸ç¡®å®šï¼›ä½†æ˜¯ï¼Œæ—¥å¸¸çš„å·¥ä½œç»éªŒå‘Šè¯‰ä»–ï¼Œå·®ä¸å¤šäº†ï¼Œå…³é—­ä»»åŠ¡å•è¦ç´§ï¼Œè¿˜æœ‰å¥½å¤šé¡¹ç›®å‚¬æ´»å‘¢ï¼å°±è¿™æ ·ï¼Œé…ç½®å¹¶ä¸ç²¾ç¡®çš„è™šæ‹Ÿæœºç¯å¢ƒå°±äº¤ç»™äº†ä¸‹æ¸¸çš„éœ€æ±‚æ–¹ã€‚&lt;/p>
&lt;p>ä»¥ä¸Šå·¥ä½œè¿‡ç¨‹çš„é—®é¢˜å¦‚ä¸‹ï¼š&lt;/p>
&lt;ol>
&lt;li>å·¥ä½œå‘¨æœŸé•¿ï¼Œé€Ÿåº¦æ…¢ã€‚å®é™…ä¸Šå·¥ä½œå‘¨æœŸæ‹–å»¶çš„è¶Šä¹…ï¼Œå·¥ä½œç»“æœçš„è´¨é‡å°±è¶Šå·®ï¼Œè€Œå¹¶ä¸æ˜¯æˆ‘ä»¬æƒ³æƒ³ä¸­çš„æ…¢å·¥å‡ºç»†æ´»ã€‚&lt;/li>
&lt;li>æ‰€æœ‰æ­¥éª¤éƒ½æ˜¯çº¯æ‰‹å·¥æ“ä½œï¼Œä¸ä»…è´¹äº‹è´¹åŠ›ï¼Œè€Œä¸”å‡ºé”™å‡ ç‡é«˜ï¼Œä¹Ÿå‡ ä¹ä¸å¯èƒ½æ— ç—›çš„å›é€€ã€‚å¯èƒ½æœ‰äººä¼šè¯´äº†ï¼Œæˆ‘ä»¬ä¸éœ€è¦é‚£ä¹ˆå¿«ï¼Œæˆ‘ä»¬ä¹Ÿä¸æ˜¯äº’è”ç½‘å…¬å¸ï¼›å¯æ˜¯ä»ç²¾ç›Šæ€æƒ³çš„è§’åº¦çœ‹ï¼Œä»¥ä¸Šè¿™äº›å·¥ä½œéƒ½å±äºå¯¹ä¸šåŠ¡ä»·å€¼çš„äº¤ä»˜è´¡çŒ®ä¸ºé›¶çš„å·¥ä½œï¼›ä½ å¯èƒ½æ˜¯ç”±äºå…¬å¸ç»™ä½ å‘ç€å·¥èµ„ï¼Œæ‰é”™è¯¯çš„æ„Ÿè§‰åˆ°ï¼Œè¿™é¡¹å·¥ä½œæ´»åŠ¨åº”è¯¥æœ‰å®ƒçš„ä»·å€¼ã€‚&lt;/li>
&lt;li>ä¸Šæ¸¸ä¼ é€’æ¥çš„ä¿¡æ¯å¯èƒ½ä¸å…¨é¢ï¼Œä¸å‡†ç¡®ï¼Œå› æ­¤Opså¾ˆæœ‰å¯èƒ½é€ æˆé”™è¯¯é…ç½®ï¼Œå› æ­¤ä¼šè¿”å·¥ã€‚&lt;/li>
&lt;li>ä¼ é€’ç»™ä¸‹æ¸¸çš„è™šæ‹Ÿæœºå¾ˆå¯èƒ½ä¼šåœ¨åç»­çš„éƒ¨ç½²è¿‡ç¨‹ä¸­ï¼Œç”±äºåº”ç”¨éœ€æ±‚çš„å˜åŒ–ï¼Œè€Œéœ€è¦ä¸‹æ¸¸çš„äººå‘˜å¯¹å…¶é‡æ–°é…ç½®ï¼Œäº§ç”Ÿé‡å¤çš„åŠ³åŠ¨ã€‚&lt;/li>
&lt;/ol>
&lt;blockquote>
&lt;p>æ‰‹å·¥éƒ¨ç½²çš„æ—¶é—´å’Œä»£ä»· = åº”çš„æ•°é‡ X åº”ç”¨ç‰ˆæœ¬æ•°é‡ X ç¯å¢ƒæ•°é‡&lt;/p>&lt;/blockquote>
&lt;p>å¯¹ä»¥ä¸Šå·¥ä½œç³»ç»Ÿè¿›è¡Œä¼˜åŒ–çš„åŸåˆ™ï¼šå¦‚æœæŸä¸€é¡¹æ´»åŠ¨çš„é‡å¤é¢‘ç‡è¶Šé«˜ï¼Œé‚£ä¹ˆå¯¹å®ƒè¿›è¡Œä¼˜åŒ–ï¼Œæ‰€äº§ç”Ÿçš„å›æŠ¥ä¹Ÿä¼šè¶Šæ˜æ˜¾ï¼›è¿™é‡Œè¿˜è¦å‚è€ƒé™åˆ¶ç†è®ºï¼Œä¼˜åŒ–çš„é¡ºåºè¦æ­£ç¡®ã€‚&lt;/p>
&lt;p>æˆ‘ä»¬ä»è¿™ä¸ªè§’åº¦å‡ºå‘ï¼Œå°±å¯ä»¥æ¥è®¾å®šåŸºç¡€æ¶æ„æŒç»­é›†æˆå’Œåº”ç”¨éƒ¨ç½²æµç¨‹çš„æ”¹è¿›ç›®æ ‡äº†ï¼š&lt;/p>
&lt;ul>
&lt;li>å‡å°‘æ€»ä½“äººå·¥å·¥ä½œæ—¶é—´å’Œä»£ä»·&lt;/li>
&lt;li>æé«˜äº¤ä»˜çš„é€Ÿåº¦ã€å¯é æ€§å’Œé¢‘ç‡&lt;/li>
&lt;li>èƒ½è¿›è¡Œåº”ç”¨éƒ¨ç½²ï¼Œèƒ½è¿›è¡Œæ•°æ®åº“Schemaçš„æ›´æ–°&lt;/li>
&lt;li>èƒ½å¤Ÿå®ç°éƒ¨ç½²æµç¨‹çš„è‡ªæœåŠ¡ï¼Œè®©ä»»ä½•éœ€è¦éƒ¨ç½²åº”ç”¨çš„äººèƒ½ä¸€é”®å¼éƒ¨ç½²ä»»ä½•ç‰ˆæœ¬&lt;/li>
&lt;/ul>
&lt;p>åˆ°äº†è¿™é‡Œæˆ‘ä»¬å°±å¿…é¡»å°†ä¸Šè¿°æ‰‹å·¥åŠ³åŠ¨ï¼Œå˜ä¸ºè‡ªåŠ¨åŒ–çš„è¿‡ç¨‹ã€‚å› æ­¤ï¼ŒåŸºç¡€æ¶æ„å³ä»£ç IaC ï¼ˆInfrastructure as codeï¼‰å’Œç›¸å…³çš„é…ç½®ç®¡ç†å·¥å…·å°±ä¼šç”¨åˆ°ã€‚&lt;/p>
&lt;p>&lt;img src="https://res.cloudinary.com/martinliu/image/upload/delivery-Pipeline.png"
loading="lazy"
alt="delivery-Pipeline"
>&lt;/p>
&lt;p>ä¸Šå›¾æ˜¯ä¸€ä¸ªå…¸å‹çš„æŒç»­äº¤ä»˜æµæ°´çº¿æ¨¡å‹ï¼Œåœ¨æ­¤æˆ‘ä»¬å¯¹å®ƒçš„å…³æ³¨ç‚¹å¦‚ä¸‹ï¼š&lt;/p>
&lt;ul>
&lt;li>ä»£ç çš„å˜æ›´è¢«Jenkinsè‡ªåŠ¨åŒ–çš„æ„å»ºï¼ˆCIæ˜¯åŸºç¡€ï¼‰ï¼Œæ‰“åŒ…åçš„å®‰è£…åŒ…è¢«å­˜å‚¨åœ¨Artifactoryé‡Œï¼ŒArtifactoryé‡Œé¢è¿˜å¯ä»¥å­˜å‚¨åº”ç”¨åŒ…çš„å…¶å®ƒç›¸å…³å…ƒæ•°æ®ï¼Œå¦‚æµ‹è¯•ç»“æœï¼Œèƒ½å¦å¯ä»¥ç”¨äºä¸‹ä¸€æ­¥éƒ¨ç½²çš„æ ‡ç­¾ç­‰ç­‰ã€‚&lt;/li>
&lt;li>Jenkinsè‡ªåŠ¨åŒ–çš„æ­å»ºæ‰€éœ€è¦çš„ç¯å¢ƒï¼Œè°ƒç”¨è™šæ‹ŸåŒ–æˆ–è€…å…¬æœ‰äº‘èµ„æºæ± çš„APIï¼Œåˆ¶å¤‡è™šæ‹Ÿæœºèµ„æºï¼Œç„¶åè°ƒç”¨Chefå®Œæˆå¯¹è™šæ‹Ÿæœºçš„é…ç½®ï¼Œå®Œæˆåº”ç”¨åŒ…éƒ¨ç½²æ‰€éœ€è¦çš„æ‰€æœ‰å±‚æ¬¡çš„é…ç½®ã€‚&lt;/li>
&lt;li>ç¯å¢ƒé…ç½®å®Œæˆåï¼Œåº”ç”¨æ­£å¸¸è¿è¡Œäº†ï¼Œåœ¨ç›¸å…³çš„æµ‹è¯•å·¥å…·å¯¹éƒ¨ç½²åçš„ç¯å¢ƒåšéªŒæ”¶æµ‹è¯•ï¼ŒChefå…·æœ‰æ”¯æŒæµ‹è¯•é©±åŠ¨çš„ç›¸å…³å·¥å…·ã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="åŸºç¡€æ¶æ„çš„æŒç»­é›†æˆ">åŸºç¡€æ¶æ„çš„æŒç»­é›†æˆ
&lt;/h2>&lt;p>ä¸ºäº†å®ç°å®Œæ•´çš„åŸºç¡€æ¶æ„æŒç»­é›†æˆæµç¨‹ï¼Œä»¥ä¸ŠæŒç»­äº¤ä»˜æµæ°´çº¿å¿…é¡»å…·å¤‡çš„èƒ½åŠ›å’Œæ¦‚å¿µåŒ…æ‹¬ï¼šåˆ†å±‚çš„ç³»ç»Ÿç®¡ç†ã€åŸºç¡€æ¶æ„å³ä»£ç IaCã€é…ç½®ç®¡ç†ã€Chefå·¥å…·ç­‰ã€‚ä¸‹é¢è¯¦ç»†å¯¹å®ƒä»¬è¿›è¡Œæè¿°ã€‚&lt;/p>
&lt;h3 id="åˆ†å±‚çš„ç³»ç»Ÿç®¡ç†">åˆ†å±‚çš„ç³»ç»Ÿç®¡ç†
&lt;/h3>&lt;p>ç³»ç»Ÿç®¡ç†çš„å±‚æ¬¡æ¶‰åŠåˆ°OSç›¸å…³çš„ä¸‰ä¸ªå±‚æ¬¡ã€‚ä¸‹é¢è‡ªä¸‹è€Œä¸Šåœ°ç®€å•æè¿°ä¸€ä¸‹ã€‚&lt;/p>
&lt;ol>
&lt;li>åˆ¶å¤‡ç®¡ç†ï¼šæ¶‰åŠåˆ°è™šæ‹ŸåŒ–å±‚ï¼Œè¿™ä¸€å±‚æ˜¯èµ„æºè¡¨è¾¾å±‚ï¼Œç›®å‰æ‰€æœ‰ä¸»æµçš„è™šæ‹ŸåŒ–éƒ½æ”¯æŒæ ‡å‡†çš„Rest APIï¼ŒåŒ…æ‹¬VMWareã€EC2å’ŒNuanixç­‰ã€‚å¤§å¤šæ•°ä¸»æµé…ç½®ç®¡ç†å·¥å…·éƒ½å…·å¤‡ç”¨äºè™šæ‹Ÿæœºç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆä»ç”Ÿæˆã€åˆ°å¼€æœºã€åˆ°åˆ é™¤ç­‰ï¼‰çš„APIåŠŸèƒ½ï¼Œèƒ½æŒ‰éœ€çš„è·å¾—ä»»ä½•æ•°é‡ã€è§„æ¨¡ã€ç½‘ç»œå’Œæ“ä½œç³»ç»Ÿç±»å‹çš„éƒ¨ç½²ç¯å¢ƒã€‚&lt;/li>
&lt;li>é…ç½®ç®¡ç†ï¼šåœ¨ä»»ä½•ç±»å‹çš„æ“ä½œç³»ç»Ÿé‡Œè‡ªåŠ¨åŒ–çš„å®‰è£…å’Œé…ç½®è½¯ä»¶åŒ…ï¼Œå°†æ‰€æœ‰é…ç½®å‚æ•°é…ç½®å¥½ä»¥åï¼ŒæŒç»­ä¿æŒè¿™äº›é…ç½®ç‚¹çš„çŠ¶æ€ã€‚å¯¹äºç®€å•åº”ç”¨ï¼Œæ¥è¯´æŒ‰é…ç½®å‚æ•°å¯åŠ¨æœåŠ¡å³ä»»åŠ¡å®Œæˆã€‚&lt;/li>
&lt;li>åº”ç”¨ç¼–æ’ç®¡ç†ï¼šå¯¹äºå¤æ‚çš„åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œç”±äºå„ä¸ªè‡ªæœåŠ¡ä¹‹é—´å­˜åœ¨ç€ä¾èµ–å…³ç³»ï¼Œæ‰€æœ‰è‡ªæœåŠ¡ä¹‹å‰éœ€è¦äº’é€šä¸€äº›é…ç½®å‚æ•°æ‰èƒ½å®ç°ï¼Œåº”ç”¨ç¨‹åºæ•´ä½“çš„æ­£å¸¸è¿è¡Œï¼Œé…ç½®åº”ç”¨æœåŠ¡å™¨çš„odbcæ•°æ®åº“è¿æ¥ï¼Œé…ç½®webå‰ç«¯çš„ldapè®¤è¯æœåŠ¡å™¨ç­‰ç­‰ã€‚ç›®å‰å¾®æœåŠ¡æ‰€æ¶‰åŠçš„æœåŠ¡å‘ç°å’Œè·¯ç”±ï¼Œæ˜¯åº”ç”¨ç¼–æ’å¿…å¤‡çš„é…å¥—è®¾æ–½ã€‚&lt;/li>
&lt;/ol>
&lt;p>ä¸åŒçš„DevOpsé…ç½®ç®¡ç†å·¥å…·ä¹Ÿéƒ½åŠ›æ±‚èƒ½è¦†ç›–ä»¥ä¸Šä¸‰ä¸ªå±‚æ¬¡ï¼Œä½†æ˜¯ä»–ä»¬æ‰€è¿½æ±‚çš„æ–¹å‘ï¼Œæˆ–è€…æƒ³è§£å†³çš„ä¸»è¦é—®é¢˜å¹¶ä¸ç›¸åŒã€‚å› æ­¤å„ä¸ªå·¥å…·ä¹‹é—´åŠŸèƒ½ä¸Šæœ‰é‡å ã€‚&lt;/p>
&lt;p>å› æ­¤åœ¨è¿ç”¨è¿™äº›å·¥å…·çš„æ—¶å€™ï¼Œä¸ä»…è¦è¿½æ±‚å…¶å“è¶Šçš„åŠŸèƒ½ï¼Œè¿˜è¦èƒ½æ„è¯†åˆ°ï¼Œå¹¶æœ‰æ„çš„åœ¨ä¸åŒå±‚é¢ä¸Šåšå–èˆã€‚&lt;/p>
&lt;h3 id="åŸºç¡€æ¶æ„å³ä»£ç ">åŸºç¡€æ¶æ„å³ä»£ç 
&lt;/h3>&lt;p>IaCè¿™ä¸ªæ¦‚å¿µæœ€æ—©æ˜¯è¢«Chefè¿™ç±»å·¥å…·æå‡ºå¹¶å®ç°ï¼Œå®ƒçš„åŸºæœ¬æƒ³æ³•å°±æ˜¯è®©Opsäººå‘˜è±¡å¼€å‘äººå‘˜ä¸€æ ·çš„ï¼Œå·¥ä½œåœ¨åŸºç¡€æ¶æ„çš„ä»£ç ä¸Šï¼Œè€Œä¸æ˜¯é¢å¯¹ç€æ•°åä¸ªå›¾å½¢å’Œæ–‡å­—ç»ˆç«¯ç•Œé¢ã€‚ä½¿ç”¨ç±»ä¼¼äºå¼€å‘åº”ç”¨ç¨‹åºçš„æ–¹å¼ï¼Œå¼€å‘å’Œç®¡ç†åŸºç¡€æ¶æ„ç¯å¢ƒï¼Œå› æ­¤åŸºç¡€æ¶æ„èƒ½é€šè¿‡APIè®¿é—®å’Œæ“æ§æ˜¯åŸºç¡€ï¼Œç›®å‰æ‰€æœ‰ä¸»æµçš„è™šæ‹ŸåŒ–/äº‘è®¡ç®—å¹³å°éƒ½å…·å¤‡å¾ˆå¥½çš„APIæ¥å£ï¼›å¯æƒœçš„æ˜¯åœ¨ä¼ ç»Ÿçš„ä¼ä¸šç¯å¢ƒä¸­ï¼Œè¿™äº›èµ„æºæ± çš„APIåŠŸèƒ½å‡ ä¹æ²¡æœ‰è¢«ç”¨åˆ°ã€‚&lt;/p>
&lt;p>åƒå¼€å‘åº”ç”¨ä»£ç ä¸€æ ·çš„ç®¡ç†ITåŸºç¡€æ¶æ„ï¼ŒåŸºç¡€æ¶æ„çš„å¼€å‘å’Œç®¡ç†ä¹Ÿéœ€è¦éµå¾ªä¸åº”ç”¨å¼€å‘ç±»ä¼¼çš„åŸåˆ™ï¼Œè¿™äº›åŸåˆ™åŒ…æ‹¬ï¼š&lt;/p>
&lt;ul>
&lt;li>&lt;strong>ä¸€åˆ‡ä»æºä»£ç å¼€å§‹&lt;/strong>:å¹¶å¯¹å…¶è¿›è¡Œä¸¥æ ¼çš„ç‰ˆæœ¬ç®¡ç†ï¼Œè¦å¯¹åŸºç¡€æ¶æ„å˜æ›´ï¼Œå°±éœ€è¦å¯¹ç›¸åº”çš„ä»£ç è¿›è¡Œå˜æ›´å’Œæµ‹è¯•ï¼Œæœ€åå‘å¸ƒè¿™äº›ä»£ç ã€‚ä»è€ŒåŠ›æ±‚åšåˆ°æœåŠ¡å™¨çš„æ— äººç™»å½•è¿ç»´ã€‚&lt;/li>
&lt;li>&lt;strong>æ¨¡å—åŒ–è®¾è®¡&lt;/strong>:ä¸åŒåº”ç”¨åº•å±‚æ‰€ä½¿ç”¨çš„åŸºç¡€æ¶æ„æœ‰ç€å¤§é‡çš„ç›¸ä¼¼ä¹‹å¤„ï¼Œæ¨¡å—åŒ–çš„è®¾è®¡ä¸ä»…æ„å‘³ç€æ ‡å‡†åŒ–ï¼Œä¹Ÿæ„å‘³ç€æ›´å°‘çš„é‡å¤ä»£ç ã€‚æˆ‘æ‰€ç”¨è¿‡çš„Terraformã€Chefå’ŒPuppetè¿™ä¸‰ç§å·¥å…·ï¼Œéƒ½å…·æœ‰é«˜åº¦çš„æ¨¡å—åŒ–ç‰¹æ€§ã€‚&lt;/li>
&lt;li>&lt;strong>æŠ½è±¡èƒ½åŠ›&lt;/strong>ï¼šèƒ½å¤Ÿä½¿ç”¨ä¸åŒçš„æ¨¡å—å’Œå‚æ•°å¯¹ä»»ä½•ç‰¹å¾çš„åº”ç”¨è¿›è¡Œå»ºæ¨¡ï¼Œç”¨IaCä»£ç è¿›è¡Œè¡¨è¾¾ï¼ŒåŸºç¡€æ¶æ„çš„ä»£ç å¼€å‘ä¹Ÿå°±æ˜¯å€ŸåŠ©è¿™ç§æŠ½è±¡èƒ½åŠ›ï¼Œå°†æ‰€æœ‰ç®¡ç†å¯¹è±¡ï¼ˆé…ç½®ç®¡ç†é¡¹ï¼‰å…·ä½“åŒ–åœ°æè¿°ä¸ºåº”ç”¨æœåŠ¡æ¨¡å‹ã€‚ç¼–å†™å‡ºæ¥çš„åŸºç¡€æ¶æ„ä»£ç ï¼Œä¸ä»…åŒ…å«äº†æ‰€æœ‰å¯¹åº”ç”¨é…ç½®æè¿°æ€§çš„è¯­ä¹‰ï¼Œè€Œä¸”è¿˜æ˜¯èƒ½å¤Ÿè¢«æ‰§è¡Œçš„ä»£ç ï¼Œåœ¨IaCä»£ç æ‰§è¡Œä¹‹åï¼Œä½ å°±å¾—åˆ°äº†æ‰€æœŸæœ›çš„è™šæ‹Ÿæœºã€åº”ç”¨é…ç½®å’Œåº”ç”¨æœåŠ¡ã€‚&lt;/li>
&lt;li>&lt;strong>å¯æµ‹è¯•æ€§&lt;/strong>ï¼šè¿™æ˜¯ä¸€ä¸ªç»å¸¸å¿½ç•¥çš„èƒ½åŠ›ï¼Œè€Œåœ¨äº†è§£ä¹‹åï¼Œä½ ä¼šå‘ç°IaCä¹Ÿæ˜¯ç¼–ç¨‹è¯­è¨€ï¼Œå°±æ˜¯å¯¹åŸºç¡€æ¶æ„è¿›è¡Œé«˜çº§çš„ç¼–ç¨‹ï¼Œè€Œä¸”IaCä»£ç æœ¬èº«å’Œå®ƒçš„è¿è¡Œç»“æœéƒ½æ˜¯å¯ä»¥æµ‹è¯•çš„ã€‚åœ¨æ‰§è¡Œå‰å¯¹å…¶è¯­ä¹‰è¯­æ³•æµ‹è¯•ï¼Œåœ¨è¿è¡Œä»¥åå¯¹å…¶è¿è¡Œç»“æœæµ‹è¯•ã€‚Chefåœ¨è¿™æ–¹é¢è¡¨ç°çš„å°¤ä¸ºçªå‡ºã€‚&lt;/li>
&lt;/ul>
&lt;p>&lt;img src="https://res.cloudinary.com/martinliu/image/upload/chef-logo.png"
loading="lazy"
alt="Chef"
>&lt;/p>
&lt;p>&lt;img src="https://res.cloudinary.com/martinliu/image/upload/LogoTerraform.png"
loading="lazy"
alt="Terraform"
>&lt;/p>
&lt;h3 id="é…ç½®ç®¡ç†">é…ç½®ç®¡ç†
&lt;/h3>&lt;p>æˆ‘å¯èƒ½æ˜¯æœ€æ—©çš„ä¸€æ‰¹è¿›è¡ŒITILé…ç½®ç®¡ç†å®è·µï¼ŒCMDBå»ºè®¾çš„è¿™æ‰¹äººï¼›æˆ‘ä»¥å‰å’Œç”²æ–¹å®¢æˆ·æœ‰ç€å¤§é‡çš„å…³äºé…ç½®ç®¡ç†å’ŒCMDBçš„å¯¹è¯ï¼Œæ‰€ç»å†è¿‡çš„é¡¹ç›®ä¹Ÿéå¸¸ç…ç†¬ã€‚è€Œåœ¨DevOpsåœºæ™¯ä¸‹ï¼Œæ„Ÿè§‰ä»¥å‰çš„ç»å†ä¹Ÿæ˜¯å¾ˆæœ‰æ„æ€çš„ï¼Œåªæ˜¯æˆ‘ç°åœ¨è¯´åˆ°çš„CIï¼Œåœ¨æ²¡æœ‰ç‰¹æŒ‡çš„æƒ…å†µä¸‹ï¼Œæ˜¯æŒç»­é›†æˆçš„æ¦‚å¿µï¼Œè¿˜ä¸æ˜¯é…ç½®é¡¹äº†ã€‚&lt;/p>
&lt;blockquote>
&lt;p>Process for establishing and maintaining consistency of a productâ€™s performance, functional and physical attributes with its requirements, design and operational
information throughout its lifeã€‚&lt;/p>&lt;/blockquote>
&lt;p>ä»¥ä¸Šæ˜¯é…ç½®ç®¡ç†åœ¨ç»´åŸºç™¾ç§‘é‡Œçš„å®šä¹‰ï¼Œå®ƒæ‰€è¡¨è¾¾çš„å«ä¹‰è¿˜æ˜¯å€¼å¾—å€Ÿé‰´çš„ï¼›è€Œå¦‚ä»Šå¾ˆå¤šäººå¯¹DevOpsçš„è®¤è¯†ï¼Œè¿˜æœ‰äººæ˜¯å»ºç«‹åœ¨DevOpsé…ç½®ç®¡ç†ç›¸å…³çš„å·¥å…·ä¸Šçš„ã€‚ä¸ºäº†çº æ­£è¿™ä¸ªé”™è¯¯è§‚ç‚¹ï¼Œæˆ‘ä»¬ç»å¸¸è¯´ï¼šâ€œå¤©æ–‡å­¦å¹¶ä¸åªæ˜¯å…³äºæœ›è¿œé•œçš„ã€‚â€&lt;/p>
&lt;p>é…ç½®ç®¡ç†å·¥å…·ä¸­æœ‰å¾ˆå¤šæ˜¯åŸºäºä¸»æœºï¼ˆOSï¼‰çš„ç®¡ç†å·¥å…·ï¼ŒåŒ…æ‹¬ï¼šCFEngineã€Puppetã€Chefã€Saltå’ŒAnsibleç­‰ã€‚å®ƒä»¬éƒ½å…·æœ‰åŸºç¡€æ¶æ„å³ä»£ç çš„ç›¸å…³åŸåˆ™å’Œç‰¹å¾ã€‚éƒ½èƒ½å®ç°ï¼šå®šä¹‰æœåŠ¡å™¨çš„ç›®æ ‡æœŸæœ›çŠ¶æ€çš„èƒ½åŠ›ï¼Œåœ¨æ¯ä¸€æ¬¡æ‰§è¡Œå‘¨æœŸé‡Œï¼Œå®ƒä»¬éƒ½è¿›è¡ŒçŠ¶æ€æ£€æŸ¥ï¼Œæ±‡æŠ¥å½“å‰çŠ¶æ€å’Œç›®æ ‡çŠ¶æ€çš„åå·®ï¼Œåœ¨å¿…è¦çš„æ—¶å€™ä¹Ÿå¯ä»¥è‡ªåŠ¨çš„æ‰§è¡Œå¿…è¦çš„çŠ¶æ€ä¿®å¤æ“ä½œã€‚&lt;/p>
&lt;p>Chefè¿™ç§é…ç½®ç®¡ç†å·¥å…·ï¼Œä½¿ç”¨äº†Rubyé£æ ¼çš„DSLè¯­è¨€ï¼Œä½¿ç”¨è€…åªéœ€è¦ç”¨Chefä»£ç è¡¨è¾¾â€Whatâ€œå³å¯ï¼Œè€Œä¸éœ€è¦æ˜ç™½â€Howâ€œï¼›â€Whatâ€œæ—¢æ˜¯å¯¹ç›®æ ‡é…ç½®çŠ¶æ€çš„æè¿°ï¼Œä½¿ç”¨è€…åªéœ€è¦å°†éœ€æ±‚è½¬æ¢ä¸ºChefä»£ç ï¼Œç„¶åç”¨Chefå®¢æˆ·ç«¯å·¥å…·è¿è¡Œå®ƒå³å¯ã€‚Chefçš„ä»£ç æ¸…æ™°ï¼Œæè¿°èƒ½åŠ›å¼ºå¤§ã€‚åœ¨ç¼–ç çš„æ—¶å€™éµå¾ªDSLè§„åˆ™ï¼Œå¦‚æœæœ‰å¿…è¦çš„è¯ä¹Ÿå¯ä»¥è°ƒç”¨Rubyã€‚&lt;/p>
&lt;p>Chefæ˜¯å®¢æˆ·ç«¯æœåŠ¡å™¨çš„æ¶æ„ï¼Œå®‰è£…äº†&lt;strong>Chef-client&lt;/strong>ç¨‹åºçš„èŠ‚ç‚¹å¯ä»¥æ³¨å†Œåˆ°ä¸€ä¸ª&lt;strong>Chefç®¡ç†æœåŠ¡å™¨&lt;/strong>é‡Œã€‚&lt;/p>
&lt;p>Chefçš„å¼€å‘äººå‘˜ï¼ˆIaCç¼–ç è€…ï¼‰ï¼Œåœ¨å®‰è£…äº†ç”¨äºå’ŒChefæœåŠ¡å™¨äº¤äº’çš„åä¸º&lt;strong>knife&lt;/strong>çš„å·¥å…·ï¼Œç§°ä¹‹ä¸º&lt;strong>å·¥ä½œç«™&lt;/strong>çš„ç³»ç»Ÿä¸Šå¼€å‘åŸºç¡€æ¶æ„ä»£ç ã€‚Chefä½¿ç”¨å¤§é‡å†…ç½®çš„DSLèµ„æºï¼ˆä¾‹å¦‚ï¼špackageï¼Œserviceï¼Œfileï¼Œdirectoryç­‰æ“ä½œç³»ç»Ÿèµ„æºåˆ†ç±»ï¼‰å¯¹ç›®æ ‡èŠ‚ç‚¹çš„é…ç½®è¿›è¡Œå»ºæ¨¡ï¼Œä»£ç å¯ä»¥æ˜ å°„åˆ°å†…éƒ¨çš„ç”¨æ¥æ‰§è¡Œè¿™äº›ä»£ç çš„å„ç§&lt;strong>æä¾›è€…&lt;/strong>ä¸Šã€‚&lt;/p>
&lt;p>æ‰€èƒ½å®ç°çš„ç¤ºä¾‹ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼Œä¸‹é¢æ˜¯é…ç½®Linuxæ“ä½œç³»ç»Ÿä¸­çš„ApacheæœåŠ¡å™¨ã€‚&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ruby" data-lang="ruby">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">package&lt;/span> &lt;span class="s1">&amp;#39;httpd&amp;#39;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">action&lt;/span> &lt;span class="ss">:install&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">service&lt;/span> &lt;span class="s1">&amp;#39;httpd&amp;#39;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">action&lt;/span> &lt;span class="o">[&lt;/span> &lt;span class="ss">:enable&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="ss">:start&lt;/span> &lt;span class="o">]&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä¸‹é¢æ˜¯åœ¨Linuxæ“ä½œç³»ç»Ÿé‡Œé…ç½® &lt;code>/a/b/c&lt;/code> ç›®å½•&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ruby" data-lang="ruby">&lt;span class="line">&lt;span class="cl">
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="n">directory&lt;/span> &lt;span class="s1">&amp;#39;/a/b/c&amp;#39;&lt;/span> &lt;span class="k">do&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">owner&lt;/span> &lt;span class="s1">&amp;#39;admin&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">group&lt;/span> &lt;span class="s1">&amp;#39;admin&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">mode&lt;/span> &lt;span class="s1">&amp;#39;0755&amp;#39;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">action&lt;/span> &lt;span class="ss">:create&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="n">recursive&lt;/span> &lt;span class="kp">true&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="k">end&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä»¥ä¸‹é¢å°±æ˜¯ &lt;code>/a/b/c&lt;/code> ç›®å½•çš„é…ç½®ç»“æœçŠ¶æ€ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-sh" data-lang="sh">&lt;span class="line">&lt;span class="cl">&lt;span class="nv">$ls&lt;/span> â€ld /a/b/c
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">drwxr-Â­â€xr-Â­â€x. &lt;span class="m">5&lt;/span> admin admin &lt;span class="m">4096&lt;/span> Feb &lt;span class="m">14&lt;/span> 11:22 /a/b/c
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Chefå…¶å®ƒçš„é‡è¦æœ¯è¯­ï¼š&lt;/p>
&lt;ul>
&lt;li>recipe ï¼šåŒ…å«äº†ä¸€ä¸ªæˆ–è€…å¯¹ä¸ªèµ„æºæè¿°å®šä¹‰ï¼ˆChefé¢„å®šä¹‰äº†æ–‡ä»¶ã€ç”¨æˆ·ã€è½¯ä»¶åŒ…ã€æœåŠ¡ç­‰ç­‰èµ„æºï¼Œå¯ä»¥æ‰©å±•å¼€å‘è‡ªå®šä¹‰èµ„æºç±»ï¼‰&lt;/li>
&lt;li>cookbook ï¼šåŒ…å«äº†ä¸€ä¸ªæˆ–å¤šä¸ªrecipeé…æ–¹&lt;/li>
&lt;li>data bag ï¼šåŒ…å«äº†ä¸€ä¸ªæˆ–å¤šä¸ªé…ç½®æ•°æ®ç‚¹(data bag item)ï¼Œæ˜¯JSONæ ¼å¼ï¼Œä¸€ä¸ªcookbooké£Ÿè°±å¯ä»¥åŒ…å«ä¸€ä¸ªæˆ–è€…å¤šä¸ªæ•°æ®è¢‹&lt;/li>
&lt;li>run list ï¼šåŒ…å«äº†ä¸€ä¸ªæˆ–è€…å¤šä¸ªcookbooké£Ÿè°±ï¼Œå¯å°†å…¶éƒ¨ç½²åœ¨è¢«ç®¡ç†çš„nodeèŠ‚ç‚¹ä¸Š&lt;/li>
&lt;li>role ï¼šä¸€ç»„ç‰¹å®šå†…å®¹çš„run listè¿è¡Œæ¸…å•æ„æˆäº†ä¸€ä¸ªè§’è‰²&lt;/li>
&lt;li>environmentsï¼šåŒæˆ‘ä»¬ç°åœ¨å¯¹ç¯å¢ƒçš„å®šä¹‰ï¼Œå¹¶å¯ä»¥ä¸€ä¸€å¯¹åº”èµ·æ¥&lt;/li>
&lt;/ul>
&lt;p>Chefæ˜¯åä¸»æœºé…ç½®ç®¡ç†çš„éå¸¸çš„Iacè¯­è¨€ï¼Œå®ƒå…·æœ‰å¾ˆä¸°å¯Œçš„æ‰©å±•èƒ½åŠ›å’Œç”Ÿæ€ç³»ç»Ÿã€‚å®ƒæœ‰å¾ˆå¥½çš„æ‰©å±•èƒ½åŠ›ï¼Œå¾ˆå¼ºçš„é€»è¾‘æ€§ï¼Œèƒ½å¤Ÿè¿›è¡Œæ·±åº¦çš„è¡¨è¾¾å’Œé”»é€ ã€‚å®ƒå’ŒTerraformå’ŒAnsibleéƒ½æœ‰è¾ƒå¤§å·®å¼‚ã€‚&lt;/p>
&lt;h2 id="éƒ¨ç½²æµç¨‹è®¾è®¡">éƒ¨ç½²æµç¨‹è®¾è®¡
&lt;/h2>&lt;p>å°†ä»¥ä¸Šæ‰‹å·¥å¤„ç†è¿‡ç¨‹è½¬æ¢ä¸ºè‡ªåŠ¨åŒ–æ‰§è¡Œçš„ã€ä¸€é”®å¼è§¦å‘æˆ–è€…è‡ªåŠ¨è§¦å‘çš„æµç¨‹éœ€è¦å…³æ³¨å¾ˆå¤šä¸ªè¦ç‚¹ã€‚&lt;/p>
&lt;p>ä½¿ç”¨Cheféƒ¨ç½²è‡ªå¼€å‘çš„åº”ç”¨ç¨‹åºï¼ŒåŒ…æ‹¬é…ç½®æ‰€ä¾èµ–çš„æ“ä½œç³»ç»Ÿé…ç½®å’Œè½¯ä»¶ï¼Œä»¥åŠè‡ªèº«æ‰€éœ€çš„åº”ç”¨é…ç½®ã€‚å¯ä»¥ä½¿ç”¨Liquibaseè¿›è¡Œæ•°æ®åº“çš„schemaéƒ¨ç½²å’Œæ›´æ–°ã€‚å¯ä»¥ç”¨Jenkinsåè°ƒå’Œç»„ç»‡æ‰€æœ‰å·¥åºçš„æ‰§è¡Œã€‚ä½¿ç”¨Jenkinsç®¡ç†éƒ¨ç½²æµç¨‹çš„æ„Ÿè§‰å’Œç”¨å®ƒæ‰§è¡ŒCIæ˜¯ç±»ä¼¼ã€‚&lt;/p>
&lt;p>ä»ç®€å•å¼€å§‹ï¼Œå°½é‡å°†ä¸€ç»„å½¼æ­¤ç›¸å…³çš„ã€ç‰ˆæœ¬åŒ–çš„å¯éƒ¨ç½²ç‰©ç»„ç»‡åœ¨ä¸€èµ·å‘å¸ƒï¼Œä¾‹å¦‚åœ¨ä¸€ä¸ªå‘å¸ƒé›†åˆä¸­å¯ä»¥åŒ…å«ï¼šUIã€RESTæœåŠ¡å™¨ã€æ¶ˆæ¯æœåŠ¡å’Œæ•°æ®åº“ã€‚å°½é‡ä½¿ç”¨ä¸€æ¡å‘½ä»¤æ„å»ºï¼Œä½¿ç”¨ä¸€æ¡å‘½ä»¤éƒ¨ç½²ã€‚&lt;/p>
&lt;h3 id="cookbookè®¾è®¡ç±»å‹">Cookbookè®¾è®¡ç±»å‹
&lt;/h3>&lt;p>&lt;strong>Library Cookbook åº“é£Ÿè°±&lt;/strong> ï¼šè¿™ç§ç±»å‹çš„é£Ÿè°±æ¶µç›–äº†é€šç”¨çš„ã€å¯é‡ç”¨çš„é€»è¾‘ã€‚ä¾‹å¦‚æ‰€æœ‰é…ç½®åŸºçº¿ï¼Œä¹Ÿå¯ä»¥æ˜¯å®‰å…¨åŸºçº¿ã€‚ä¾‹å¦‚ï¼šdnsã€ntpã€ä¸»æœºç™»å½•æç¤ºã€ç”¨æˆ·å’Œç»„ã€ç¦ç”¨æœåŠ¡æ¸…å•ç­‰ç­‰ã€‚å¼€å‘æ‰©å±•çš„è‡ªå®šä¹‰chefèµ„æºï¼Œç”¨æ¥éƒ¨ç½²è‡ªå¼€å‘åº”ç”¨ã€‚&lt;/p>
&lt;p>&lt;strong>Application Cookbook åº”ç”¨ç³»ç»Ÿé£Ÿè°±&lt;/strong> ï¼šåœ¨ä»¥ä¸Šåº“é£Ÿè°±çš„åŸºç¡€ä¸Šï¼Œä¸ºä¸€ä¸ªå¥—åº”ç”¨ç³»ç»Ÿå¼€å‘ä¸€ä¸ªCookbooké£Ÿè°±ï¼Œæ¯ä¸ªåº”ç”¨å¯æ˜¯ä¸€ä¸ªrecipeé…æ–¹ï¼Œrecipeé…æ–¹ä½¿ç”¨è‡ªå®šä¹‰å¼€å‘çš„Chefèµ„æºã€‚è¿™æ ·å°±å½¢æˆäº†éå¸¸è½»é‡çš„ä»£ç åº“ã€‚&lt;/p>
&lt;p>&lt;strong>Data Bag æ•°æ®è¢‹&lt;/strong>ï¼šåŒ…å«äº†å„ç§åº”ç”¨é…ç½®ï¼Œä¾‹å¦‚ï¼šæœåŠ¡ç«¯å£ã€JAVA_OPTSç­‰ç­‰ã€‚ä¸€ä¸ªåº”ç”¨ç³»ç»ŸCookbooké£Ÿè°±å¯¹åº”ä¸€ä¸ªæ•°æ®è¢‹ï¼Œè¢‹å­é‡Œé¢åŒ…å«äº†è¯¥åº”ç”¨åœ¨æ¯ä¸€å¥—ç¯å¢ƒé‡Œçš„ç›¸å…³æ‰€æœ‰é…ç½®ç‚¹ã€‚&lt;/p>
&lt;p>ä¸Šçº¿ä¸€ä¸ªåº”ç”¨çš„æ–°ç‰ˆæœ¬æ„å‘³ç€æ–°ç‰ˆæœ¬IaCä»£ç çš„æ›´æ–°å’Œéƒ¨ç½²ï¼Œå¤§è‡´çš„æµç¨‹æ˜¯ï¼šç¼–è¾‘Chefä»£ç ã€æ¨é€åˆ°Chefç®¡ç†æœåŠ¡å™¨ã€åœ¨èŠ‚ç‚¹ä¸Šè¿è¡ŒChefå®¢æˆ·ç«¯ç¨‹åºæ‰§è¡Œéƒ¨ç½²åŠ¨ä½œã€‚ChefæœåŠ¡å™¨çš„ç‰ˆæœ¬å§‹ç»ˆå’Œç‰ˆæœ¬æ§åˆ¶åº“é‡Œçš„Masterä¸»å¹²ä¿æŒä¸€è‡´ï¼Œè¿™åŒæ ·æ„å‘³ç€ç¯å¢ƒé…ç½®å’ŒMasterä¸»å¹²ä»£ç ä¿æŒä¸€è‡´ã€‚&lt;/p>
&lt;p>ç”¨Chefå¼€å‘è‡ªå®šä¹‰åº”ç”¨èµ„æºçš„å®ä¾‹ä»£ç å¦‚ä¸‹ï¼Œè¿™æ®µä»£ç è¡¨ç¤ºäº†ä¸€ä¸ªJavaåº”ç”¨waråŒ…çš„éƒ¨ç½²ã€‚&lt;/p>
&lt;p>&lt;img src="https://res.cloudinary.com/martinliu/image/upload/carbon.png"
loading="lazy"
alt="carbon"
>&lt;/p>
&lt;p>åŸºäºç±»ä¼¼äºä»¥ä¸Šçš„è‡ªå®šä¹‰èµ„æºç±»å‹ï¼Œåœ¨å¿…è¦çš„æƒ…å†µä¸‹ï¼Œè¿˜å¯ä»¥å¯¹å…¶å¼€å‘Actionï¼ˆchefèµ„æºçš„æ“ä½œï¼‰ï¼Œå¯èƒ½çš„æ“ä½œå®šä¹‰æœ‰ï¼š&lt;/p>
&lt;ul>
&lt;li>ä»ArtifactoryæœåŠ¡å™¨ä¸‹è½½Javaã€Tomcatå’ŒWARåŒ…ã€‚&lt;/li>
&lt;li>åœ¨æ ‡å‡†çš„è·¯å¾„å®‰è£…Javaå’ŒTomcatã€‚&lt;/li>
&lt;li>åˆ›å»ºå’Œé…ç½®Tomcatå®¹å™¨&lt;/li>
&lt;li>åœ¨ç‰¹å®šçš„å®¹å™¨é‡Œå®‰è£…WARåŒ…&lt;/li>
&lt;li>åœ¨ä¸»æœºä¸Šå¼€é˜²ç«å¢™ç«¯å£&lt;/li>
&lt;li>ç”Ÿæˆåº”ç”¨å±æ€§æ–‡ä»¶&lt;/li>
&lt;li>å¯åŠ¨Tomcatå®¹å™¨&lt;/li>
&lt;/ul>
&lt;p>Data Bagæ•°æ®è¢‹çš„å®ä¾‹ä»£ç ç»“æ„å¦‚ä¸‹ï¼š&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-ruby" data-lang="ruby">&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;version&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;1.4.9&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;runtime&amp;#34;&lt;/span>&lt;span class="p">:{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;my-Â­app-Â­ui&amp;#34;&lt;/span>&lt;span class="p">:{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;java_opts&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;-Â­â€Xmx2G -Â­â€XX:MaxPermSize=1024m&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">},&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="s2">&amp;#34;app_config&amp;#34;&lt;/span>&lt;span class="p">:{&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;db.url&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;jdbc:postgresql://devdb:5432/myapp&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl"> &lt;span class="s2">&amp;#34;svc.foo.url&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s2">&amp;#34;http://devsvc:9000/foo&amp;#34;&lt;/span>
&lt;/span>&lt;/span>&lt;span class="line">&lt;span class="cl">&lt;span class="p">}&lt;/span>
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>ä»¥ä¸Šæ˜¯data_bags/my_app/DEV.jsonçš„å®šä¹‰ï¼Œè¿˜å¯ä»¥æœ‰å…¶å®ƒç¯å¢ƒçš„å®šä¹‰data_bags/my_app/TEST.jsonå’Œdata_bags/my_app/PROD.jsonç­‰ã€‚&lt;/p>
&lt;h2 id="äººå‘˜è§’è‰²">äººå‘˜è§’è‰²
&lt;/h2>&lt;p>åŸºç¡€æ¶æ„çš„æŒç»­é›†æˆéœ€è¦Devå’ŒOpsçš„ç›¸äº’åä½œï¼Œæ‰èƒ½åšé€šï¼Œæ‰èƒ½å…¨é¢è¦†ç›–åº”ç”¨æ‰€éœ€è¦çš„æŠ€æœ¯æ ˆã€‚&lt;/p>
&lt;p>&lt;strong>éƒ¨ç½²äººå‘˜&lt;/strong> æ›´data_bagæ–°æ•°æ®è¢‹å’Œç¯å¢ƒå®šä¹‰æ–‡ä»¶ï¼Œè§¦å‘ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²çš„åŠ¨ä½œï¼Œè°ƒåº¦chef-clientå®¢æˆ·ç«¯çš„è¿è¡Œï¼Œæˆ–è€…æ¨é€æ–°ç‰ˆæœ¬çš„Chefä»£ç æ›´æ–°ã€‚&lt;/p>
&lt;p>&lt;strong>æŠ€æœ¯è´Ÿè´£äºº&lt;/strong> ç»´æŠ¤åº”ç”¨ç³»ç»ŸCookbooké£Ÿè°±ã€‚&lt;/p>
&lt;p>&lt;strong>æ¡†æ¶å¼€å‘äººå‘˜&lt;/strong> ç»´æŠ¤åº“Cookbooké£Ÿè°±ï¼Œç»´æŠ¤æ¡†æ¶ï¼ŒæŒç»­æ”¹è¿›æµç¨‹ã€‚&lt;/p>
&lt;p>ä»¥ä¸Šè¿™ä¸‰ç§è§’è‰²ï¼Œä»ä¸Šåˆ°ä¸‹æ˜¯ä»Opsåˆ°Devçš„è¿‡æ¸¡ã€‚å¯¹äºä¼ ç»ŸITç»„ç»‡çš„æ¶æ„ï¼Œéƒ¨ç½²äººå‘˜æ˜¯Opså›¢é˜Ÿçš„ï¼Œæ¡†æ¶å¼€å‘äººå‘˜æ˜¯Devå›¢é˜Ÿçš„ã€‚&lt;/p>
&lt;p>è¿™ä¸‰ç§è§’è‰²éƒ½å‡‘é½äº†ï¼Œæ‰èƒ½èµ·åˆ°å…¨å¥—åº”ç”¨ç³»ç»Ÿçš„æ•´ä½“å»ºæ¨¡å’Œç¼–ç ï¼Œè€Œä¸”æ¯ä¸ªè§’è‰²éƒ½æœ‰è´Ÿè´£çš„éƒ¨åˆ†ã€‚æŠ€æœ¯è´Ÿè´£äººå¯èƒ½æ˜¯æ¥è‡ªOpså’ŒDevå›¢é˜Ÿçš„æŠ€æœ¯å¤§æ‹¿ã€‚ä»–ä»¬å¯¹æ•´ä½“çš„æ­£ç¡®æ€§å’Œå®Œæ•´æ€§è´Ÿè´£ã€‚&lt;/p>
&lt;p>ç›®å‰ä¹Ÿæœ‰Devå›¢é˜Ÿåœ¨å…¶å†…éƒ¨æ‹›è˜è¿ç»´ç ”å‘çš„è§’è‰²ã€‚è¿™ä¸‰ç§è§’è‰²æ˜¯åŸºç¡€æ¶æ„å³ä»£ç çš„å±‚æ¬¡ç»“æ„å’Œäººå‘˜å›¢é˜Ÿæ¶æ„çš„å¯¹åº”ï¼Œåœ¨å®é™…å·¥ä½œä¸­å¯ä»¥çµæ´»åº”ç”¨ï¼›ä¸€æ–¹é¢è¦†ç›–æ‰€æœ‰æŠ€æœ¯å±‚æ¬¡ï¼Œå¦å¤–ä¸€æ–¹é¢å¼•å…¥æ‰€æœ‰å¿…è¦çš„äººå‘˜ï¼Œæ˜¯å›¢é˜Ÿå½¢æˆåˆåŠ›ã€‚&lt;/p>
&lt;p>å¦‚æœä¸æ˜¯æœ¬ç€å°†å…¨å¥—åº”ç”¨ç³»ç»Ÿåšå…¨é‡çš„éƒ¨ç½²ï¼Œä»¥ä¸Šä»»ä½•è§’è‰²åšè‡ªå·±èŒè´£èŒƒå›´å†…çš„IaCè‡ªåŠ¨åŒ–å®è·µï¼Œå…¶å®æ•ˆæœæ˜¯äº‹å€åŠŸåŠçš„ï¼Œæˆ–è€…æœºä¼šåªæœ‰æŠ€æœ¯å­¦ä¹ å’Œæ¢ç´¢çš„ä»·å€¼ã€‚&lt;/p>
&lt;h2 id="æ„å»ºcookbook">æ„å»ºCookbook
&lt;/h2>&lt;p>åœ¨å¼€å‘äº†å„ç§Cookbookä¹‹åï¼Œæˆ‘ä»¬å°±éœ€è¦å¯¹å…¶è¿›è¡ŒæŒç»­æµ‹è¯•ï¼Œå› æ­¤å°±éœ€è¦ä½¿ç”¨Cookbookçš„æŒç»­æ„å»ºæµç¨‹ã€‚è¿™ä¸ªæ­¥éª¤å°±å¦‚åŒæˆ‘ä»¬å¯¹åº”ç”¨ç¨‹åºçš„ä»£ç åšCIä¸€æ ·ã€‚&lt;/p>
&lt;p>&lt;img src="https://res.cloudinary.com/martinliu/image/upload/cookbook-build.png"
loading="lazy"
alt="cookbook-build"
>&lt;/p>
&lt;p>å¼€å‘äººå‘˜ï¼ˆç¨‹åºå‘˜ä¸æ˜¯ä¸šåŠ¡åº”ç”¨å¼€å‘è€…çš„ä¸“ä¸šåè¯ï¼Œè¿™é‡ŒæŒ‡IaCå¼€å‘è€…ï¼Œå¯èƒ½æ¥è‡ªä»»ä½•å›¢é˜Ÿï¼‰åœ¨Workstationså·¥ä½œç«™ä¸Šå¼€å‘Chefçš„Cookbookä»£ç ï¼Œå°†ä»£ç æäº¤åˆ°GitHubä¸Šçš„Chefä»£ç ä»“åº“ã€‚&lt;/p>
&lt;p>Jenkinsçš„MasteræœåŠ¡å™¨ä¼šè§¦å‘CI Jobï¼Œè°ƒç”¨Ruby Slaveå¯¹Cookbookä»£ç è¿›è¡Œé›†æˆå’Œæµ‹è¯•ï¼Œç„¶åè§¦å‘EC2ä¸´æ—¶å®ä¾‹çš„åˆ›å»ºï¼Œå°†Cookbookåœ¨EC2å®ä¾‹ä¸­è¿›è¡Œæµ‹è¯•ï¼Œä½¿ç”¨Artifactoryä¸­å­˜å‚¨çš„åº”ç”¨è½¯ä»¶åŒ…éƒ¨ç½²åº”ç”¨ã€‚å¦‚æœæµ‹è¯•éƒ½é€šè¿‡äº†ï¼Œå°±è§¦å‘Release Jobï¼Œå®ƒå°†Cookbookä»£ç ä¸Šä¼ åˆ°ChefæœåŠ¡å™¨ï¼Œä¾›æ‰€å„ç§ç¯å¢ƒä¸­çš„è¢«ç®¡ç†èŠ‚ç‚¹ä½¿ç”¨ã€‚&lt;/p>
&lt;p>ä¸Šå›¾ç”¨EC2ä½œä¸ºChefä»£ç çš„CIç¯å¢ƒï¼Œå¯ä»¥æ›¿ä»£çš„æ–¹æ¡ˆæœ‰Vagrant+è™šæ‹ŸåŒ–ï¼ˆVirtual Boxæˆ–è€…kvmï¼‰ï¼Œæˆ–è€…ä½¿ç”¨å…¶å®ƒè™šæ‹Ÿæœºèµ„æºæ± ï¼Œå¦‚Ovirt KVMã€Xenã€Nutanixã€‚æˆ‘å®é™…æµ‹è¯•è¿‡ä½¿ç”¨Terraformå¯¹æ¥Nutanixèµ„æºæ± ï¼Œè™šæ‹Ÿæœºåˆ›å»ºè¶…çº§å¿«ï¼Œå‡ ä¹æ˜¯ç§’å¾—çš„é€Ÿåº¦ã€‚ç°æœ‰çš„è™šæ‹ŸåŒ–èµ„æºæ± å°±æ˜¯æœ€æ–¹ä¾¿çš„å¯¹æ¥å¯¹è±¡ï¼Œéœ€è¦äº†è§£ä¸€ä¸‹APIå’Œå¯¹æ¥å·¥å…·å³å¯ã€‚&lt;/p>
&lt;p>å¯¹äºJenkinsæ„å»ºæœåŠ¡å™¨è€Œè¨€ï¼Œæ¯ä¸€å¥—åº”ç”¨ç³»ç»Ÿå¯¹åº”çš„Cookbookç»„/é›†åˆçš„æµ‹è¯•å’Œå‘å¸ƒéƒ½ä¼šåœ¨åŒä¸€ä¸ªæ„å»ºæœåŠ¡å™¨ä¸Šå‘ç”Ÿï¼Œä¸€èˆ¬æƒ…å†µä¸‹è¿™ä¸ªæœåŠ¡å™¨ä¹Ÿæ˜¯è¿™äº›åº”ç”¨çš„CIæœåŠ¡å™¨ï¼›è¿™ä¸ªJenkinsæœåŠ¡å™¨ä¹Ÿæ˜¯ç›¸å…³Cookbookçš„CIä½œä¸šå’Œå‘å¸ƒä½œä¸šçš„è¿è¡Œåœ°ç‚¹ã€‚è¿™ä¸ªæœåŠ¡å™¨ä¸Šä¼šå®‰è£…æ‰€éœ€è¦çš„Ruby gemåŒ…ï¼Œåº”è¯¥èƒ½è®¿é—®åˆ°ä¸ChefæœåŠ¡å™¨é“¾æ¥æ‰€éœ€è¦çš„ç§˜é’¥ï¼›åº”è¯¥å¯ä»¥ä½¿ç”¨åˆ°åˆ›å»ºEC2æµ‹è¯•èŠ‚ç‚¹è™šæ‹Ÿæœºçš„ç§˜é’¥ï¼Œæˆ–è€…è¯´è®¿é—®å…¶ä»–ç±»å‹è™šæ‹Ÿæœºèµ„æºæ± çš„ç”¨æˆ·åå’Œå¯†ç ã€‚&lt;/p>
&lt;h3 id="cookbook-ci-job">Cookbook CI Job
&lt;/h3>&lt;p>Cookbook CIä½œä¸šçš„è§¦å‘æ¡ä»¶æ˜¯ï¼šå½“æœ‰æ–°Chefä»£ç è¢«åˆå¹¶çš„æ—¶å€™ã€‚å®ƒä¼šè¿›é™æ€ä»£ç æ‰«ç å’Œæµ‹è¯•å·¥ä½œï¼ŒåŒ…æ‹¬å¦‚ä¸‹å†…å®¹ï¼š&lt;/p>
&lt;ul>
&lt;li>ä½¿ç”¨jsonå’Œgemçš„ç›¸å…³å·¥å…·åˆ†æJSONçš„å¥æ³•&lt;/li>
&lt;li>ä½¿ç”¨TailoråšRubyçš„å¥æ³•å’Œé£æ ¼æ‰«æ&lt;/li>
&lt;li>ä½¿ç”¨KnifeåšChefä»£ç çš„å¥æ³•åˆ†æ&lt;/li>
&lt;li>ä½¿ç”¨FoodctriticåšCheä»£ç çš„å¥æ³•åˆ†æå’Œæ­£ç¡®æ€§åˆ†æ&lt;/li>
&lt;/ul>
&lt;p>Chefä»£ç åœ¨æµ‹è¯•è™šæ‹Ÿæœºé‡Œçš„é›†æˆæµ‹è¯•æ˜¯æœ¬æ–‡çš„é‡ç‚¹ï¼Œé›†æˆæµ‹è¯•å·¥å…·ä½¿ç”¨Test Kitchenï¼Œè¿™ä¸ªå·¥å…·æœ‰ä¸€ç³»åˆ—å’Œè™šæ‹ŸåŒ–/äº‘ç¯å¢ƒå¯¹æ¥çš„æ’ä»¶ï¼Œå¦‚ kitchen-ec2æ’ä»¶ç­‰ã€‚èƒ½æŒ‰éœ€ä¸´æ—¶çš„åˆ›å»ºç”¨äºé›†æˆæµ‹è¯•çš„è™šæ‹Ÿæœºï¼Œåœ¨æµ‹è¯•å®Œæ¯•ï¼Œå¾—å‡ºäº†æµ‹è¯•ç»“æœä¹‹åï¼Œå°±åˆ é™¤æœ¬ä½œä¸šæ‰€åˆ›å»ºçš„ä¸´æ—¶è™šæ‹Ÿæœºã€‚&lt;/p>
&lt;p>åœ¨é›†æˆæµ‹è¯•çš„ç”Ÿå‘½å‘¨æœŸè¿‡ç¨‹ä¸­ä¹Ÿå¯èƒ½åˆ›å»ºå¤šä¸ªæµ‹è¯•è™šæ‹Ÿæœº/EC2å®ä¾‹ï¼Œè¿™ä¸ªè¿‡ç¨‹ä½¿å¯¹åº”ç”¨ç³»ç»Ÿé‡Œçš„æ‰€æœ‰ç»„ä»¶è¿›è¡Œä»¿çœŸçš„ã€å®é™…çš„å®‰è£…åŒ…å’ŒæœåŠ¡éƒ¨ç½²ï¼Œè¿›è¡Œå•èŠ‚ç‚¹æˆ–è€…å¤šèŠ‚ç‚¹çš„å…¨é‡åº”ç”¨ç³»ç»Ÿéƒ¨ç½²ã€‚åœ¨æ¯ä¸ªèŠ‚ç‚¹ä¸Šéƒ½æ‰§è¡ŒChefä»£ç ï¼Œåœ¨Chefå¯¹åº”ç”¨ç³»ç»Ÿçš„é…ç½®å’Œéƒ¨ç½²å®Œæˆä¹‹åï¼Œåœ¨å¯¹è¿è¡Œä¸­çš„åº”ç”¨è¿›è¡ŒéªŒè¯æµ‹è¯•ï¼Œæµ‹è¯•åŒ…æ‹¬æµ‹è¯•ç›¸å…³çš„æœåŠ¡ç«¯å£æ˜¯å¦èƒ½è®¿é—®ï¼Œè¿”å›ç»“æœæ˜¯å¦æ­£å¸¸ç­‰ç­‰ï¼ŒChefæ˜¯å¯ä»¥è¿›è¡Œæµ‹è¯•é©±åŠ¨å¼€å‘çš„ï¼Œå› æ­¤å¯ä»¥å†™å‡ºè¾ƒç»†è‡´çš„æµ‹è¯•ä»£ç ï¼Œä»è€Œåˆ†ææœ¬Cookbooké›†æˆæµ‹è¯•é€šè¿‡ä¸å¦ã€‚åœ¨æµ‹è¯•ç»“æŸäº†ä»¥åï¼ˆæœ€å¥½æ˜¯10åˆ†é’Ÿå·¦å³æˆ–æ›´çŸ­ï¼‰ï¼Œåˆ é™¤æ‰€æœ‰æµ‹è¯•çš„è™šæ‹Ÿæœºèµ„æºã€‚&lt;/p>
&lt;p>&lt;img src="https://res.cloudinary.com/martinliu/image/upload/nutanix-logo.png"
loading="lazy"
alt="Nutanix"
>&lt;/p>
&lt;p>åº”è¯¥å°½å¯èƒ½çš„ä¼˜åŒ–è¿™ä¸ªé›†æˆæµ‹è¯•ï¼Œå°½é‡ç¼©çŸ­å®ƒçš„æ‰§è¡Œæ—¶é—´ã€‚å¯ä»¥åˆ›å»ºä¸“ç”¨çš„EC2-AMI/Nutanix/Kvm/VMWareæ“ä½œç³»ç»Ÿé•œåƒï¼Œé¢„è£…æ‰€éœ€è¦çš„Rubyç¯å¢ƒå’ŒChefå·¥å…·ã€‚&lt;/p>
&lt;p>ä½¿ç”¨Chef Soloï¼ˆä¸ä¾èµ–chefæœåŠ¡å™¨ï¼‰æ‰§è¡ŒChefä»£ç çš„æµ‹è¯•ï¼Œä»¥å…å°†ä¸´æ—¶èŠ‚ç‚¹ä¹Ÿæ·»åŠ åˆ°äº†ChefæœåŠ¡å™¨ï¼ŒåŒæ—¶ä¹Ÿæ¶ˆé™¤äº†Chefçš„å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨æ¶æ„ä¹‹é—´ç›¸äº’é€šè®¯çš„æ¶ˆè€—ï¼Œè¿™ä¸ªåœºæ™¯é‡Œå…¶å®æ²¡æœ‰ä½¿ç”¨ChefæœåŠ¡å™¨çš„å¿…è¦ã€‚ä½¿ç”¨ä¸€ä¸ªåä¸ºCHEFDEVçš„ä¼ªç¯å¢ƒæ¥æµ‹è¯•ä»£ç ï¼Œè€ŒJSONæ–‡ä»¶é‡Œå®šä¹‰çš„çœŸå®ç¯å¢ƒåˆ™è¢«ä¿ç•™ç”¨äºæ­£å¼ç”Ÿäº§ç¯å¢ƒã€‚åœ¨åˆ›å»ºEC2è™šæ‹Ÿæœºçš„æ—¶å€™ï¼Œç»™å®ƒä»¬æ‰“ä¸Šç‰¹å®šçš„æ ‡ç­¾ï¼Œä»è€Œä¿æŒä¸€å®šçš„å¯è¿½è¸ªæ€§å’Œç¯å¢ƒçš„å¯ç»´æŠ¤æ€§ã€‚&lt;/p>
&lt;h3 id="cookbook-release-job">Cookbook Release Job
&lt;/h3>&lt;p>è¿™ä¸ªä½œä¸šçš„è¿è¡Œå†…å®¹å’ŒCI JobåŸºæœ¬ä¸€è‡´çš„ï¼Œè€Œå®ƒæ˜¯é äººä¸ºæ‰‹å·¥è§¦å‘çš„ï¼Œä»Chefè§’åº¦çœ‹ï¼Œå¯ä»¥è¯´ï¼šæœ¬æ–‡ä¸Šè¿°çš„æ‰€æœ‰æè¿°ï¼Œå±äºChefé£æ ¼çš„åŸºç¡€æ¶æ„å³ä»£ç ç¨‹åºçš„æŒç»­äº¤ä»˜ã€‚æœ¬ä½œä¸šå°†æµ‹è¯•æˆåŠŸçš„ä»£ç åœ¨GitHub/GitLabé‡Œæ‰“ä¸Šæ ‡ç­¾ï¼Œå¹¶ä¸”ä¸Šä¼ Cookbookçš„æ–°ç‰ˆæœ¬åˆ°æ­£å¼çš„Chefç”Ÿäº§æœåŠ¡å™¨ä¸Šã€‚&lt;/p>
&lt;p>å¯ä»¥æƒ³è±¡ç»è¿‡å¤šä¸ªCookbookçš„build jobä¹‹åï¼ŒCookbookçš„æŸä¸ªç‰ˆæœ¬è¢«å‘å¸ƒåˆ°äº†ç”Ÿäº§ç¯å¢ƒä¸­ï¼Œç”¨äºç¯å¢ƒçš„é…ç½®å’Œåº”ç”¨çš„éƒ¨ç½²ã€‚æœ¬Jobä½œä¸šäº¤ä»˜äº†IaCçš„å¼€å‘ç»“æœåˆ°ç”Ÿäº§ç¯å¢ƒä¸­çš„Chefç®¡ç†æœåŠ¡å™¨ã€‚&lt;/p>
&lt;p>å…¶å®ƒIaCçš„åŸºç¡€æ¶æ„æŒç»­åŠé›†æˆä¸æœ¬æ–‡æè¿°çš„ä¹Ÿåº”è¯¥æ˜¯ç±»ä¼¼æµç¨‹ã€‚&lt;/p>
&lt;h2 id="åº”ç”¨éƒ¨ç½²æµç¨‹">åº”ç”¨éƒ¨ç½²æµç¨‹
&lt;/h2>&lt;p>Cookbookçš„å¼€å‘å’Œé›†æˆå®Œæ¯•äº†ä»¥åï¼Œå®ƒçš„ç»“æœäº§ç‰©æ˜¯ä¸€äº›åˆ—æ–°ç‰ˆæœ¬çš„Cookbookä»£ç ï¼Œå®ƒä»¬æœ€ç»ˆä¸Šä¼ åˆ°ChefæœåŠ¡å™¨ã€‚æ”¯æŒç”Ÿäº§ç¯å¢ƒåº”ç”¨éƒ¨ç½²çš„ChefæœåŠ¡å™¨ä¸å„ç§ç¯å¢ƒä¿æŒè¿æ¥ï¼ŒåŒ…æ‹¬æµ‹è¯•ã€é¢„å‘å¸ƒå’Œç”Ÿäº§ç­‰ç­‰ã€‚&lt;/p>
&lt;p>&lt;img src="https://res.cloudinary.com/martinliu/image/upload/app-deploy-process.png"
loading="lazy"
alt="app-deploy-process"
>&lt;/p>
&lt;p>åœ¨å‘å¸ƒè¿‡ç¨‹ä¸­æ‰€ä½¿ç”¨åˆ°çš„åˆ¶å“æ˜¯ä»Artifactoryä¸­æ‹‰å–çš„ã€‚ä¸‹é¢ç®€å•è¯´ä¸‹è¿™ä¸ªæ¶æ„ä¸­çš„å…³é”®ç‚¹ã€‚&lt;/p>
&lt;p>&lt;strong>Jenkinséƒ¨ç½²æœåŠ¡å™¨&lt;/strong> è¿™æ˜¯ä¸“é—¨ç”¨äºå„ç§éƒ¨ç½²å·¥ä½œçš„Jenkins MasteræœåŠ¡å™¨ï¼Œå®ƒå’Œä¸Šä¸€ä¸ªæ­¥éª¤é‡ŒCookbookçš„BuildæœåŠ¡å™¨æ˜¯ä¸åŒçš„ã€‚å®ƒçš„Slaveåº”è¯¥æ»¡è¶³è¿™äº›éœ€æ±‚ï¼šå®‰è£…äº†æ‰€éœ€è¦Rubyç¯å¢ƒå’ŒgemåŒ…ã€‚å®‰è£…äº†Chefå·¥å…·ï¼Œå¹¶ä¸”å…·æœ‰èƒ½æ›´æ–°ChefæœåŠ¡å™¨çš„ç§˜é’¥ã€‚å…·æœ‰èƒ½è®¿é—®å„ç§è™šæ‹ŸåŒ–ç¯å¢ƒä¸­èŠ‚ç‚¹çš„SSHç§˜é’¥ã€‚&lt;/p>
&lt;p>&lt;strong>éƒ¨ç½²ä½œä¸šçš„ç±»å‹&lt;/strong> å¯ä»¥å¯¹äºæ¯ä¸€ä¸ªåº”ç”¨ç»„ï¼ˆä¸€å¥—åº”ç”¨ç³»ç»Ÿï¼‰è®¾ç½®ä¸¤ä¸ªéƒ¨ç½²ä½œä¸šï¼šåœ¨å¼€å‘ç¯å¢ƒä¸­çš„ï¼Œç”¨äºå¼€å‘äººå‘˜ä½¿ç”¨çš„DEVéƒ¨ç½²ä½œä¸šï¼›å¦å¤–æ˜¯è¿ç»´äººå‘˜æ‰€ä½¿ç”¨çš„Non-Devéƒ¨ç½²ä½œä¸šã€‚åœ¨å®è·µè¿‡ç¨‹ä¸­ä¹Ÿèƒ½å‘å±•å‡ºå…¶ä»–ç±»å‹ã€‚&lt;/p>
&lt;p>éƒ¨ç½²äººå‘˜çš„å·¥ä½œæµç¨‹ï¼š&lt;/p>
&lt;ol>
&lt;li>å˜æ›´Chefç›¸å…³ä»£ç å’Œé…ç½®ï¼ŒåŒ…æ‹¬ï¼šç¼–è¾‘åº”ç”¨çš„data bagé…ç½®æ•°æ®ç‚¹ï¼Œæœ‰å¿…è¦çš„è¯ç¼–è¾‘ç¯å¢ƒæ–‡ä»¶ï¼Œåˆå¹¶ä»£ç ã€‚&lt;/li>
&lt;li>ç„¶ååœ¨Jenkinséƒ¨ç½²æœåŠ¡å™¨ä¸Šæ‰§è¡Œä½œä¸šã€‚&lt;/li>
&lt;/ol>
&lt;p>é€šè¿‡ä»¥ä¸Šçš„æµç¨‹å’Œå·¥å…·ï¼Œå¼€å‘ã€æµ‹è¯•å’Œè¿ç»´çš„ç›¸å…³äººå‘˜ï¼Œå¦‚æœéœ€è¦éƒ¨ç½²åº”ç”¨äº†ï¼Œå°±å¯ä»¥ç”¨ä¸€é”®å¼çš„ã€è‡ªåŠ©å¼çš„éƒ¨ç½²æ¨¡å¼ï¼Œå°†ä»»ä½•åº”ç”¨åº”ç”¨ç³»ç»Ÿé€šè¿‡ä¸€é”®å¼çš„æ–¹å¼è‡ªåŠ¨åŒ–çš„éƒ¨ç½²åˆ°å„ç§åº”ç”¨ç¯å¢ƒä¸­ã€‚&lt;/p>
&lt;p>&lt;img src="https://res.cloudinary.com/martinliu/image/upload/push-button-deploy.png"
loading="lazy"
alt="push-button-deploy"
>&lt;/p>
&lt;p>è¿™æ ·æˆ‘ä»¬å°†å¤§é‡å„ç§è§’è‰²äººå‘˜éƒ½ä»äº‹çš„ã€æ²¡æœ‰é™„åŠ å€¼çš„åº”ç”¨éƒ¨ç½²å·¥ä½œï¼Œå½»åº•çš„æ¶ˆç­æ‰äº†ï¼ŒèŠ‚çœçš„æ—¶é—´å¯ä»¥ç”¨æ¥åšæ›´å¤šæœ‰æ„ä¹‰çš„å·¥ä½œï¼ŒDeväººå‘˜æœ‰æ›´å¤šæ—¶é—´ç¼–ç ã€æµ‹è¯•äººå‘˜ä¸éœ€è¦ç­‰å¾…æ—¶é—´ã€è¿ç»´äººå‘˜ä¹Ÿé™ä½çš„å·¥ä½œå‹åŠ›ã€‚&lt;/p>
&lt;h2 id="æ€»ç»“">æ€»ç»“
&lt;/h2>&lt;p>å…³äºåŸºç¡€æ¶æ„çš„æŒç»­é›†æˆï¼Œè¿˜æœ‰ä¸‹åˆ—å€¼å¾—å‚è€ƒçš„åŸåˆ™ï¼š&lt;/p>
&lt;ul>
&lt;li>å°½å¯èƒ½çš„æ ‡å‡†åŒ–ï¼šåŒ…æ‹¬æŠ€æœ¯ã€è®¾è®¡å’Œæµç¨‹ç­‰æ–¹é¢ï¼›è¦èƒ½å¤Ÿæ”¯æŒç¯å¢ƒçš„è§„æ¨¡åŒ–æ‰©å±•ï¼Œä¾‹å¤–æ˜¯å¯ä»¥çš„ï¼Œä½†æ˜¯è¦å°½é‡é¿å…ã€‚&lt;/li>
&lt;li>æ‰€æœ‰å·¥å…·æœ€å¥½æœ‰APIï¼šé¿å…åœ¨æŸä¸ªå·¥å…·ï¼Œåœ¨å·¥å…·é“¾ä¸Šçš„ä»»ä½•ç¯èŠ‚çš„è„±èŠ‚ã€‚&lt;/li>
&lt;li>ä½¿ç”¨å¤šç§å½¢å¼çš„æ²Ÿé€šè·¯å¾„ï¼šè¿™ä¸ªå®è·µéœ€è¦ç”¨å„ç§æ–¹å¼è¿›è¡Œå®£ä¼ å’Œæ¨å¹¿ï¼ŒåŒ…æ‹¬ï¼šå…¨å‘˜å¤§ä¼šçš„ä¸»é¢˜åˆ†äº«ã€æ¯ä¸ªå›¢é˜Ÿçš„å¯åŠ¨ä¼šè®®ã€ä¸å¼€å‘äººå‘˜çš„éšæ—¶æ²Ÿé€šï¼Œä½¿ç”¨æ–‡æ¡£è¿›è¡ŒçŸ¥è¯†ä¼ æ’­å’Œæ²Ÿé€šã€‚&lt;/li>
&lt;li>ä¿æŒä¹è§‚ï¼Œå°½é‡å‘ç°å’Œæ‰¾åˆ°é‚£äº›å¿—åŒé“åˆçš„æ—©æœŸå“åº”è€…ï¼Œè®©ä»–ä»¬å’Œä½ ç«™åœ¨ä¸€æ¡æˆ˜çº¿ä¸Šã€‚&lt;/li>
&lt;/ul>
&lt;h2 id="å¼•ç”¨">å¼•ç”¨
&lt;/h2>&lt;h3 id="å‚è€ƒè§†é¢‘">å‚è€ƒè§†é¢‘
&lt;/h3>&lt;p>&lt;a class="link" href="https://www.youtube.com/watch?v=PQ6KTRgAeMU" target="_blank" rel="noopener"
>https://www.youtube.com/watch?v=PQ6KTRgAeMU
&lt;/a>&lt;/p>
&lt;h3 id="å‚è€ƒä¹¦ç±">å‚è€ƒä¹¦ç±
&lt;/h3>&lt;p>&lt;img src="https://res.cloudinary.com/martinliu/image/upload/book-infrastructure-as-code.png"
loading="lazy"
>&lt;/p>
&lt;hr></description></item><item><title>BMC Atrium CMDB CIæ•°æ®è¿ç§»</title><link>https://martinliu.cn/2011/01/12/bmc-atrium-cmdb-ci/</link><pubDate>Wed, 12 Jan 2011 05:08:23 +0000</pubDate><guid>https://martinliu.cn/2011/01/12/bmc-atrium-cmdb-ci/</guid><description>&lt;p>åœ¨ä¸åŒçš„ CMDB æœåŠ¡å™¨ä¹‹é—´åšæ•°æ®è¿ç§»ä¹‹å‰ä¸€å®šè¦æ³¨æ„ä¸¤ç‚¹ï¼š1ï¼‰ä¿æŒä¸¤è¾¹çš„ CDM ç›¸åŒï¼›2ï¼‰å…ˆå¯¼å…¥ CI æ•°æ®åœ¨å¯¼å…¥ CI ç›¸å…³çš„å…³ç³»æ•°æ®ã€‚å¦å¤–å°±æ˜¯æ¯ä¸ªç±»å¯¼å…¥å®Œæ¯•ä¹‹åè¦åšæ•°æ®å®Œæ•´æ€§å’Œæ­£ç¡®æ€§çš„æŠ½æ£€ã€‚ä»¥ä¸‹ä½¿ç”¨çš„å·¥å…·æ˜¯ cmdbdriverï¼Œè¯¥å‘½ä»¤åˆå§‹åŒ–å’Œä¸€èˆ¬æ€§çš„å‚æ•°ä»‹ç»è¯·å‚è€ƒç›¸å…³æ–‡æ¡£ã€‚&lt;/p>
&lt;p>&lt;em>&lt;strong>CI æ•°æ®å¯¼å‡ºç¤ºä¾‹&lt;/strong>&lt;/em>&lt;/p>
&lt;p>Command: xexpdt
XEXPORT DATA
Export instance data from all classes? (F):
Classes to export data from:
Class and its subclasses, From namespace (1,2) (1):
Namespace (): BMC.CORE
Class name (): BMC_ComputerSystem
Dataset ID (): BMC.ASSET
Filename for exported data: C:\DEMO\cs-ci
Exporting Class BMC_ComputerSystem
i=0: namespaceName = BMC.CORE, className = BMC_ComputerSystemExported without errorsExporting Class BMC_MainframeExporti
ng Class BMC_PrinterExporting Class BMC_StorageSubsystem
CMDBExportDataÂ  results
ReturnCode:Â  OK
Status List : 0 items&lt;/p>
&lt;p>åˆ°ç›¸åº”ç›®å½•ä¸‹é¢æ‰¾åˆ°å¯¼å‡ºçš„æ–‡ä»¶ï¼Œå¯¼å‡ºçš„ç»“æœè‡³å°‘æ˜¯ä¸¤ä¸ªæ–‡ä»¶ä¸€ä¸ªæ˜¯ META_FILE å…¶ä»–çš„æ‰æ˜¯ CI æ•°æ®æ–‡ä»¶ã€‚&lt;/p>
&lt;p>&lt;em>&lt;strong>å…³ç³»æ•°æ®å¯¼å‡ºç¤ºä¾‹&lt;/strong>&lt;/em>&lt;/p>
&lt;p>Command: xexpdt
XEXPORT DATA
Export instance data from all classes? (F):
Classes to export data from:
Class and its subclasses, From namespace (1,2) (1):
Namespace (): BMC.CORE
Class name (): BMC_Dependency
Dataset ID (): BMC.ASSET
Filename for exported data: C:\DEMO\REL-DEP.XML
Exporting Class BMC_Dependency
i=0: namespaceName = BMC.CORE, className = BMC_DependencyExported without errorsExporting Class BMC_AccountOnSystemExpor
ting Class BMC_HostedAccessPointExporting Class BMC_HostedServiceExporting Class BMC_InventoryBulkItemsExporting Class B
MC_InventoryComputerSystemsExporting Class BMC_InventoryEquipmentExporting Class BMC_InventorySystemComponents
CMDBExportDataÂ  results
ReturnCode:Â  OK
Status List : 0 items&lt;/p>
&lt;p>åˆ°ç›¸åº”ç›®å½•ä¸‹é¢æ‰¾åˆ°å¯¼å‡ºçš„æ–‡ä»¶ï¼Œå¯¼å‡ºçš„ç»“æœè‡³å°‘æ˜¯ä¸¤ä¸ªæ–‡ä»¶ä¸€ä¸ªæ˜¯ META_FILE å…¶ä»–çš„æ‰æ˜¯ CI æ•°æ®æ–‡ä»¶ã€‚&lt;/p>
&lt;p>&lt;em>&lt;strong>å¯¼å…¥æ•°æ®ç¤ºä¾‹&lt;/strong>&lt;/em>&lt;/p>
&lt;p>Command: impdt
IMPORT INSTANCE DATA
Handle duplicate Instance Ids:
(Error/New ID for Dup/Merge/New ID for All) (1-4) (1): 3
Filename containing import data: c:\demo\cs-ci_0_0Â  (å¯¼å…¥åŒ…å« CI æ•°æ®çš„æ–‡ä»¶)&lt;/p>
&lt;p>CMDBImportDataÂ  results
ReturnCode:Â  OK
Status List : 0 items
Total items ProcessedÂ Â Â Â Â Â Â Â Â Â Â Â  :Â  2
Items Imported successfullyÂ Â Â Â Â Â  :Â  2
Items for which Import failedÂ Â Â Â  :Â  0&lt;/p>
&lt;p>Command: impdt
IMPORT INSTANCE DATA
Handle duplicate Instance Ids:
(Error/New ID for Dup/Merge/New ID for All) (1-4) (1): 3
Filename containing import data: c:\demo\REL-DEP.XML_0_0 (å¯¼å…¥åŒ…å«å…³ç³»æ•°æ®çš„æ–‡ä»¶)&lt;/p>
&lt;p>CMDBImportDataÂ  results
ReturnCode:Â  OK
Status List : 0 items
Total items ProcessedÂ Â Â Â Â Â Â Â Â Â Â Â  :Â  1
Items Imported successfullyÂ Â Â Â Â Â  :Â  1
Items for which Import failedÂ Â Â Â  :Â  0&lt;/p>
&lt;p>å¯¼å…¥å®Œæ¯•ä¹‹åä½¿ç”¨ Remedy User åˆ°ç›¸åº”çš„è¡¨æ ¼ä¸­æŸ¥æ‰¾ï¼Œç¡®è®¤å¯¼å…¥çš„æ•°æ®æ˜¯å¦æ­£ç¡®ã€‚&lt;/p></description></item><item><title>è§„åˆ’CMDBæ•°æ®å¡«å……-001</title><link>https://martinliu.cn/2010/06/04/plan-cmdb-population-001/</link><pubDate>Fri, 04 Jun 2010 06:13:20 +0000</pubDate><guid>https://martinliu.cn/2010/06/04/plan-cmdb-population-001/</guid><description>&lt;p>From ã€ŠStep by step to build a CMDBã€‹æ­¥éª¤ 17-è§„åˆ’ CMDB æ•°æ®å¡«å……&lt;/p>
&lt;p>ç›®æ ‡&lt;/p>
&lt;p>åœ¨è¿™ä¸€ CMDB å…³é”®çš„æ­¥éª¤ä¸­ï¼Œä¼šä¸º CMDB çš„åˆå§‹åŒ– CI æ•°æ®å¡«å……ï¼Œåšç²¾ç»†çš„è®¡åˆ’ã€‚éœ€è¦è€ƒè™‘åˆ°æ‰€æœ‰ CI æ•°æ®ï¼ŒæŠŠä¸åŒ CI ç±»å‹å¯¹åº”åˆ°ä¸åŒçš„æ•°æ®é›†ä¸­ï¼Œå®‰æ’æ­£ç¡®çš„é¡ºåºå°†è¿™äº›æ•°æ®é›† CMDBã€‚å…¶ä¸­å®šä¹‰å¯¹åº”çš„è§„åˆ™æ¥è°ƒå’Œé‡å¤æ•°æ®æ˜¯å¾ˆé‡è¦çš„ï¼Œä¸ä»…åœ¨ CMDB åˆå§‹åŒ–æ•°æ®å¡«å……é˜¶æ®µé‡è¦ï¼Œåœ¨ä»¥åçš„æ—¥å¸¸ç»´æŠ¤è¿‡ç¨‹ä¸­ä¹Ÿæ˜¯éå¸¸é‡è¦çš„ã€‚åšå‡ºäº†æœ¬é˜¶æ®µçš„è¯¦ç»†è§„åˆ’åï¼Œè¿™æ ·åœ¨ç¬¬ 18 æ­¥å³â€œé€‰æ‹©è‡ªåŠ¨åŒ– CMDB å¡«å……å·¥å…·â€æ—¶ï¼Œå°±èƒ½è€ƒè™‘éœ€è¦ä»€ä¹ˆæ ·çš„é…ç½®å‘ç°å’Œè‡ªåŠ¨åŒ–å·¥å…·äº†ã€‚&lt;/p>
&lt;p>&lt;img src="http://pursuitmag.com/wp-content/uploads/2010/01/private-investigator-database.jpg"
loading="lazy"
>&lt;/p>
&lt;p>å®é™…ä¸Šï¼ŒæŠŠæ•°æ®å¡«å……åˆ° CMDB ä¸­æ˜¯éå¸¸åŸºç¡€çš„å·¥ä½œï¼Œå¿…é¡»äº‹å‰åšå¥½å……åˆ†çš„æ•°æ®èŒƒå›´å’Œç±»å‹çš„åˆ†æã€‚å¯¹äºä¸€ä¸ªå…¸å‹çš„ CMDB æ•°æ®å¡«è¿‡ç¨‹æ¥è¯´ï¼Œå°†éœ€è¦åšå¦‚ä¸‹å·¥ä½œï¼š&lt;/p>
&lt;ul>
&lt;li>å»ºç«‹é‡Œé¡¹ç›®ç¨‹ç¢‘å’Œé«˜é˜¶é¡¹ç›®è®¡åˆ’ï¼Œä»¥åŠé…å¥—çš„æ”¯æ’‘æ•°æ®åº“å’Œæ“ä½œæµç¨‹ã€‚&lt;/li>
&lt;li>å®‰æ’é¡¹ç›®å¯åŠ¨ä¼šè®®ï¼Œå•å‘¨æˆ–è€…åŒå‘¨çš„é¡¹ç›®è¿›åº¦æ²Ÿé€šä¼šã€‚&lt;/li>
&lt;li>è¯†åˆ«å­é¡¹ç›®ï¼ˆæ¯ä¸ªæ•°æ®é›†åˆ†ä¸ºä¸€ä¸ªå­é¡¹ç›®ï¼‰ï¼Œå»ºç«‹æ¯ä¸ªå­é¡¹ç›®çš„ç›®æ ‡å’Œéœ€æ±‚æ¸…å•ã€‚è¯†åˆ«å’Œåˆ¶å®šé¡¹ç›®å·¥ä½œæ´»åŠ¨å†…å®¹ï¼Œç¡®å®šé¡¹ç›®çš„å·¥ä½œæµç¨‹ï¼Œå¹¶ä¸”æŒ‰ç…§é¡¹ç›®è®¡åˆ’æ’ç¨‹æ‰€æœ‰æ´»åŠ¨ã€‚åŒ…æ‹¬ï¼š
&amp;mdash;å¹¶è¡Œå¼€å±•é¡¹ç›®ï¼ˆç”¨æˆ·ç•Œé¢å®šåˆ¶ï¼ŒDSL æ•°æ®å¡«å……ï¼‰ï¼›
&amp;mdash;ä¸²è¡Œå¼€å±•é¡¹ç›®ï¼ˆå‘ç°å·¥å…·ï¼Œæ•°æ®è°ƒå’Œï¼Œç­‰ç­‰ï¼‰&lt;/li>
&lt;li>ä¸ºæ¯ä¸ªå­é¡¹ç›®åˆ†é…é¡¹ç›®è´Ÿè´£äººï¼Œè®©ä»–ä»¬æ¥è´Ÿè´£æ±‡æŠ¥é¡¹ç›®çš„è¿›å±•ã€é—®é¢˜å‡çº§å’Œä¸‹ä¸€æ­¥çš„å·¥ä½œã€‚&lt;/li>
&lt;li>ä¸ºæ‰€æœ‰é¡¹ç›®å‚ä¸äººå‘˜å»ºç«‹ä¸€ä¸ªå¼€æ”¾çš„æ²Ÿé€šå¹³å°ï¼ŒåŒ…æ‹¬æ‰€æœ‰å†…éƒ¨ã€å¤–éƒ¨äººå‘˜ï¼ˆé‚®ä»¶ç»„æ–¹å¼ï¼Œæ•°æ®åº“ã€é€šæŠ¥ï¼‰&lt;/li>
&lt;li>ä¸ºå¯èƒ½å‡ºç°çš„ç´§æ€¥äº‹ä»¶é¢„ç•™è‡³å°‘ 10%çš„æ—¶é—´å’Œé¢„ç®—çš„ç¼“å†²ã€‚&lt;/li>
&lt;/ul>
&lt;p>è‡ªåŠ¨é…ç½®é‡‡é›†å·¥å…·æ˜¯ä¸€ç§å¾ˆå¥½çš„æ•°æ®å¡«å……å’Œæ•°æ®ç»´æŠ¤æ–¹å¼ï¼Œæ‚¨ä¹Ÿä¼šåœ¨æŸç§å‘ç°å·¥å…·çš„è¯±æƒ‘ä¸‹ï¼Œåœ¨å¾ˆçŸ­çš„æ—¶é—´é‡Œï¼Œå°±é‡‡é›†åˆ°äº†å¤§é‡çš„æ•°æ®ã€‚å¯æ˜¯æ‚¨è¿˜æ˜¯éœ€è¦æ³¨æ„ï¼šä¸€ä¸ªè¢«å¡«å……äº†å¤§é‡æ•°æ®çš„CMDBå¹¶ä¸æ„å‘³ç€æ˜¯ä¸€ä¸ªå¥½CMDBã€‚ä¸€æ—¦æ‚¨å»ºç«‹å’Œå¡«å……äº†CMDBï¼Œæ‚¨å°±å°†éœ€è¦å¯¹å®ƒè¿›è¡Œç§¯æåœ°ç»´æŠ¤ã€‚å¦‚æœCMDBä¸­å­˜å‚¨ç€å¾ˆå¤šè¶…å‡ºç”¨æˆ·éœ€æ±‚çš„æ•°æ®ï¼Œå³ä½¿åœ¨æœ€å¥½çš„æƒ…å†µä¸‹ï¼Œæ‚¨ä¹Ÿæ˜¯å¯¹è¿™äº›æ— ç”¨çš„æ•°æ®åšå¤§é‡æ— è°“åˆ›å»ºå’Œç»´æŠ¤å·¥ä½œï¼Œè¿™æ˜¯ä¸€ä¸ªå·¨å¤§çš„æµªè´¹ä¸”æ²¡æœ‰æ„ä¹‰çš„äº‹ã€‚è€Œåœ¨æœ€ç³Ÿçš„æƒ…å†µä¸‹ï¼Œå¦‚æœä½ æ‰€å¡«å……å…¥CMDBçš„æ•°æ®ï¼Œåœ¨åæ¥æ˜¯æ²¡æœ‰è¢«åŠæ—¶æ›´æ–°å’Œç»´æŠ¤çš„ï¼Œé‚£ä¹ˆå½“ç”¨æˆ·ä½¿ç”¨åˆ°è¿™äº›è´¨é‡ä½å’Œä¸ç²¾ç¡®çš„æ•°æ®æ•°æ®åï¼Œå°±ä¼šå¯¹CMDBå¤±å»ä¿¡å¿ƒï¼Œè¿™æ ·ä¹Ÿå¯¹ CMDBåœ¨ä¼ä¸šé‡Œçš„æ¨å¹¿å’Œåº”ç”¨é€ æˆä¸€å®šé˜»ç¢ã€‚&lt;/p>
&lt;p>æŒ‰ç…§æ‚¨åœ¨ç¬¬äºŒæ­¥-â€œå®šä¹‰éœ€æ±‚å’Œåˆ›å»º IT æœåŠ¡æ¨¡å‹è“å›¾â€ä¸­çš„éœ€æ±‚ï¼Œæ¥è®¾è®¡å’Œéƒ¨ç½² CMDBã€‚ä»ä½ çš„æœåŠ¡æ¨¡å‹è“å›¾å‡ºå‘ï¼Œæ¥è¯†åˆ« CIï¼ŒæŠŠä»–ä»¬åˆ†ç»„åˆ°å„ä¸ªæ•°æ®é›†ä¸­ã€‚è¯†åˆ«æ¯ä¸ªæ•°æ®é›†åº”è¯¥å¯¹åº”çš„æ•°æ®æºï¼ŒæŠŠæ¯ä¸ª CI ç±»å‹å’Œç›¸å…³æ•°æ®æºå¯¹åº”èµ·æ¥ã€‚å¹¶ä¸”æŒ‰ç…§æ—¢å®šçš„ CMDB æ•°æ®å¯¼å…¥çš„å·¥ä½œé¡ºåºï¼Œæ¥è§„åˆ’ä¸åŒæ•°æ®æºä¸­æ•°æ®ã€‚æœ€åï¼ŒæŠŠä»¥ä¸Šæ‰€æœ‰è§„åˆ’å’Œè®¾è®¡ç”¨æ–‡æ¡£è®°å½•ä¸‹æ¥ï¼ŒåŒ…æ‹¬è¯†åˆ«é‡å¤æ•°æ®çš„è°ƒå’Œè§„åˆ™ç­‰ã€‚&lt;/p>
&lt;p>åœ¨è¿™ä¸€æ­¥é‡Œï¼Œæ‚¨å¿…é¡»ä¸“æ³¨äº CMDB æ‰€éœ€è¦çš„èŒƒå›´ï¼Œäº¤ä»˜å¯å®ç°çš„ä¸œè¥¿ï¼Œè€Œéå¯èƒ½çš„ä¸œè¥¿ã€‚åœ¨æ•²å®šæœ€ç»ˆçš„è§„åˆ’ä¹‹å‰ï¼Œä½ éœ€è¦ç»„ç»‡åˆ†æä¼šè®®è¿›è¡Œä»”ç»†åœ°è®¡åˆ’ã€‚&lt;/p></description></item></channel></rss>