{{/*
  关键CSS内联优化 - 优化 LCP 性能
  这个模板需要放在主题的 layouts/partials/ 目录下
*/}}

{{/* 内联关键CSS */}}
<style>
/* ========== CRITICAL CSS FOR LCP OPTIMIZATION ========== */

/* Reset and Base - 最小化重绘 */
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif;
  line-height:1.6;
  -webkit-text-size-adjust:100%;
  scroll-behavior:smooth;
}
body{
  margin:0;
  background:#fff;
  color:#333;
  font-size:16px;
  font-display:swap;
}

/* Hero Section - LCP 元素优化 */
.hero-image,.hero-img{
  display:block;
  width:100%;
  height:auto;
  max-width:100%;
  background:#f8f9fa;
}

.hero-image picture{
  display:block;
  width:100%;
}

.hero-image img,.hero-img{
  width:100%;
  height:auto;
  object-fit:cover;
  transition:none; /* 移除动画，减少重绘 */
}

/* Header - 首屏关键区域 */
header{
  background:#fff;
  border-bottom:1px solid #e5e5e5;
  position:sticky;
  top:0;
  z-index:1000;
  contain:layout style paint;
}

.container{
  max-width:1200px;
  margin:0 auto;
  padding:0 1rem;
  contain:layout;
}

/* Navigation - 首屏可见 */
nav ul{
  margin:0;
  padding:0;
  list-style:none;
  display:flex;
  align-items:center;
}

nav li{
  margin-right:2rem;
}

nav a{
  text-decoration:none;
  color:#333;
  font-weight:500;
  padding:1rem 0;
  display:block;
  will-change:auto;
}

nav a:hover{
  color:#007acc;
}

/* Typography - 减少字体加载阻塞 */
h1,h2,h3,h4,h5,h6{
  font-weight:700;
  line-height:1.2;
  margin:0 0 1rem 0;
  font-display:swap;
}

h1{font-size:clamp(2rem,5vw,3rem)} /* 响应式字体 */
h2{font-size:clamp(1.5rem,4vw,2.5rem)}
h3{font-size:clamp(1.25rem,3vw,2rem)}

/* Content Layout */
.content{
  padding:2rem 0;
  contain:layout;
}

.main-content{
  min-height:60vh;
  contain:layout style;
}

/* 防止累积布局偏移 (CLS) */
img,picture,video{
  max-width:100%;
  height:auto;
  display:block;
}

/* 骨架屏 - 减少 LCP 感知时间 */
.hero-section{
  min-height:400px;
  background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);
  display:flex;
  align-items:center;
  justify-content:center;
  position:relative;
  contain:layout style paint;
}

/* 响应式优化 */
@media (max-width: 768px) {
  .container{padding:0 0.75rem}
  nav li{margin-right:1rem}
  nav a{padding:0.75rem 0}
}

/* 性能优化 - GPU 加速关键元素 */
.hero-image,.hero-img{
  transform:translateZ(0);
  will-change:auto;
}

/* 预加载动画 - 改善感知性能 */
@keyframes fadeIn{
  from{opacity:0}
  to{opacity:1}
}
</style>
    line-height: 1.6;
  }
  
  body {
    margin: 0;
    background-color: var(--body-background);
    color: var(--body-text-color);
  }
  
  /* 首屏内容样式 */
  .main-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
  }
  
  /* 头部导航 */
  header {
    background: var(--card-background);
    border-bottom: 1px solid var(--border-color);
  }
  
  .header-content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 60px;
  }
  
  /* 加载动画 */
  .loading-placeholder {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: loading 1.5s infinite;
  }
  
  @keyframes loading {
    0% { background-position: 200% 0; }
    100% { background-position: -200% 0; }
  }
  
  /* 图片懒加载占位 */
  img[data-src] {
    background: #f5f5f5;
    min-height: 200px;
  }
</style>

{{/* 预加载重要资源 */}}
<link rel="preload" href="{{ "scss/style.min.css" | relURL }}" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="{{ "scss/style.min.css" | relURL }}"></noscript>

{{/* DNS 预解析 */}}
<link rel="dns-prefetch" href="//fonts.googleapis.com">
<link rel="dns-prefetch" href="//www.google-analytics.com">

{{/* 预连接到重要的第三方域名 */}}
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
