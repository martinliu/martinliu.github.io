<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="K8s在2017年底为这场速战速决的站点话上了句号，结果是所有竞争对手都选择了增加对K8s的支持。在各自的编排器框架里内置了K8s。本文是根据Mesosphere公司的大拿Karl KARL ISENBERG在各种大会上分享过多次的一份演讲稿改版的。\n"><title>容器编排器之战</title><link rel=canonical href=https://martinliu.cn/blog/container-orchestration-wars/><link rel=stylesheet href=/scss/style.min.6cdf49b1ce11fdcb5b101472ec608dcfd7395a19af16339a150cd1a4536b6113.css><meta property='og:title' content="容器编排器之战"><meta property='og:description' content="K8s在2017年底为这场速战速决的站点话上了句号，结果是所有竞争对手都选择了增加对K8s的支持。在各自的编排器框架里内置了K8s。本文是根据Mesosphere公司的大拿Karl KARL ISENBERG在各种大会上分享过多次的一份演讲稿改版的。\n"><meta property='og:url' content='https://martinliu.cn/blog/container-orchestration-wars/'><meta property='og:site_name' content="Martin Liu's Blog"><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='container'><meta property='article:published_time' content='2018-01-12T23:33:32+08:00'><meta property='article:modified_time' content='2024-06-25T21:44:26+08:00'><meta property='og:image' content='https://martinliu.cn/images/abstract-11.jpg'><meta name=twitter:title content="容器编排器之战"><meta name=twitter:description content="K8s在2017年底为这场速战速决的站点话上了句号，结果是所有竞争对手都选择了增加对K8s的支持。在各自的编排器框架里内置了K8s。本文是根据Mesosphere公司的大拿Karl KARL ISENBERG在各种大会上分享过多次的一份演讲稿改版的。\n"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content='https://martinliu.cn/images/abstract-11.jpg'><script async src="https://www.googletagmanager.com/gtag/js?id=G-30EQ6H78E5"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-30EQ6H78E5")}</script></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_f0b419c0df6404b3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>Martin Liu's Blog</a></h1><h2 class=site-description>Founder of DevOps China</h2></div></header><ol class=menu-social><li><a href=https://github.com/martinliu/ target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.linkedin.com/in/liuzheng/ target=_blank title=LinkedIn rel=me><svg viewBox="0 0 32 32" width="32" height="32"><path d="M7.5 5C6.132813 5 5 6.132813 5 7.5v17C5 25.867188 6.132813 27 7.5 27h17c1.367188.0 2.5-1.132812 2.5-2.5V7.5C27 6.132813 25.867188 5 24.5 5zm0 2h17C24.785156 7 25 7.214844 25 7.5v17C25 24.785156 24.785156 25 24.5 25H7.5C7.214844 25 7 24.785156 7 24.5V7.5c0-.285156.214844-.5.5-.5zm2.9375 1.71875C9.488281 8.71875 8.71875 9.488281 8.71875 10.4375S9.488281 12.15625 10.4375 12.15625 12.15625 11.386719 12.15625 10.4375 11.386719 8.71875 10.4375 8.71875zm9.03125 4.5625c-1.433594.0-2.386719.785156000000001-2.78125 1.53125H16.625V13.5H13.8125V23H16.75V18.3125C16.75 17.074219 16.996094 15.875 18.53125 15.875c1.511719.0 1.53125 1.398438 1.53125 2.5V23H23V17.78125c0-2.554687-.542968999999999-4.5-3.53125-4.5zM9 13.5V23h2.96875V13.5z"/></svg></a></li><li><a href=https://twitter.com/martinliu target=_blank title=Twitter rel=me><svg class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>首页</span></a></li><li><a href=/about/><svg class="icon icon-tabler icon-tabler-messages" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M21 14l-3-3h-7a1 1 0 01-1-1V4a1 1 0 011-1h9a1 1 0 011 1v10"/><path d="M14 15v2a1 1 0 01-1 1H6l-3 3V11a1 1 0 011-1h2"/></svg>
<span>关于</span></a></li><li><a href=/course/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>课程</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>搜索</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>归档</span></a></li><li><a href=/links/><svg class="icon icon-tabler icon-tabler-link" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M10 14a3.5 3.5.0 005 0l4-4a3.5 3.5.0 00-5-5l-.5.5"/><path d="M14 10a3.5 3.5.0 00-5 0l-4 4a3.5 3.5.0 005 5l.5-.5"/></svg>
<span>链接</span></a></li><li class=menu-bottom-section><ol class=menu><li id=i18n-switch><svg class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg>
<select name=language title=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://martinliu.cn/ selected>中文</option><option value=https://martinliu.cn/en/>English</option></select></li><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>暗色模式</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#karl-isenberg-是谁>KARL ISENBERG 是谁？</a></li><li><a href=#基础架构的进化>基础架构的进化</a><ol><li><a href=#可扩展的单体应用架构>可扩展的单体应用架构</a></li><li><a href=#可扩展的微服务架构>可扩展的微服务架构</a></li><li><a href=#应用裸金属服务器>应用+裸金属服务器</a></li><li><a href=#应用iaas>应用+IaaS</a></li><li><a href=#应用paasapaasiaas>应用+PaaS/aPaaS+IaaS</a></li><li><a href=#容器编排器iaas>容器编排器+IaaS</a></li><li><a href=#caasiaas>CaaS+IaaS</a></li><li><a href=#caas裸金属服务器>CaaS+裸金属服务器</a></li><li><a href=#faasiaas>FaaS+IaaS</a></li><li><a href=#faascaas>FaaS+CaaS</a></li><li><a href=#faascaasiaas>FaaS+CaaS+IaaS</a></li></ol></li><li><a href=#平台频谱---platform-spectrum>平台频谱 - PLATFORM SPECTRUM</a></li><li><a href=#容器平台层次>容器平台层次</a></li><li><a href=#容器平台功能点>容器平台功能点</a><ol><li><a href=#运行态的能力>运行态的能力</a></li><li><a href=#编排器的能力>编排器的能力</a></li><li><a href=#运维方面的能力>运维方面的能力</a></li><li><a href=#平台的能力>平台的能力</a></li></ol></li><li><a href=#容器平台对比>容器平台对比</a><ol><li><a href=#调度>调度</a></li><li><a href=#资源管理>资源管理</a></li><li><a href=#服务管理>服务管理</a></li></ol></li><li><a href=#如何选择>如何选择</a><ol><li><a href=#第一阵营重量级>第一阵营：重量级</a></li><li><a href=#第二阵营轻量级>第二阵营：轻量级</a></li><li><a href=#karl个人的考察点>Karl个人的考察点？</a></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/blog/container-orchestration-wars/><img src=/images/abstract-11.jpg loading=lazy alt="Featured image of post 容器编排器之战"></a></div><div class=article-details><header class=article-category><a href=/categories/devops/ style=background-color:#2a9d8f;color:#fff>DevOps</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/blog/container-orchestration-wars/>容器编排器之战</a></h2></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>2018-01-12, Friday</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>阅读时长: 4 分钟</time></div></footer></div></header><section class=article-content><p>K8s在2017年底为这场速战速决的站点话上了句号，结果是所有竞争对手都选择了增加对K8s的支持。在各自的编排器框架里内置了K8s。本文是根据Mesosphere公司的大拿Karl KARL ISENBERG在各种大会上分享过多次的一份演讲稿改版的。</p><h2 id=karl-isenberg-是谁>KARL ISENBERG 是谁？</h2><p>所在公司?</p><ul><li>Mesosphere（当前）</li><li>Pivotal</li></ul><p>做过的产品?</p><ul><li>DC/OS</li><li>opensource</li><li>CloudFoundry</li><li>BOSH</li></ul><p>联络信息：</p><ul><li>github.com/karlkfi</li><li>twitter.com/karlkfi</li><li>linkedin.com/in/karlkfi</li><li>karl.isenberg.us</li></ul><h2 id=基础架构的进化>基础架构的进化</h2><p>传统的应用架构在逐渐向下面两种架构演变。</p><h3 id=可扩展的单体应用架构>可扩展的单体应用架构</h3><p><img src=/images/Screen%20Shot%202018-01-12%20at%2011.42.23%20PM.png loading=lazy alt="Screen Shot 2018-01-12 at 11.42.23 P"></p><p>关键词：</p><ul><li>Online 基于互联网</li><li>Latency Routed 用户访问基于延迟路由</li><li>Multi-Region 多区部署</li><li>Load Balanced 负载均衡接入</li><li>Multi-Zone 多个Zone</li><li>Replicated 应用实例多副本</li><li>Auto-Scaled 容量自动化收缩</li><li>Data Replication 区内数据多副本</li><li>Data Synchronization 跨区数据同步</li></ul><h3 id=可扩展的微服务架构>可扩展的微服务架构</h3><p><img src=/images/Screen%20Shot%202018-01-12%20at%2011.50.47%20PM.png loading=lazy alt="Screen Shot 2018-01-12 at 11.50.47 P"></p><p>上图出处：Wheel of Doom ，来自<a class=link href=https://sudo.hailoapp.com/services/2015/03/09/journey-into-a-microservice-world-part-3/ target=_blank rel=noopener>A Journey into Microservices by Hailo</a></p><h3 id=应用裸金属服务器>应用+裸金属服务器</h3><p>APPLICATION
PROVISIONING
ON
BARE METAL</p><p><img src=/images/Screen%20Shot%202018-01-12%20at%2011.54.26%20PM.png loading=lazy alt="Screen Shot 2018-01-12 at 11.54.26 P"></p><h3 id=应用iaas>应用+IaaS</h3><p>APPLICATION
PROVISIONING
ON
VIRTUAL INFRASTRUCTURE
PLATFORM
(IaaS)</p><blockquote><p>“Ultimately, utility cloud providers have
exposed how difficult it is to properly operate
data centers — and reminded all of us that the
ability to expertly operate infrastructure is
what really fuels the consumption of open
source infrastructure.”
&ndash;Brian Stein (Rackspace VP - 2017)</p></blockquote><p><img src=/images/images/Screen%20Shot%202018-01-12%20at%2011.58.36%20PM.png loading=lazy alt="Screen Shot 2018-01-12 at 11.58.36 P"></p><h3 id=应用paasapaasiaas>应用+PaaS/aPaaS+IaaS</h3><p>APPLICATION
PLATFORM
(PaaS / aPaaS)
ON
INFRASTRUCTURE
PLATFORM
(IaaS)</p><blockquote><p>“The goal of Cloud Foundry is to put more of the
controls back in the hands of developers so they can
self-provision, so there aren’t a lot of roadblocks in their way. But it gives a lot of guardrails.”
&ndash; Chip Childers (Cloud Foundry Foundation CTO - 2017)
<img src=/images/Screen%20Shot%202018-01-13%20at%2012.03.37%20AM.png loading=lazy alt="Screen Shot 2018-01-13 at 12.03.37 A"></p></blockquote><h3 id=容器编排器iaas>容器编排器+IaaS</h3><p>CONTAINER
ORCHESTRATION
ON
INFRASTRUCTURE
PLATFORM
(IaaS)</p><blockquote><p>“&mldr;traditional “PaaS” roles have now been
taken over by containers… The piece that is
left for PaaS is the part that was always the
most important part of PaaS in the first place,
and that’s the opinionated developer
experience.”
&ndash;Brendan Burns (Kubernetes Cofounder - 2017)</p></blockquote><p><img src=/images/Screen%20Shot%202018-01-13%20at%2012.08.37%20AM.png loading=lazy alt="Screen Shot 2018-01-13 at 12.08.37 A"></p><h3 id=caasiaas>CaaS+IaaS</h3><p>CONTAINER
PLATFORM
(CaaS)
ON
INFRASTRUCTURE
PLATFORM
(IaaS)
<img src=/images/Screen%20Shot%202018-01-13%20at%2012.10.28%20AM.png loading=lazy alt="Screen Shot 2018-01-13 at 12.10.28 A"></p><h3 id=caas裸金属服务器>CaaS+裸金属服务器</h3><p>CONTAINER
PLATFORM
(CaaS)
ON
BARE METAL</p><p><img src=/images/Screen%20Shot%202018-01-13%20at%2012.11.42%20AM.png loading=lazy alt="Screen Shot 2018-01-13 at 12.11.42 A"></p><h3 id=faasiaas>FaaS+IaaS</h3><p>FUNCTION
PLATFORM
(FaaS)
ON
INFRASTRUCTURE
PLATFORM
(IaaS)</p><blockquote><p>“If your PaaS can efficiently start instances in 20ms that run for half a second, then call it serverless.”
&ndash;Adrian Cockcroft-(AWS VP - 2016)</p></blockquote><p><img src=/images/Screen%20Shot%202018-01-13%20at%2012.13.46%20AM.png loading=lazy alt="Screen Shot 2018-01-13 at 12.13.46 A"></p><h3 id=faascaas>FaaS+CaaS</h3><p>FUNCTION
PLATFORM
(FaaS)
ON
CONTAINER
PLATFORM
(CaaS)
<img src=/images/Screen%20Shot%202018-01-13%20at%206.43.06%20AM.png loading=lazy alt="Screen Shot 2018-01-13 at 6.43.06 A"></p><h3 id=faascaasiaas>FaaS+CaaS+IaaS</h3><p>FUNCTION PLATFORM
(FaaS)
ON
CONTAINER PLATFORM
(CaaS)
ON
INFRASTRUCTURE PLATFORM
(IaaS)</p><p><img src=/images/Screen%20Shot%202018-01-13%20at%206.44.49%20AM.png loading=lazy alt="Screen Shot 2018-01-13 at 6.44.49 A"></p><h2 id=平台频谱---platform-spectrum>平台频谱 - PLATFORM SPECTRUM</h2><p>从左到右，资源的抽象程度不断提高；最左侧的弹性最高，最右侧的速率最高。
<img src=/images/Screen%20Shot%202018-01-13%20at%206.47.36%20AM.png loading=lazy alt="Screen Shot 2018-01-13 at 6.47.36 A"></p><p>下图是不同类型里的厂商和软件。
<img src=/images/Screen%20Shot%202018-01-13%20at%206.48.19%20AM.png loading=lazy alt="Screen Shot 2018-01-13 at 6.48.19 A"></p><h2 id=容器平台层次>容器平台层次</h2><p>容器编排器的层次如下：
<img src=/images/Screen%20Shot%202018-01-13%20at%206.49.36%20AM.png loading=lazy alt="Screen Shot 2018-01-13 at 6.49.36 A"></p><ul><li>User workloads 用户工作负载</li><li>Distributed container management 分布式容器管理</li><li>Local container management 本地容器管理</li><li>Container agnostic infrastructure 容器无关性基础架构</li></ul><p>容器平台的层次如下：
<img src=/images/Screen%20Shot%202018-01-13%20at%206.51.23%20AM.png loading=lazy alt="Screen Shot 2018-01-13 at 6.51.23 A"></p><p>CONTAINER PLATFORM</p><ul><li>User workloads 用户工作负载</li><li>System management & service enablement 系统管理和服务管理</li><li>Distributed container management 分布式容器管理</li><li>Local container management 本地容器管理</li><li>Container aware infrastructure 容器感知的基础架构</li><li>Container agnostic infrastructure 容器无关的基础架构</li></ul><p>分布式操作系统的层次如下：
<img src=/images/Screen%20Shot%202018-01-13%20at%206.52.52%20AM.png loading=lazy alt="Screen Shot 2018-01-13 at 6.52.52 A"></p><h2 id=容器平台功能点>容器平台功能点</h2><p>CONTAINER
PLATFORM
CAPABILITIES</p><h3 id=运行态的能力>运行态的能力</h3><p>1 容器</p><ul><li>Resource Isolation</li><li>Resource Constraints</li><li>Process Tree</li><li>Environment Isolation</li><li>Shell / Exec</li></ul><p>2 镜像</p><ul><li>Build</li><li>Layers</li><li>Download</li><li>Cache</li><li>Publish</li><li>Prune</li></ul><p>3 网络</p><ul><li>Container</li><li>Bridge</li><li>Host</li><li>Virtual</li><li>Overlay</li><li>Remote</li><li>User-defined</li><li>Port Mapping</li></ul><p>4 数据卷</p><ul><li>Ephemeral</li><li>Host</li><li>Backup / Restore</li><li>Copy In / Out</li><li>Shared</li></ul><h3 id=编排器的能力>编排器的能力</h3><p>调度</p><ul><li>Placement</li><li>Replication/Scaling</li><li>Readiness Checking</li><li>Resurrection</li><li>Rescheduling</li><li>Rolling Updates</li><li>Collocation</li><li>Daemons</li><li>Cron Jobs</li></ul><p>资源管理</p><ul><li>Memory</li><li>CPU</li><li>GPU</li><li>Ephemeral Volumes</li><li>Remote Persistent Volumes</li><li>Local Persistent Volumes</li><li>Ports</li><li>IPs (per container)</li></ul><p>服务管理</p><ul><li>Labels</li><li>Groups/Namespaces</li><li>Dependencies</li><li>Load Balancing (L7)</li><li>VIPs (L3/L4 LB)</li><li>DNS</li><li>DNS Proxy</li><li>Secrets</li><li>Config Mgmt</li></ul><h3 id=运维方面的能力>运维方面的能力</h3><p>管理</p><ul><li>GUI</li><li>CLI</li><li>Metrics API</li><li>Logs API</li><li>Events API</li><li>Rolling Upgrades</li><li>Backups & Restores</li></ul><p>MULTI-INFRASTRUCTURE</p><ul><li>Multi-cloud</li><li>Multi-zone</li><li>Multi-region</li><li>Hybrid-cloud</li><li>Federation</li></ul><p>系统服务</p><ul><li>Auto-Scaling</li><li>Package Management</li><li>Service Catalog</li><li>Service Brokers</li><li>Admin Proxy</li><li>API Gateway</li></ul><h3 id=平台的能力>平台的能力</h3><p>容器网络</p><ul><li>Overlay</li><li>Routing</li><li>Network Address Translation (NAT)</li><li>Firewalls</li><li>Access Control Lists</li><li>Quality of Service</li></ul><p>容器存储</p><ul><li>Local Volumes</li><li>Remote Volumes</li><li>Block Storage</li><li>File System Storage</li><li>Object Storage</li></ul><p>平台数据库</p><ul><li>Lock Service</li><li>Key-Value Database</li><li>Relational Database</li><li>Time Series Database</li></ul><p>安全</p><ul><li>User Accounts</li><li>Service Accounts</li><li>System/User Space</li><li>E2E Encryption</li><li>Non-root User Workloads</li><li>Audit Logging</li><li>Public Key Infrastructure</li><li>Certifications</li></ul><p>多租户</p><ul><li>User Groups</li><li>Permissions</li><li>RBAC</li><li>ABAC</li><li>Resource Sharing<ul><li>FIFO</li><li>Fair</li><li>Quotas</li></ul></li><li>Branding</li><li>Quality of Service</li></ul><p>非功能需求</p><p>稳定性</p><ul><li>Performance</li><li>Responsiveness</li><li>Efficiency</li></ul><p>可用性</p><ul><li>Fault Tolerance</li><li>Robustness,</li><li>Reliability,</li><li>Resilience,</li><li>Disaster Recovery</li></ul><p>灵活性</p><ul><li>Format Support,</li><li>Interoperability,</li><li>Extensibility,</li><li>Container Runtimes</li></ul><p>可用度</p><ul><li>Familiarity,</li><li>Maintainability,</li><li>Compatibility,</li><li>Debuggability</li></ul><p>可移植性</p><ul><li>Host OS,</li><li>Cloud,</li><li>Bare-Metal,</li><li>Hybrid</li></ul><p>安全性</p><ul><li>Encryption Quality,</li><li>Vulnerability Process,</li><li>Fast Patching,</li><li>Backporting</li></ul><h2 id=容器平台对比>容器平台对比</h2><p>市场里的主要技术厂商如下。
<img src=/images/Screen%20Shot%202018-01-13%20at%206.57.44%20AM.png loading=lazy alt="Screen Shot 2018-01-13 at 6.57.44 A"></p><p>其它值得考虑的厂商如下。</p><p><img src=/images/Screen%20Shot%202018-01-13%20at%206.58.36%20AM.png loading=lazy alt="Screen Shot 2018-01-13 at 6.58.36 A"></p><p>下面的能力对比的时间点是 06/2017，这个时候K8s是否能胜出还是个悬念。</p><h3 id=调度>调度</h3><p>图示说明：</p><ul><li>绿勾：包含此能力</li><li>横杠：New/External/Partial/Experimental</li></ul><p><img src=/images/Screen%20Shot%202018-01-13%20at%206.59.42%20AM.png loading=lazy alt="Screen Shot 2018-01-13 at 6.59.42 A"></p><h3 id=资源管理>资源管理</h3><p><img src=/images/Screen%20Shot%202018-01-13%20at%207.00.38%20AM.png loading=lazy alt="Screen Shot 2018-01-13 at 7.00.38 A"></p><h3 id=服务管理>服务管理</h3><p><img src=/images/Screen%20Shot%202018-01-13%20at%207.01.16%20AM.png loading=lazy alt="Screen Shot 2018-01-13 at 7.01.16 A"></p><h2 id=如何选择>如何选择</h2><h3 id=第一阵营重量级>第一阵营：重量级</h3><p>KUBERNETES</p><ul><li>Huge community</li><li>Solid API</li><li>Some assembly required</li><li>Multitude of vendors/installers</li></ul><p>OPENSHIFT</p><ul><li>Application platform based on Kubernetes</li><li>Always trailing Kubernetes releases</li><li>No assembly required</li><li>Open core, enterprise platform</li></ul><p>DC/OS</p><ul><li>Runs native applications (non-Docker)</li><li>Specialized in data services</li><li>Ambitious scope (on-prem AWS)</li><li>No assembly required</li><li>Open core, enterprise platform</li></ul><p>DOCKER</p><ul><li>Huge community</li><li>Fast moving API</li><li>Integrated orchestration and runtime</li><li>Recent pivot from runtime to orchestration</li><li>Open core, enterprise platform</li></ul><h3 id=第二阵营轻量级>第二阵营：轻量级</h3><p>EC2 CONTAINER SERVICE (ECS)</p><ul><li>Hosted-only solution</li><li>Tight integration with AWS services</li><li>Closed platform</li></ul><p>RANCHER CATTLE</p><ul><li>Gateway to Kubernetes, Mesos, and Docker</li><li>Open platform, enterprise support</li></ul><p>NOMAD</p><ul><li>Provisioner with orchestration features</li><li>Runs native applications (non-Docker)</li><li>Tight integration with Vault and Consul</li><li>Some assembly required</li><li>Open platform, enterprise support</li></ul><p>KONTENA</p><ul><li>Simple to set up</li><li>No assembly required</li><li>Open core, enterprise platform</li></ul><h3 id=karl个人的考察点>Karl个人的考察点？</h3><ul><li>Which is more important to you: <strong>velocity or flexibility</strong>?</li><li>Do you want an <strong>opinionated</strong> application platform?</li><li>Do you need to support <strong>Big Data</strong> initiatives and pipelines?</li><li>Do you want a <strong>hosted</strong> solution?</li><li>Are you willing to <strong>build out your own integrations</strong>?</li><li>Do you need <strong>on-prem & hybrid</strong> capabilities?</li><li>Do you want to avoid infrastructure <strong>lock-in</strong>?</li><li>Are you already invested in a specific infrastructure?</li><li>Are you already invested in a specific operating system?</li><li>Do you need <strong>federation and multi-region</strong>support?</li><li>Do you want <strong>multi-tenancy</strong> or is multi-instance good enough?</li><li>How important are seamless automated <strong>rolling upgrades</strong>?</li><li><strong>How many nines</strong> do your customers need?</li><li>How important is reverse compatibility & API <strong>stability</strong>?</li><li>Do you need to support <strong>non-Docker workloads</strong>?</li></ul></section><footer class=article-footer><section class=article-tags><a href=/tags/container/>Container</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>署名-非商业性使用-禁止演绎 4.0 (CC BY-NC-ND 4.0)</span></section><section class=article-lastmod><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>最后更新于 2024-06-25 21:44 CST</span></section></footer></article><div class=disqus-container><div id=disqus_thread></div><script>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//martinliu.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{typeof DISQUS=="object"&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
2007 -
2025 Martin Liu's Blog</section><section class=powerby>本博客始于 2007 年<br>使用 <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> 构建<br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.29.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>