---
title: "《企业 SRE 路线图》第六章：不限于谷歌"
date: 2024-05-04T21:41:05+08:00
description:  Google SRE 整理了一些建议，希望能帮助到更多企业。通过评估企业现有的环境、设定合理的预期，并确保企业朝着正确的方向迈出正确的步伐，企业可以从评估 SRE的原则和实践，从评估SRE在组织中的运作方式开始。
slug: google-enterprise-roadmap-to-sre-chapter6
image: pexels-anete-lusina-4792380.jpg
categories:
    - SRE
tags:
    - Google
    - 白皮书
comments: true
toc: true
draft: true
---

>译者：刘征

为了丰富本报告所提供的视角，我们采访了三位来自不同行业的SRE领导人，他们在过去几年里都以不同的方式采纳了SRE。每位领导人都有他们独特的采纳经历以及对可能会做得不同的事情的回顾，同时他们分享了自己对SRE在各自行业或组织成功运作的见解。  
  
医疗保健 // Joseph  
  
自从担任谷歌SRE领导之后，Joseph Bironas一直引领着多个医疗保健组织采用SRE。因此，他能够从行业层面展示在这一特定领域实施SRE与其他技术和创业文化相比的不同之处。由于医疗保健行业生命至关重要的工作流程，可靠性往往是首要关注点。  
  
然而，医疗保健行业面临着特定的挑战，包括组织模式、文化、预算和监管要求。  
  
在一个关注医疗设备制造等利润微薄领域，以及受FDA监管的领域工作之后，Joseph发现尽管可靠性被视为一项必要的要求，但SRE的成本效益比在医疗行业的理解程度远未达到。结果，SRE和基础设施团队可能发现自己成为一个“包罗万象的工程”团队，被牵涉进了IT成本中心，工作范围也随之大幅扩展。  
  
你可能会问，SRE团队被纳入IT成本中心管理有什么问题？当企业习惯于依照像ITIL这样的广泛IT框架来管理时，很难对SRE的价值做出判断，尤其是SRE只是ITIL的一部分——而ITIL还涉及SRE无关的硬件采购等事项。更重要的是，一个负责管理所有企业和生产IT的首席信息官，并不是最合适的人选来评估软件系统的可靠性。相反，向一个专注于软件的领导人汇报——比如工程高级副总裁或首席技术官——会更合适。  
  
在这个领域的组织通常面对一个陡峭的挑战，他们希望在还没有采纳DevOps实践的情况下引入SRE。比如，他们可能每月只发布一次软件，由于围绕法规和整个组织的合规控制必需的复杂性，CI/CD自动化几乎不存在。许多医疗保健组织根本不愿意快速部署：对一些客户而言，快速部署意味着测试不足或安全措施不够。  

实施变革的意愿——例如转向SRE——在整个行业中有很大差异，这可能源于领导层的不同优先级和风格。Joseph描述了一系列场景：在一个场景中，一个团队能够派出设计师到现场收集需求、构建新的工作流程，通过更优秀的产品革新护理服务。在另一个场景中，一个不同的团队仅被激励去超越现有竞争者，这并不需要相同的投资水平。在第三个场景中，一个团队因惯性等待自上而下的指令才开始进行任何变更或投资。根据Joseph的经验，更具前瞻性的领导层通常对客户对可靠性的需求更为敏感。  
  
与创业文化相比，有些团队的变革非常缓慢。一个特定的团队甚至质疑他们是否能在18个月内完成“任何事情”（例如采用SRE）——对于一个创业公司来说，这简直是一段漫长的岁月。在考虑这样的组织进行重大变革时，你必须有模型来帮助理解计划中的投资回报。了解J曲线（比如屋顶射击与登月射击）在这里很重要，以避免在努力的低谷期就放弃，错过真正的回报。Joseph建议每季度与团队进行检查，以保持稳定的进展节奏。他建议从事故响应开始过渡到SRE，并建立一个持续学习的循环，通过事故回顾（比如六个月）来进行，然后再专注于服务水平目标（SLO）。为了进行一项不能默默失败的“真正的投资”，你可能会寻求高层赞助，实施顶层OKRs，或专注于在你的组织中使努力变得“真实”的任何事情。不仅要从这个循环中学习，还要将学到的内容付诸行动，这点至关重要。  
  
医疗保健行业的另一个常见错误是忽视了SRE的“软件方面”，特别是当一个团队习惯于专注于传统的运营工作时：“很难想象你可以通过软件使IT支出降低XX%。”SRE的这一核心价值对领导者来说通常是一个新概念，甚至可能被一些根深蒂固的系统管理员和运营商有意反抗或破坏。忽略这一方面可能会使SRE显得极其无效。  
  
软件工程也是困难和昂贵的。即使你正在采购商业上与SRE相关的工具（尽管在多年来众多贡献者的努力下仍不完美），你也不能逃避集成工作，这在很大程度上是软件工程的一部分。  

预算用于保障系统可靠性的做法可能存在问题。约瑟夫指出，"行业缺乏 Google 在创建 SRE 时所依赖的广告收益模型。" 这限制了他们进行专业化投资的能力，迫使他们更多依赖商业化的解决方案。目前，许多企业的预算编制和规划仍旧采用逐步推进的方式，这对于 SRE 工作而言是一大挑战——因为SRE需要的探索、理解以及设计新解决方案的时间并不适合这种按部就班的工作模式。  
  
关于实践经验，他发现 SRE 的理念适用于各种行业。约瑟夫分享了一则故事，表明即使不完美的尝试也能成为有价值的开端。他曾协助的一家公司，领导层希望极其简化错误预算的概念。他们没有为关键用户体验 (CUJ) 定制合适的服务水平目标 (SLO)，而是统一设定了一个简单的SLO（99.95%的可用性）适用于所有服务。虽然这个目标易于理解，却弱化了整个工程团队对SLO概念的认识。无论是有状态或无状态的应用，批量或实时处理，所有服务都采用了同一个SLO，这最终不仅没有帮助，反而削弱了团队对这一技术的信心。同样，这也造成了毫无逻辑的错误预算，削弱了依赖这些错误预算的任何流程。  
  
然而，最终，团队开始关注并衡量之前未曾关注的指标，这本身就是有意义的。SLO为团队提供了一个新的视角，让他们开始提出以往没有考虑的问题。这一切都说明，团队成员之间的相互交流以及基于现有数据做出明智决策的重要性。  

在零售领域，家得宝（THD）的 Commodore “Kip” Primous 和 Randall Lee 分享了他们如何引入 SRE 实践、取得的成功以及目前面临的挑战。家得宝是 Google 云平台（GCP）早期的大型零售客户之一。作为他们云战略的一部分，他们引进了 SRE，遵从了最新出版的 SRE 书籍中详细描述的原则。六年后，他们最初的构建预期与现实中的成果已经大相径庭。  
  
Kip 最初担任“dot-com”业务单元的可靠性工程（RE）经理，主管家得宝电子商务网站的产品浏览功能。Randy 在 Kip 加入之前就已经在家得宝工作，并且他们共同追求的 SRE 目标是：通过更好的平台提升系统的弹性。  
  
起初，他们考虑自建云服务和数据中心，但在评估了各大云服务提供商之后，他们最终选择了 GCP。在向云端迁移的过程中，他们认识到，要想成功，必须同时改变他们的工作方式，采用类似 SRE 或者 “DevOps 2.0” 的新方法。  
  
家得宝最初的目标是要摆脱依赖于庞大的单体商业服务。Aurora 项目得到了他们副总裁的大力支持和资金投入，目标是实现规模化经济效益，缩小运营团队的规模，从依赖数百名承包商转变为更少的全职员工。  
  
此外，他们还希望提高系统的可靠性，减少对组织内其他可能协调不畅的团队的依赖。dot-com 团队渴望能够以互联网速度高效运作。  

对齐一直是至关重要的。在家得宝转向云计算之前，每次部署都是一场大型协调活动，就像发射太空穿梭机一样，这背后是多年辛勤工作的积累。团队意识到，当前的 DevOps 模式在家得宝/dot-com内部已经用到了极限。通过引入可靠性工程（RE），团队得以在新平台上遵循新的工作模式和职责范围，自信地处理任何与可靠性相关的问题。他们聘请了众多云原生工程师，并尽可能地实现了自动化。  
  
他们成功突破了限制现有 DevOps 团队的壁垒。  
  
从 2015 年到 2017 年，SRE 团队得以迅速且独立地行动，因为他们在新的云基础架构上工作，使用不同的现代工具和硬件。然而，在 2018 年，企业团队迎头赶上——SRE 不再是唯一在 GCP 上工作的团队。让人松一口气的是，随着中央企业团队改进了他们的传统模式——例如，他们意识到在新时代的短暂虚拟机（VM）环境中不应该追踪每台机器上的补丁——两个团队得以融合。通过一系列建设性的对话，dot-com 的 RE 团队与新成立的中央企业团队一起工作，帮助建立了更加适合企业的流程，并更好地遵守了公司的安全指南。此外，他们能够把广泛的 GCP 平台管理工作（计费、权限、配额等）从 RE 团队转移给了企业团队。  
  
在家得宝经历 SRE 之旅的过程中，Kip 和 Randy 观察到了几种模式和经验教训，这些对其他行业同样具有借鉴意义。  
  
让其他团队采纳 SRE 理念的过程耗费了数年时间，并且是周期性的：开始是推动合规自动化的进步，接着是成本优化，然后是访问控制，最后是网络安全。每次互动都需要大量的讨论和教育。在宕机或停机少、问题不多的安静时期，紧迫感可能来自外部事件。例如，Equifax 的大规模宕机，或者 Akamai 和 Facebook 的 DNS 问题，这些都可能促使每个人采取行动，开始新一轮的可靠性提升工作。  



家得宝成功采纳 SRE 的关键在于高层的支持。在 dot-com 部门通过 SRE 模式顺利迁移到云端后，SRE 在公司中成为了高效能的象征。很多团队都想要复制这种成功，有些甚至在没有明确定义服务水平目标（SLO）的情况下也被推动采用 SRE。然而，并非所有团队都有像 dot-com 那样的条件，从零开始并完全基于云技术。这导致一些团队难以领悟 RE 团队所带来的价值，有时甚至对角色和职责的预期产生了误解。这种不明确可能在与组织中的非正式 RE 团队互动时引发问题，尤其是那些只会机械操作、没有自动化减轻重复工作计划的人。这种经历会给团队留下负面印象，使他们对未来与 RE 团队的合作失去兴趣。  
  
Kip 警告说，如果不定期启动新的 SRE 努力，可靠性标准将会下降。RE 团队虽然打破了壁垒，但如果不持续维护，这些壁垒会重新建立起来。团队可能会产生这样的想法：“可靠性不是我的问题，是 RE 的问题！”这种观念是极其错误的。  
  
Randy 还指出，一个运转良好的 RE 团队如果没有持续的加强教育、实践可靠性工程的原则和实践，以及清晰定义的角色和职责，也会逐渐失去效能。  

目前，家得宝正全力加码推广可靠性工程（RE），但若相关变更不坚持遵循 SRE 原则，这种做法可能反而适得其反。SRE 不是解决所有问题的灵丹妙药，团队在某些场景下成功应用 SRE 后，可能会过于急切地将其推广到所有领域。例如，Kip 最近被指示在配送中心以及供应商支持的物理硬件上实施 RE，这些领域并不是 SRE 的理想应用场景。尽管提升这些系统的可靠性总是有可能的，但在非云原生环境中实施 SRE 的诸多做法会面临更多挑战。对于企业的一些部分，可能更合适的方法不是 SRE，而是价值流程图或精益等其他管理实践。为了避免这种过度推广的情况，采取一种“拉动”模式实施 SRE 或许更为合理——即不强迫团队采纳 SRE，而是作为一项服务供他们选择，让需求自然而然地出现。  
  
Kip 和 Randy 强调，关键在于对高层进行教育，并且认识到拥护者的重要性。如果没有来自高层的支持，想要获得支持任何有意义变革的资金将变得困难。通过产品开发团队来争取资金往往会遇到阻力，因为这些团队往往不愿为变革“买单”。即使他们投入资金，也只希望 SRE 直接为他们的产品目标服务。  
  
家得宝曾有一位资深领导支持建立并发展 dot-com 领域及其它业务的 RE 团队。但现在，家得宝面临着许多 RE 团队在不同项目上工作，并且他们应用 SRE 原则的能力参差不齐的局面。Randy 和 Kip 认为，如果有一位资深领导者加入，将有助于改善现状。一个负责所有 RE 角色的可靠性副总裁能够实现规模经济效应。如果没有一个统一的 RE 组织，SRE 角色可能会发生变异，不同组织中的 SRE 将会做着完全不同的工作，遵循不同的标准和原则。  


## 第七章 总结

我们希望这篇报告能够为贵公司采纳 SRE 提供洞见，并揭示可能遇到的挑战。当您清晰界定 SRE 原则，将其与具体的实践和能力相对应，并优先促进团队内部在这些方面的成长和培育时，成功的几率就会大大提高。我们也介绍了一些团队如何在大型企业中开展 SRE 实践的经历，以及他们如何面对并解决特定挑战的案例。  
  
我们相信，这份报告将助您顺利实施 SRE，从而为所有人提供更加可靠的技术体验。我们还希望，通过采纳 SRE，运维团队能够持续发展，服务能力得到扩展，同时提升开发效率。  
  
“愿您的查询总是顺畅，寻呼机永远保持静默。”  
  
关于作者  
  
James Brookbank 是 Google 的云解决方案架构师。作为解决方案架构师，他通过解决复杂的技术难题并提供专家级的架构指导，帮助客户更轻松地使用云服务。在加入 Google 之前，James 在多家大型企业担任职务，专注于 IT 基础设施和金融服务领域。  
  
Steve McGhee 是一名致力于可靠性的倡导者，他帮助团队了解如何构建和运营世界级的可靠服务。在成为倡导者之前，他在 Google 担任 SRE 超过十年，期间学习了如何扩展搜索、YouTube、Android 和云服务等全球系统。他曾在加利福尼亚、日本和英国管理过多个工程团队。Steve 还曾协助一家位于加州的企业完成向云服务的过渡。  


[]()

[]()


[]()

[]()



![]()

![]()

![]()



Feature picture ❤️ Anete Lusina: <https://www.pexels.com/photo/miniature-toy-car-on-top-of-monopoly-board-game-4792380/>
